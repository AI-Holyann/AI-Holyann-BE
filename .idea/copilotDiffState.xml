<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/src/app/api/swot/route.ts">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/app/api/swot/route.ts" />
              <option name="updatedContent" value="import {NextRequest, NextResponse} from 'next/server';&#10;import {GoogleGenAI, Type} from &quot;@google/genai&quot;;&#10;import {SwotData, StudentProfile} from &quot;@/components/types&quot;;&#10;&#10;export async function POST(request: NextRequest) {&#10;    try {&#10;        const profile: StudentProfile = await request.json();&#10;&#10;        // Check for API key&#10;        const apiKey = process.env.API_KEY;&#10;        if (!apiKey) {&#10;            return NextResponse.json(&#10;                {error: &quot;API Key is missing. Please provide a valid API_KEY in the environment.&quot;},&#10;                {status: 500}&#10;            );&#10;        }&#10;&#10;        const ai = new GoogleGenAI({apiKey});&#10;&#10;        const prompt = `&#10;    Phân tích hồ sơ học sinh sau đây cho mục tiêu du học (Ngành: ${profile.targetMajor} tại ${profile.targetCountry}).&#10;    &#10;    Thông tin hồ sơ:&#10;    - GPA: ${profile.gpa}/${profile.gpaScale}&#10;    - Trình độ Tiếng Anh: ${profile.englishLevel}&#10;    - Các hoạt động ngoại khóa: ${profile.extracurriculars.map(e =&gt; e.title).join(&quot;, &quot;)}&#10;    - Các thành tích: ${profile.achievements.join(&quot;, &quot;)}&#10;&#10;    Hãy tạo một bản phân tích SWOT chi tiết và đưa ra lời khuyên chiến lược cụ thể bằng TIẾNG VIỆT.&#10;    Đồng thời đánh giá điểm số (thang 1-100) cho 4 khía cạnh: học thuật, hoạt động ngoại khóa, kỹ năng mềm, và ngoại ngữ dựa trên hồ sơ này.&#10;  `;&#10;&#10;        const response = await ai.models.generateContent({&#10;            model: &quot;gemini-2.0-flash&quot;,&#10;            contents: prompt,&#10;            config: {&#10;                responseMimeType: &quot;application/json&quot;,&#10;                responseSchema: {&#10;                    type: Type.OBJECT,&#10;                    properties: {&#10;                        strengths: {&#10;                            type: Type.ARRAY,&#10;                            items: {type: Type.STRING},&#10;                            description: &quot;Danh sách 3-5 điểm mạnh nội tại nổi bật (Tiếng Việt).&quot;&#10;                        },&#10;                        weaknesses: {&#10;                            type: Type.ARRAY,&#10;                            items: {type: Type.STRING},&#10;                            description: &quot;Danh sách 3-5 điểm yếu hoặc lĩnh vực cần cải thiện (Tiếng Việt).&quot;&#10;                        },&#10;                        opportunities: {&#10;                            type: Type.ARRAY,&#10;                            items: {type: Type.STRING},&#10;                            description: &quot;Các cơ hội bên ngoài phù hợp với ngành học và quốc gia mục tiêu (Tiếng Việt).&quot;&#10;                        },&#10;                        threats: {&#10;                            type: Type.ARRAY,&#10;                            items: {type: Type.STRING},&#10;                            description: &quot;Các thách thức bên ngoài như cạnh tranh, visa, văn hóa (Tiếng Việt).&quot;&#10;                        },&#10;                        strategicAdvice: {&#10;                            type: Type.ARRAY,&#10;                            items: {&#10;                                type: Type.OBJECT,&#10;                                properties: {&#10;                                    title: {type: Type.STRING, description: &quot;Tiêu đề chiến lược ngắn gọn (Tiếng Việt)&quot;},&#10;                                    description: {&#10;                                        type: Type.STRING,&#10;                                        description: &quot;Mô tả chi tiết hành động cần làm (Tiếng Việt)&quot;&#10;                                    }&#10;                                },&#10;                                required: [&quot;title&quot;, &quot;description&quot;]&#10;                            },&#10;                            description: &quot;3 bước chiến lược hành động cụ thể.&quot;&#10;                        },&#10;                        scores: {&#10;                            type: Type.OBJECT,&#10;                            properties: {&#10;                                academic: {type: Type.INTEGER, description: &quot;Điểm học thuật (1-100)&quot;},&#10;                                extracurricular: {type: Type.INTEGER, description: &quot;Điểm hoạt động ngoại khóa (1-100)&quot;},&#10;                                skills: {type: Type.INTEGER, description: &quot;Điểm kỹ năng mềm (1-100)&quot;},&#10;                                language: {type: Type.INTEGER, description: &quot;Điểm ngoại ngữ (1-100)&quot;}&#10;                            },&#10;                            required: [&quot;academic&quot;, &quot;extracurricular&quot;, &quot;skills&quot;, &quot;language&quot;],&#10;                            description: &quot;Điểm đánh giá cho 4 khía cạnh&quot;&#10;                        }&#10;                    },&#10;                    required: [&quot;strengths&quot;, &quot;weaknesses&quot;, &quot;opportunities&quot;, &quot;threats&quot;, &quot;strategicAdvice&quot;, &quot;scores&quot;]&#10;                }&#10;            }&#10;        });&#10;&#10;        if (response.text) {&#10;            const swotData: SwotData = JSON.parse(response.text);&#10;            return NextResponse.json(swotData, {status: 200});&#10;        }&#10;&#10;        return NextResponse.json(&#10;            {error: &quot;Failed to generate analysis.&quot;},&#10;            {status: 500}&#10;        );&#10;    } catch (error) {&#10;        console.error(&quot;SWOT Analysis Error:&quot;, error);&#10;        return NextResponse.json(&#10;            {error: error instanceof Error ? error.message : &quot;Internal server error&quot;},&#10;            {status: 500}&#10;        );&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/app/dashboard/chat/page.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/app/dashboard/chat/page.tsx" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="'use client';&#10;&#10;import ChatPage from '@/components/dashboard/Chat/ChatPage';&#10;import AuthHeader from '@/components/dashboard/AuthHeader';&#10;&#10;export default function ChatDashboard() {&#10;    return (&#10;        &lt;&gt;&#10;            &lt;AuthHeader/&gt;&#10;            &lt;ChatPage/&gt;&#10;        &lt;/&gt;&#10;    );&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/app/dashboard/profile/improve/page.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/app/dashboard/profile/improve/page.tsx" />
              <option name="originalContent" value="'use client';&#10;&#10;import {ProfileEnhancerPage} from '@/components/dashboard/Profile/ProfileEnhancerPage';&#10;import AuthHeader from '@/components/dashboard/AuthHeader';&#10;    return &lt;ProfileEnhancerPage/&gt;;&#10;    return &lt;ProfileEnhancerPage/&gt;;&#10;    return (&#10;        &lt;&gt;&#10;            &lt;AuthHeader/&gt;&#10;            &lt;ProfileEnhancerPage/&gt;&#10;        &lt;/&gt;&#10;    );&#10;}&#10;" />
              <option name="updatedContent" value="'use client';&#10;&#10;import {ProfileEnhancerPage} from '@/components/dashboard/Profile/ProfileEnhancerPage';&#10;import AuthHeader from '@/components/dashboard/AuthHeader';&#10;&#10;export default function ProfileImprove() {&#10;    return (&#10;        &lt;&gt;&#10;            &lt;AuthHeader/&gt;&#10;            &lt;ProfileEnhancerPage/&gt;&#10;        &lt;/&gt;&#10;    );&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/app/dashboard/swotCard/page.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/app/dashboard/swotCard/page.tsx" />
              <option name="originalContent" value="'use client';&#10;&#10;import React, {useState} from 'react';&#10;import AuthHeader from '@/components/dashboard/AuthHeader';&#10;import {useRouter} from 'next/navigation';&#10;import {SwotData, StudentProfile} from '@/components/types';&#10;import {SwotCard} from '@/components/dashboard/Profile/SwotCard';&#10;import {MOCK_STUDENT_PROFILE} from '@/service/geminiService';&#10;import {&#10;    Radar,&#10;    RadarChart,&#10;    PolarGrid,&#10;    PolarAngleAxis,&#10;    PolarRadiusAxis,&#10;    ResponsiveContainer,&#10;    Tooltip&#10;} from 'recharts';&#10;import {&#10;    ShieldCheck,&#10;    AlertOctagon,&#10;    Zap,&#10;    Target,&#10;    Sparkles,&#10;    Loader2,&#10;    ArrowLeft,&#10;    GraduationCap,&#10;    Globe,&#10;    Trophy,&#10;    BrainCircuit&#10;} from 'lucide-react';&#10;&#10;export default function SwotCardPage() {&#10;    const router = useRouter();&#10;    const [loading, setLoading] = useState(false);&#10;    const [swotData, setSwotData] = useState&lt;SwotData | null&gt;(null);&#10;    const [analyzed, setAnalyzed] = useState(false);&#10;&#10;    const handleAnalysis = async () =&gt; {&#10;        setLoading(true);&#10;        try {&#10;            const response = await fetch('/api/swot', {&#10;                method: 'POST',&#10;                headers: {&#10;                    'Content-Type': 'application/json',&#10;                },&#10;                body: JSON.stringify(MOCK_STUDENT_PROFILE),&#10;            });&#10;&#10;            if (!response.ok) {&#10;                const errorData = await response.json();&#10;&#10;                // Check if it's a quota error&#10;                if (errorData.error?.code === 429 || errorData.error?.status === 'RESOURCE_EXHAUSTED') {&#10;                    console.warn(&quot;API quota exceeded, using mock data&quot;);&#10;                    // Use mock data instead&#10;                    setSwotData(getMockSwotData());&#10;                    setAnalyzed(true);&#10;                    alert('⚠️ API Gemini đã đạt giới hạn miễn phí. Đang sử dụng dữ liệu mẫu để demo.');&#10;                    return;&#10;                }&#10;&#10;                throw new Error(errorData.error?.message || 'Failed to generate analysis');&#10;            }&#10;&#10;            const data: SwotData = await response.json();&#10;            setSwotData(data);&#10;            setAnalyzed(true);&#10;        } catch (error) {&#10;            console.error(&quot;Analysis failed&quot;, error);&#10;&#10;            // Fallback to mock data for any error&#10;            setSwotData(getMockSwotData());&#10;            setAnalyzed(true);&#10;            alert(`⚠️ Không thể kết nối API. Đang sử dụng dữ liệu mẫu để demo.\n\nLý do: ${error instanceof Error ? error.message : 'Lỗi không xác định'}`);&#10;        } finally {&#10;            setLoading(false);&#10;        }&#10;    };&#10;&#10;    // Mock SWOT data for demo purposes&#10;    const getMockSwotData = (): SwotData =&gt; ({&#10;        strengths: [&#10;            'GPA 3.8/4.0 - Năng lực học thuật vững vàng, đặc biệt xuất sắc ở các môn STEM',&#10;            'Thành tích Olympic Toán Quốc gia - Chứng tỏ tư duy logic và khả năng giải quyết vấn đề',&#10;            'Dự án AI nhận đầu tư 50 triệu đồng - Kinh nghiệm thực tế trong lĩnh vực công nghệ',&#10;            'IELTS 7.5 - Khả năng giao tiếp tiếng Anh tốt, đủ chuẩn du học'&#10;        ],&#10;        weaknesses: [&#10;            'Thiếu kinh nghiệm lãnh đạo trong các tổ chức lớn (chỉ có vai trò phó ban)',&#10;            'Hoạt động cộng đồng chưa đa dạng và thiếu tính liên tục',&#10;            'Chưa có chứng chỉ quốc tế về lập trình (AWS, Google Cloud, etc.)',&#10;            'Portfolio cá nhân chưa được trình bày chuyên nghiệp'&#10;        ],&#10;        opportunities: [&#10;            'Tham gia Hackathon quốc tế để nâng cao kỹ năng và mở rộng network',&#10;            'Đăng ký làm Teaching Assistant cho các lớp lập trình tại trường',&#10;            'Xây dựng blog công nghệ để chia sẻ kiến thức và tạo personal brand',&#10;            'Tham gia các chương trình mentorship của các trường Dream (MIT, Stanford)'&#10;        ],&#10;        threats: [&#10;            'Cạnh tranh cao từ các ứng viên quốc tế có profile mạnh hơn',&#10;            'Yêu cầu học bổng toàn phần có thể giảm tỷ lệ trúng tuyển',&#10;            'Thiếu sự nổi bật trong essay nếu không kể câu chuyện tốt',&#10;            'Deadline áp dụng sớm (ED/EA) yêu cầu hồ sơ hoàn thiện trong thời gian ngắn'&#10;        ],&#10;        strategicAdvice: [&#10;            {&#10;                title: 'Tăng cường Leadership Profile',&#10;                description: 'Trong 6 tháng tới, hãy đảm nhận vai trò Trưởng ban trong một dự án cộng đồng hoặc câu lạc bộ công nghệ. Tập trung vào impact đo đếm được (số người tham gia, kết quả đạt được).'&#10;            },&#10;            {&#10;                title: 'Xây dựng Spike (Điểm nổi bật)',&#10;                description: 'Phát triển dự án AI hiện tại thành một sản phẩm có người dùng thực. Viết case study chi tiết về quá trình phát triển, thách thức và giải pháp để làm điểm nhấn trong essay.'&#10;            },&#10;            {&#10;                title: 'Chiến lược chọn trường cân bằng',&#10;                description: 'Với profile hiện tại, phân bổ: 3 Dream schools (MIT, Stanford, CMU), 4 Match schools (UIUC, UW-Madison, Georgia Tech), 3 Safety schools. Tập trung vào các trường có chương trình CS mạnh và cơ hội học bổng.'&#10;            }&#10;        ],&#10;        scores: {&#10;            academic: 85,&#10;            language: 75,&#10;            skills: 80,&#10;            leadership: 55,&#10;            extracurricular: 65&#10;        }&#10;    });&#10;&#10;    // Prepare chart data format&#10;    const chartData = swotData?.scores ? [&#10;        {subject: 'Học thuật', A: swotData.scores.academic || 0, fullMark: 100},&#10;        {subject: 'Ngoại ngữ', A: swotData.scores.language || 0, fullMark: 100},&#10;        {subject: 'Kỹ năng', A: swotData.scores.skills || 0, fullMark: 100},&#10;        {subject: 'Lãnh đạo', A: swotData.scores.leadership || 0, fullMark: 100},&#10;        {subject: 'Hoạt động', A: swotData.scores.extracurricular || 0, fullMark: 100},&#10;    ] : [&#10;        {subject: 'Học thuật', A: 80, fullMark: 100},&#10;        {subject: 'Ngoại ngữ', A: 65, fullMark: 100},&#10;        {subject: 'Kỹ năng', A: 70, fullMark: 100},&#10;        {subject: 'Lãnh đạo', A: 50, fullMark: 100},&#10;        {subject: 'Hoạt động', A: 60, fullMark: 100},&#10;    ];&#10;&#10;    return (&#10;        &lt;div className=&quot;min-h-screen flex flex-col font-sans bg-white dark:bg-slate-950&quot;&gt;&#10;            &lt;AuthHeader/&gt;&#10;&#10;            &lt;main className=&quot;flex-grow p-6 max-w-7xl mx-auto w-full space-y-6&quot;&gt;&#10;&#10;                {/* Navigation &amp; Title */}&#10;                &lt;div className=&quot;flex flex-col md:flex-row md:items-center justify-between gap-4&quot;&gt;&#10;                    &lt;div&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; router.back()}&#10;                            className=&quot;flex items-center text-sm text-gray-500 hover:text-[var(--brand-deep)] mb-2 transition-colors&quot;&#10;                        &gt;&#10;                            &lt;ArrowLeft size={16} className=&quot;mr-1&quot;/&gt; Quay lại hồ sơ&#10;                        &lt;/button&gt;&#10;                        &lt;h2 className=&quot;text-2xl font-bold text-gray-900 dark:text-white&quot;&gt;Phân tích SWOT &amp; Định&#10;                            hướng&lt;/h2&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {!analyzed &amp;&amp; !loading &amp;&amp; (&#10;                        &lt;button&#10;                            onClick={handleAnalysis}&#10;                            className=&quot;bg-[var(--brand-deep)] hover:bg-[var(--brand-deep-darker)] text-white px-6 py-2.5 rounded-lg shadow-md hover:shadow-lg transition-all flex items-center gap-2 font-medium&quot;&#10;                        &gt;&#10;                            &lt;Sparkles className=&quot;w-5 h-5&quot;/&gt; Tạo phân tích AI&#10;                        &lt;/button&gt;&#10;                    )}&#10;                &lt;/div&gt;&#10;&#10;                {/* Profile Summary Card - Context for the Analysis */}&#10;                &lt;div&#10;                    className=&quot;bg-white dark:bg-slate-900 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-slate-800 flex flex-col md:flex-row gap-6 items-center md:items-start&quot;&gt;&#10;                    &lt;div&#10;                        className=&quot;w-20 h-20 rounded-full bg-gray-200 dark:bg-slate-700 overflow-hidden flex-shrink-0 border-2 border-white dark:border-slate-800 shadow-sm&quot;&gt;&#10;                        {/* Placeholder Avatar */}&#10;                        &lt;img src=&quot;https://api.dicebear.com/9.x/notionists/svg?seed=Felix&quot; alt=&quot;Avatar&quot;&#10;                             className=&quot;w-full h-full object-cover&quot;/&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div className=&quot;flex-grow text-center md:text-left&quot;&gt;&#10;                        &lt;h3 className=&quot;text-xl font-bold text-gray-900 dark:text-white&quot;&gt;{MOCK_STUDENT_PROFILE.name}&lt;/h3&gt;&#10;                        &lt;div className=&quot;flex flex-wrap justify-center md:justify-start gap-3 mt-2&quot;&gt;&#10;                            &lt;span&#10;                                className=&quot;px-3 py-1 bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-200 text-xs font-semibold rounded-full flex items-center gap-1&quot;&gt;&#10;                                &lt;GraduationCap size={12}/&gt; GPA: {MOCK_STUDENT_PROFILE.gpa}&#10;                            &lt;/span&gt;&#10;                            &lt;span&#10;                                className=&quot;px-3 py-1 bg-purple-50 dark:bg-purple-900 text-purple-700 dark:text-purple-200 text-xs font-semibold rounded-full flex items-center gap-1&quot;&gt;&#10;                                &lt;Globe size={12}/&gt; {MOCK_STUDENT_PROFILE.englishLevel}&#10;                            &lt;/span&gt;&#10;                            &lt;span&#10;                                className=&quot;px-3 py-1 bg-orange-50 dark:bg-orange-900 text-orange-700 dark:text-orange-200 text-xs font-semibold rounded-full flex items-center gap-1&quot;&gt;&#10;                                &lt;Trophy size={12}/&gt; {MOCK_STUDENT_PROFILE.targetMajor}&#10;                            &lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                    {analyzed &amp;&amp; swotData &amp;&amp; (&#10;                        &lt;div className=&quot;text-right hidden md:block&quot;&gt;&#10;                            &lt;p className=&quot;text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide&quot;&gt;Điểm đánh&#10;                                giá chung&lt;/p&gt;&#10;                            &lt;div className=&quot;text-3xl font-bold text-[var(--brand-deep)]&quot;&gt;&#10;                                {swotData?.scores ? Math.round(((Object.values(swotData.scores) as number[]).reduce((a, b) =&gt; a + b, 0)) / 5) : '--'}&#10;                                &lt;span className=&quot;text-lg text-gray-400 dark:text-gray-500 font-normal&quot;&gt;/100&lt;/span&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    )}&#10;                &lt;/div&gt;&#10;&#10;                {/* Loading State */}&#10;                {loading &amp;&amp; (&#10;                    &lt;div&#10;                        className=&quot;bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-100 dark:border-slate-800 p-12 text-center animate-pulse&quot;&gt;&#10;                        &lt;Loader2 className=&quot;w-12 h-12 text-[var(--brand-deep)] animate-spin mx-auto mb-4&quot;/&gt;&#10;                        &lt;h3 className=&quot;text-lg font-medium text-gray-900 dark:text-white&quot;&gt;Đang phân tích hồ sơ...&lt;/h3&gt;&#10;                        &lt;p className=&quot;text-gray-500 dark:text-gray-400 text-sm&quot;&gt;Hệ thống đang tổng hợp dữ liệu và so&#10;                            sánh với tiêu chuẩn du học.&lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                )}&#10;&#10;                {/* Results Dashboard */}&#10;                {analyzed &amp;&amp; swotData &amp;&amp; (&#10;                    &lt;div className=&quot;space-y-6 animate-in fade-in duration-700&quot;&gt;&#10;&#10;                        {/* Top Row: Chart + Strategy */}&#10;                        &lt;div className=&quot;grid grid-cols-1 lg:grid-cols-3 gap-6&quot;&gt;&#10;&#10;                            {/* Radar Chart */}&#10;                            &lt;div&#10;                                className=&quot;bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-100 dark:border-slate-800 p-4 lg:col-span-1 flex flex-col items-center&quot;&gt;&#10;                                &lt;h4 className=&quot;w-full font-bold text-gray-800 dark:text-gray-200 mb-2 flex items-center gap-2 border-b border-gray-100 dark:border-slate-700 pb-3&quot;&gt;&#10;                                    &lt;BrainCircuit size={18} className=&quot;text-[#0f6093]&quot;/&gt; Biểu đồ năng lực&#10;                                &lt;/h4&gt;&#10;                                &lt;div className=&quot;w-full h-[300px] -ml-4&quot;&gt;&#10;                                    &lt;ResponsiveContainer width=&quot;100%&quot; height=&quot;100%&quot;&gt;&#10;                                        &lt;RadarChart cx=&quot;50%&quot; cy=&quot;50%&quot; outerRadius=&quot;80%&quot; data={chartData}&gt;&#10;                                            &lt;PolarGrid stroke=&quot;#E2E8F0&quot;/&gt;&#10;                                            &lt;PolarAngleAxis dataKey=&quot;subject&quot;&#10;                                                            tick={{fill: '#64748B', fontSize: 12, fontWeight: 500}}/&gt;&#10;                                            &lt;PolarRadiusAxis angle={30} domain={[0, 100]} tick={false}&#10;                                                             axisLine={false}/&gt;&#10;                                            &lt;Radar&#10;                                                name=&quot;Học sinh&quot;&#10;                                                dataKey=&quot;A&quot;&#10;                                                stroke=&quot;#0f6093&quot;&#10;                                                fill=&quot;#0f6093&quot;&#10;                                                fillOpacity={0.5}&#10;                                            /&gt;&#10;                                            &lt;Tooltip/&gt;&#10;                                        &lt;/RadarChart&gt;&#10;                                    &lt;/ResponsiveContainer&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            {/* Strategic Advice */}&#10;                            &lt;div&#10;                                className=&quot;bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-100 dark:border-slate-800 p-6 lg:col-span-2 relative overflow-hidden&quot;&gt;&#10;                                &lt;div&#10;                                    className=&quot;absolute top-0 right-0 w-32 h-32 bg-yellow-400 opacity-5 rounded-bl-full pointer-events-none&quot;&gt;&lt;/div&gt;&#10;&#10;                                &lt;h4 className=&quot;font-bold text-gray-800 dark:text-gray-200 mb-6 flex items-center gap-2&quot;&gt;&#10;                                    &lt;span&#10;                                        className=&quot;p-1.5 bg-yellow-100 dark:bg-yellow-900 text-yellow-600 dark:text-yellow-400 rounded-lg&quot;&gt;&#10;                                        &lt;Sparkles size={18}/&gt;&#10;                                    &lt;/span&gt;&#10;                                    Chiến lược trọng tâm&#10;                                &lt;/h4&gt;&#10;&#10;                                &lt;div className=&quot;grid gap-4&quot;&gt;&#10;                                    {swotData.strategicAdvice.map((item, idx) =&gt; (&#10;                                        &lt;div key={idx}&#10;                                             className=&quot;flex gap-4 p-4 rounded-lg bg-slate-50 dark:bg-slate-800 border border-slate-100 dark:border-slate-700 hover:border-blue-100 dark:hover:border-blue-800 transition-colors&quot;&gt;&#10;                                            &lt;div&#10;                                                className=&quot;flex-shrink-0 w-8 h-8 rounded-full bg-[#0f6093] text-white flex items-center justify-center font-bold text-sm shadow-sm&quot;&gt;&#10;                                                {idx + 1}&#10;                                            &lt;/div&gt;&#10;                                            &lt;div&gt;&#10;                                                &lt;h5 className=&quot;font-bold text-gray-900 dark:text-white mb-1&quot;&gt;{item.title}&lt;/h5&gt;&#10;                                                &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm leading-relaxed&quot;&gt;{item.description}&lt;/p&gt;&#10;                                            &lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;                                    ))}&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        {/* SWOT Matrix Grid */}&#10;                        &lt;div&gt;&#10;                            &lt;h3 className=&quot;text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2&quot;&gt;&#10;                                Chi tiết Ma trận SWOT&#10;                                &lt;span&#10;                                    className=&quot;text-xs font-normal text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-slate-800 px-2 py-0.5 rounded-full border border-gray-200 dark:border-slate-700&quot;&gt;Được tạo bởi AI&lt;/span&gt;&#10;                            &lt;/h3&gt;&#10;&#10;                            &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 gap-6&quot;&gt;&#10;                                {/* Strengths */}&#10;                                &lt;SwotCard&#10;                                    title=&quot;Strengths (Điểm mạnh)&quot;&#10;                                    items={swotData.strengths}&#10;                                    icon={&lt;ShieldCheck size={20}/&gt;}&#10;                                    variant=&quot;success&quot;&#10;                                /&gt;&#10;&#10;                                {/* Weaknesses */}&#10;                                &lt;SwotCard&#10;                                    title=&quot;Weaknesses (Điểm yếu)&quot;&#10;                                    items={swotData.weaknesses}&#10;                                    icon={&lt;AlertOctagon size={20}/&gt;}&#10;                                    variant=&quot;danger&quot;&#10;                                /&gt;&#10;&#10;                                {/* Opportunities */}&#10;                                &lt;SwotCard&#10;                                    title=&quot;Opportunities (Cơ hội)&quot;&#10;                                    items={swotData.opportunities}&#10;                                    icon={&lt;Zap size={20}/&gt;}&#10;                                    variant=&quot;info&quot;&#10;                                /&gt;&#10;&#10;                                {/* Threats */}&#10;                                &lt;SwotCard&#10;                                    title=&quot;Threats (Thách thức)&quot;&#10;                                    items={swotData.threats}&#10;                                    icon={&lt;Target size={20}/&gt;}&#10;                                    variant=&quot;warning&quot;&#10;                                /&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className=&quot;flex justify-center pt-8 pb-10&quot;&gt;&#10;                            &lt;button&#10;                                onClick={handleAnalysis}&#10;                                className=&quot;text-sm text-gray-500 dark:text-gray-400 hover:text-[#0f6093] dark:hover:text-[#2b8cc9] flex items-center gap-2 transition-colors&quot;&#10;                            &gt;&#10;                                &lt;Loader2 size={14}/&gt; Làm mới kết quả phân tích&#10;                            &lt;/button&gt;&#10;                        &lt;/div&gt;&#10;&#10;                    &lt;/div&gt;&#10;                )}&#10;            &lt;/main&gt;&#10;        &lt;/div&gt;&#10;    );&#10;}&#10;" />
              <option name="updatedContent" value="'use client';&#10;&#10;import React, {useState} from 'react';&#10;import AuthHeader from '@/components/dashboard/AuthHeader';&#10;import {useRouter} from 'next/navigation';&#10;import {SwotData, StudentProfile} from '@/components/types';&#10;import {SwotCard} from '@/components/dashboard/Profile/SwotCard';&#10;import {MOCK_STUDENT_PROFILE} from '@/service/geminiService';&#10;import {&#10;    Radar,&#10;    RadarChart,&#10;    PolarGrid,&#10;    PolarAngleAxis,&#10;    PolarRadiusAxis,&#10;    ResponsiveContainer,&#10;    Tooltip&#10;} from 'recharts';&#10;import {&#10;    ShieldCheck,&#10;    AlertOctagon,&#10;    Zap,&#10;    Target,&#10;    Sparkles,&#10;    Loader2,&#10;    ArrowLeft,&#10;    GraduationCap,&#10;    Globe,&#10;    Trophy,&#10;    BrainCircuit&#10;} from 'lucide-react';&#10;&#10;export default function SwotCardPage() {&#10;    const router = useRouter();&#10;    const [loading, setLoading] = useState(false);&#10;    const [swotData, setSwotData] = useState&lt;SwotData | null&gt;(null);&#10;    const [analyzed, setAnalyzed] = useState(false);&#10;&#10;    const handleAnalysis = async () =&gt; {&#10;        setLoading(true);&#10;        try {&#10;            const response = await fetch('/api/swot', {&#10;                method: 'POST',&#10;                headers: {&#10;                    'Content-Type': 'application/json',&#10;                },&#10;                body: JSON.stringify(MOCK_STUDENT_PROFILE),&#10;            });&#10;&#10;            if (!response.ok) {&#10;                const errorData = await response.json();&#10;&#10;                // Check if it's a quota error&#10;                if (errorData.error?.code === 429 || errorData.error?.status === 'RESOURCE_EXHAUSTED') {&#10;                    console.warn(&quot;API quota exceeded, using mock data&quot;);&#10;                    // Use mock data instead&#10;                    setSwotData(getMockSwotData());&#10;                    setAnalyzed(true);&#10;                    alert('⚠️ API Gemini đã đạt giới hạn miễn phí. Đang sử dụng dữ liệu mẫu để demo.');&#10;                    return;&#10;                }&#10;&#10;                throw new Error(errorData.error?.message || 'Failed to generate analysis');&#10;            }&#10;&#10;            const data: SwotData = await response.json();&#10;            setSwotData(data);&#10;            setAnalyzed(true);&#10;        } catch (error) {&#10;            console.error(&quot;Analysis failed&quot;, error);&#10;&#10;            // Fallback to mock data for any error&#10;            setSwotData(getMockSwotData());&#10;            setAnalyzed(true);&#10;            alert(`⚠️ Không thể kết nối API. Đang sử dụng dữ liệu mẫu để demo.\n\nLý do: ${error instanceof Error ? error.message : 'Lỗi không xác định'}`);&#10;        } finally {&#10;            setLoading(false);&#10;        }&#10;    };&#10;&#10;    // Mock SWOT data for demo purposes&#10;    const getMockSwotData = (): SwotData =&gt; ({&#10;        strengths: [&#10;            'GPA 3.8/4.0 - Năng lực học thuật vững vàng, đặc biệt xuất sắc ở các môn STEM',&#10;            'Thành tích Olympic Toán Quốc gia - Chứng tỏ tư duy logic và khả năng giải quyết vấn đề',&#10;            'Dự án AI nhận đầu tư 50 triệu đồng - Kinh nghiệm thực tế trong lĩnh vực công nghệ',&#10;            'IELTS 7.5 - Khả năng giao tiếp tiếng Anh tốt, đủ chuẩn du học'&#10;        ],&#10;        weaknesses: [&#10;            'Thiếu kinh nghiệm lãnh đạo trong các tổ chức lớn (chỉ có vai trò phó ban)',&#10;            'Hoạt động cộng đồng chưa đa dạng và thiếu tính liên tục',&#10;            'Chưa có chứng chỉ quốc tế về lập trình (AWS, Google Cloud, etc.)',&#10;            'Portfolio cá nhân chưa được trình bày chuyên nghiệp'&#10;        ],&#10;        opportunities: [&#10;            'Tham gia Hackathon quốc tế để nâng cao kỹ năng và mở rộng network',&#10;            'Đăng ký làm Teaching Assistant cho các lớp lập trình tại trường',&#10;            'Xây dựng blog công nghệ để chia sẻ kiến thức và tạo personal brand',&#10;            'Tham gia các chương trình mentorship của các trường Dream (MIT, Stanford)'&#10;        ],&#10;        threats: [&#10;            'Cạnh tranh cao từ các ứng viên quốc tế có profile mạnh hơn',&#10;            'Yêu cầu học bổng toàn phần có thể giảm tỷ lệ trúng tuyển',&#10;            'Thiếu sự nổi bật trong essay nếu không kể câu chuyện tốt',&#10;            'Deadline áp dụng sớm (ED/EA) yêu cầu hồ sơ hoàn thiện trong thời gian ngắn'&#10;        ],&#10;        strategicAdvice: [&#10;            {&#10;                title: 'Tăng cường Leadership Profile',&#10;                description: 'Trong 6 tháng tới, hãy đảm nhận vai trò Trưởng ban trong một dự án cộng đồng hoặc câu lạc bộ công nghệ. Tập trung vào impact đo đếm được (số người tham gia, kết quả đạt được).'&#10;            },&#10;            {&#10;                title: 'Xây dựng Spike (Điểm nổi bật)',&#10;                description: 'Phát triển dự án AI hiện tại thành một sản phẩm có người dùng thực. Viết case study chi tiết về quá trình phát triển, thách thức và giải pháp để làm điểm nhấn trong essay.'&#10;            },&#10;            {&#10;                title: 'Chiến lược chọn trường cân bằng',&#10;                description: 'Với profile hiện tại, phân bổ: 3 Dream schools (MIT, Stanford, CMU), 4 Match schools (UIUC, UW-Madison, Georgia Tech), 3 Safety schools. Tập trung vào các trường có chương trình CS mạnh và cơ hội học bổng.'&#10;            }&#10;        ],&#10;        scores: {&#10;            academic: 85,&#10;            language: 75,&#10;            skills: 80,&#10;            extracurricular: 65&#10;        }&#10;    });&#10;&#10;    // Prepare chart data format&#10;    const chartData = swotData?.scores ? [&#10;        {subject: 'Học thuật', A: swotData.scores.academic || 0, fullMark: 100},&#10;        {subject: 'Hoạt động', A: swotData.scores.extracurricular || 0, fullMark: 100},&#10;        {subject: 'Kỹ năng', A: swotData.scores.skills || 0, fullMark: 100},&#10;        {subject: 'Ngoại ngữ', A: swotData.scores.language || 0, fullMark: 100},&#10;    ] : [&#10;        {subject: 'Học thuật', A: 80, fullMark: 100},&#10;        {subject: 'Hoạt động', A: 60, fullMark: 100},&#10;        {subject: 'Kỹ năng', A: 70, fullMark: 100},&#10;        {subject: 'Ngoại ngữ', A: 65, fullMark: 100},&#10;    ];&#10;&#10;    return (&#10;        &lt;div className=&quot;min-h-screen flex flex-col font-sans bg-white dark:bg-slate-950&quot;&gt;&#10;            &lt;AuthHeader/&gt;&#10;&#10;            &lt;main className=&quot;flex-grow p-6 max-w-7xl mx-auto w-full space-y-6&quot;&gt;&#10;&#10;                {/* Navigation &amp; Title */}&#10;                &lt;div className=&quot;flex flex-col md:flex-row md:items-center justify-between gap-4&quot;&gt;&#10;                    &lt;div&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; router.back()}&#10;                            className=&quot;flex items-center text-sm text-gray-500 hover:text-[var(--brand-deep)] mb-2 transition-colors&quot;&#10;                        &gt;&#10;                            &lt;ArrowLeft size={16} className=&quot;mr-1&quot;/&gt; Quay lại hồ sơ&#10;                        &lt;/button&gt;&#10;                        &lt;h2 className=&quot;text-2xl font-bold text-gray-900 dark:text-white&quot;&gt;Phân tích SWOT &amp; Định&#10;                            hướng&lt;/h2&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {!analyzed &amp;&amp; !loading &amp;&amp; (&#10;                        &lt;button&#10;                            onClick={handleAnalysis}&#10;                            className=&quot;bg-[var(--brand-deep)] hover:bg-[var(--brand-deep-darker)] text-white px-6 py-2.5 rounded-lg shadow-md hover:shadow-lg transition-all flex items-center gap-2 font-medium&quot;&#10;                        &gt;&#10;                            &lt;Sparkles className=&quot;w-5 h-5&quot;/&gt; Tạo phân tích AI&#10;                        &lt;/button&gt;&#10;                    )}&#10;                &lt;/div&gt;&#10;&#10;                {/* Profile Summary Card - Context for the Analysis */}&#10;                &lt;div&#10;                    className=&quot;bg-white dark:bg-slate-900 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-slate-800 flex flex-col md:flex-row gap-6 items-center md:items-start&quot;&gt;&#10;                    &lt;div&#10;                        className=&quot;w-20 h-20 rounded-full bg-gray-200 dark:bg-slate-700 overflow-hidden flex-shrink-0 border-2 border-white dark:border-slate-800 shadow-sm&quot;&gt;&#10;                        {/* Placeholder Avatar */}&#10;                        &lt;img src=&quot;https://api.dicebear.com/9.x/notionists/svg?seed=Felix&quot; alt=&quot;Avatar&quot;&#10;                             className=&quot;w-full h-full object-cover&quot;/&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div className=&quot;flex-grow text-center md:text-left&quot;&gt;&#10;                        &lt;h3 className=&quot;text-xl font-bold text-gray-900 dark:text-white&quot;&gt;{MOCK_STUDENT_PROFILE.name}&lt;/h3&gt;&#10;                        &lt;div className=&quot;flex flex-wrap justify-center md:justify-start gap-3 mt-2&quot;&gt;&#10;                            &lt;span&#10;                                className=&quot;px-3 py-1 bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-200 text-xs font-semibold rounded-full flex items-center gap-1&quot;&gt;&#10;                                &lt;GraduationCap size={12}/&gt; GPA: {MOCK_STUDENT_PROFILE.gpa}&#10;                            &lt;/span&gt;&#10;                            &lt;span&#10;                                className=&quot;px-3 py-1 bg-purple-50 dark:bg-purple-900 text-purple-700 dark:text-purple-200 text-xs font-semibold rounded-full flex items-center gap-1&quot;&gt;&#10;                                &lt;Globe size={12}/&gt; {MOCK_STUDENT_PROFILE.englishLevel}&#10;                            &lt;/span&gt;&#10;                            &lt;span&#10;                                className=&quot;px-3 py-1 bg-orange-50 dark:bg-orange-900 text-orange-700 dark:text-orange-200 text-xs font-semibold rounded-full flex items-center gap-1&quot;&gt;&#10;                                &lt;Trophy size={12}/&gt; {MOCK_STUDENT_PROFILE.targetMajor}&#10;                            &lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                    {analyzed &amp;&amp; swotData &amp;&amp; (&#10;                        &lt;div className=&quot;text-right hidden md:block&quot;&gt;&#10;                            &lt;p className=&quot;text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide&quot;&gt;Điểm đánh&#10;                                giá chung&lt;/p&gt;&#10;                            &lt;div className=&quot;text-3xl font-bold text-[var(--brand-deep)]&quot;&gt;&#10;                                {swotData?.scores ? Math.round(((Object.values(swotData.scores) as number[]).reduce((a, b) =&gt; a + b, 0)) / 5) : '--'}&#10;                                &lt;span className=&quot;text-lg text-gray-400 dark:text-gray-500 font-normal&quot;&gt;/100&lt;/span&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    )}&#10;                &lt;/div&gt;&#10;&#10;                {/* Loading State */}&#10;                {loading &amp;&amp; (&#10;                    &lt;div&#10;                        className=&quot;bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-100 dark:border-slate-800 p-12 text-center animate-pulse&quot;&gt;&#10;                        &lt;Loader2 className=&quot;w-12 h-12 text-[var(--brand-deep)] animate-spin mx-auto mb-4&quot;/&gt;&#10;                        &lt;h3 className=&quot;text-lg font-medium text-gray-900 dark:text-white&quot;&gt;Đang phân tích hồ sơ...&lt;/h3&gt;&#10;                        &lt;p className=&quot;text-gray-500 dark:text-gray-400 text-sm&quot;&gt;Hệ thống đang tổng hợp dữ liệu và so&#10;                            sánh với tiêu chuẩn du học.&lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                )}&#10;&#10;                {/* Results Dashboard */}&#10;                {analyzed &amp;&amp; swotData &amp;&amp; (&#10;                    &lt;div className=&quot;space-y-6 animate-in fade-in duration-700&quot;&gt;&#10;&#10;                        {/* Top Row: Chart + Strategy */}&#10;                        &lt;div className=&quot;grid grid-cols-1 lg:grid-cols-3 gap-6&quot;&gt;&#10;&#10;                            {/* Radar Chart */}&#10;                            &lt;div&#10;                                className=&quot;bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-100 dark:border-slate-800 p-4 lg:col-span-1 flex flex-col items-center&quot;&gt;&#10;                                &lt;h4 className=&quot;w-full font-bold text-gray-800 dark:text-gray-200 mb-2 flex items-center gap-2 border-b border-gray-100 dark:border-slate-700 pb-3&quot;&gt;&#10;                                    &lt;BrainCircuit size={18} className=&quot;text-[#0f6093]&quot;/&gt; Biểu đồ năng lực&#10;                                &lt;/h4&gt;&#10;                                &lt;div className=&quot;w-full h-[300px] -ml-4&quot;&gt;&#10;                                    &lt;ResponsiveContainer width=&quot;100%&quot; height=&quot;100%&quot;&gt;&#10;                                        &lt;RadarChart cx=&quot;50%&quot; cy=&quot;50%&quot; outerRadius=&quot;80%&quot; data={chartData}&gt;&#10;                                            &lt;PolarGrid stroke=&quot;#E2E8F0&quot;/&gt;&#10;                                            &lt;PolarAngleAxis dataKey=&quot;subject&quot;&#10;                                                            tick={{fill: '#64748B', fontSize: 12, fontWeight: 500}}/&gt;&#10;                                            &lt;PolarRadiusAxis angle={30} domain={[0, 100]} tick={false}&#10;                                                             axisLine={false}/&gt;&#10;                                            &lt;Radar&#10;                                                name=&quot;Học sinh&quot;&#10;                                                dataKey=&quot;A&quot;&#10;                                                stroke=&quot;#0f6093&quot;&#10;                                                fill=&quot;#0f6093&quot;&#10;                                                fillOpacity={0.5}&#10;                                            /&gt;&#10;                                            &lt;Tooltip/&gt;&#10;                                        &lt;/RadarChart&gt;&#10;                                    &lt;/ResponsiveContainer&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            {/* Strategic Advice */}&#10;                            &lt;div&#10;                                className=&quot;bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-100 dark:border-slate-800 p-6 lg:col-span-2 relative overflow-hidden&quot;&gt;&#10;                                &lt;div&#10;                                    className=&quot;absolute top-0 right-0 w-32 h-32 bg-yellow-400 opacity-5 rounded-bl-full pointer-events-none&quot;&gt;&lt;/div&gt;&#10;&#10;                                &lt;h4 className=&quot;font-bold text-gray-800 dark:text-gray-200 mb-6 flex items-center gap-2&quot;&gt;&#10;                                    &lt;span&#10;                                        className=&quot;p-1.5 bg-yellow-100 dark:bg-yellow-900 text-yellow-600 dark:text-yellow-400 rounded-lg&quot;&gt;&#10;                                        &lt;Sparkles size={18}/&gt;&#10;                                    &lt;/span&gt;&#10;                                    Chiến lược trọng tâm&#10;                                &lt;/h4&gt;&#10;&#10;                                &lt;div className=&quot;grid gap-4&quot;&gt;&#10;                                    {swotData.strategicAdvice.map((item, idx) =&gt; (&#10;                                        &lt;div key={idx}&#10;                                             className=&quot;flex gap-4 p-4 rounded-lg bg-slate-50 dark:bg-slate-800 border border-slate-100 dark:border-slate-700 hover:border-blue-100 dark:hover:border-blue-800 transition-colors&quot;&gt;&#10;                                            &lt;div&#10;                                                className=&quot;flex-shrink-0 w-8 h-8 rounded-full bg-[#0f6093] text-white flex items-center justify-center font-bold text-sm shadow-sm&quot;&gt;&#10;                                                {idx + 1}&#10;                                            &lt;/div&gt;&#10;                                            &lt;div&gt;&#10;                                                &lt;h5 className=&quot;font-bold text-gray-900 dark:text-white mb-1&quot;&gt;{item.title}&lt;/h5&gt;&#10;                                                &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm leading-relaxed&quot;&gt;{item.description}&lt;/p&gt;&#10;                                            &lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;                                    ))}&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        {/* SWOT Matrix Grid */}&#10;                        &lt;div&gt;&#10;                            &lt;h3 className=&quot;text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2&quot;&gt;&#10;                                Chi tiết Ma trận SWOT&#10;                                &lt;span&#10;                                    className=&quot;text-xs font-normal text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-slate-800 px-2 py-0.5 rounded-full border border-gray-200 dark:border-slate-700&quot;&gt;Được tạo bởi AI&lt;/span&gt;&#10;                            &lt;/h3&gt;&#10;&#10;                            &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 gap-6&quot;&gt;&#10;                                {/* Strengths */}&#10;                                &lt;SwotCard&#10;                                    title=&quot;Strengths (Điểm mạnh)&quot;&#10;                                    items={swotData.strengths}&#10;                                    icon={&lt;ShieldCheck size={20}/&gt;}&#10;                                    variant=&quot;success&quot;&#10;                                /&gt;&#10;&#10;                                {/* Weaknesses */}&#10;                                &lt;SwotCard&#10;                                    title=&quot;Weaknesses (Điểm yếu)&quot;&#10;                                    items={swotData.weaknesses}&#10;                                    icon={&lt;AlertOctagon size={20}/&gt;}&#10;                                    variant=&quot;danger&quot;&#10;                                /&gt;&#10;&#10;                                {/* Opportunities */}&#10;                                &lt;SwotCard&#10;                                    title=&quot;Opportunities (Cơ hội)&quot;&#10;                                    items={swotData.opportunities}&#10;                                    icon={&lt;Zap size={20}/&gt;}&#10;                                    variant=&quot;info&quot;&#10;                                /&gt;&#10;&#10;                                {/* Threats */}&#10;                                &lt;SwotCard&#10;                                    title=&quot;Threats (Thách thức)&quot;&#10;                                    items={swotData.threats}&#10;                                    icon={&lt;Target size={20}/&gt;}&#10;                                    variant=&quot;warning&quot;&#10;                                /&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className=&quot;flex justify-center pt-8 pb-10&quot;&gt;&#10;                            &lt;button&#10;                                onClick={handleAnalysis}&#10;                                className=&quot;text-sm text-gray-500 dark:text-gray-400 hover:text-[#0f6093] dark:hover:text-[#2b8cc9] flex items-center gap-2 transition-colors&quot;&#10;                            &gt;&#10;                                &lt;Loader2 size={14}/&gt; Làm mới kết quả phân tích&#10;                            &lt;/button&gt;&#10;                        &lt;/div&gt;&#10;&#10;                    &lt;/div&gt;&#10;                )}&#10;            &lt;/main&gt;&#10;        &lt;/div&gt;&#10;    );&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/app/register/page.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/app/register/page.tsx" />
              <option name="originalContent" value="&#10;&#10;&#10;&#10;" />
              <option name="updatedContent" value="'use client'&#10;import {useEffect} from 'react'&#10;import {useAuth, UserRole} from '@/contexts/AuthContext'&#10;import {useRouter, usePathname} from 'next/navigation'&#10;import Loading from '@/components/dashboard/Loading'&#10;import Register from '@/components/dashboard/Register'&#10;&#10;export default function RegisterPage() {&#10;    const {login, isAuthenticated, user, authReady} = useAuth()&#10;    const router = useRouter()&#10;    const pathname = usePathname()&#10;&#10;    useEffect(() =&gt; {&#10;        if (!authReady) return&#10;&#10;        if (isAuthenticated &amp;&amp; user) {&#10;            let target = '/dashboard'&#10;            switch (user.role) {&#10;                case 'admin':&#10;                    target = '/dashboard/admin'&#10;                    break&#10;                case 'mentor':&#10;                    target = '/dashboard/mentor'&#10;                    break&#10;                case 'user':&#10;                default:&#10;                    target = '/dashboard'&#10;                    break&#10;            }&#10;            if (pathname !== target) {&#10;                router.replace(target)&#10;            }&#10;        }&#10;    }, [authReady, isAuthenticated, user, router, pathname])&#10;&#10;    const handleRegister = (email: string, name: string, role: UserRole) =&gt; {&#10;        login(email, name, role)&#10;    }&#10;&#10;    if (!authReady) {&#10;        return &lt;Loading message=&quot;Đang kiểm tra quyền truy cập...&quot;/&gt;&#10;    }&#10;&#10;    return (&#10;        &lt;div className=&quot;min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50 p-4&quot;&gt;&#10;            &lt;Register onRegister={handleRegister}/&gt;&#10;        &lt;/div&gt;&#10;    )&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/Register.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/Register.tsx" />
              <option name="updatedContent" value="&quot;use client&quot;&#10;import Image from 'next/image'&#10;import { useState } from 'react'&#10;import Link from 'next/link'&#10;&#10;interface RegisterProps {&#10;    onRegister: (email: string, name: string) =&gt; void&#10;}&#10;&#10;export default function Register({ onRegister }: RegisterProps) {&#10;    const [registerData, setRegisterData] = useState({&#10;        name: '',&#10;        email: '',&#10;        password: '',&#10;        confirmPassword: ''&#10;    })&#10;&#10;    const handleRegister = (e: React.FormEvent) =&gt; {&#10;        e.preventDefault()&#10;        // Simple validation&#10;        if (registerData.password !== registerData.confirmPassword) {&#10;            alert('Mật khẩu không khớp!')&#10;            return&#10;        }&#10;&#10;        if (registerData.password.length &lt; 6) {&#10;            alert('Mật khẩu phải có ít nhất 6 ký tự!')&#10;            return&#10;        }&#10;&#10;        onRegister(registerData.email, registerData.name)&#10;    }&#10;&#10;    const handleInputChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {&#10;        setRegisterData({&#10;            ...registerData,&#10;            [e.target.name]: e.target.value&#10;        })&#10;    }&#10;&#10;    return (&#10;        &lt;div&#10;            className=&quot;w-full max-w-5xl bg-white dark:bg-card rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row border border-gray-100 dark:border-white/10 transition-all duration-300&quot;&gt;&#10;&#10;            {/* 1. LEFT SIDE - IMAGE (Banner) */}&#10;            &lt;div className=&quot;w-full md:w-1/2 relative h-64 md:h-auto min-h-[400px] md:min-h-[600px]&quot;&gt;&#10;                &lt;Image&#10;                    src=&quot;https://images.unsplash.com/photo-1541339907198-e08756dedf3f?w=800&amp;h=600&amp;fit=crop&quot;&#10;                    alt=&quot;University Campus&quot;&#10;                    fill&#10;                    className=&quot;object-cover&quot;&#10;                    loading=&quot;eager&quot;&#10;                    priority&#10;                /&gt;&#10;                {/* Overlay Gradient giúp chữ dễ đọc hơn */}&#10;                &lt;div&#10;                    className=&quot;absolute inset-0 bg-gradient-to-t from-primary/90 to-primary/20 mix-blend-multiply&quot;&gt;&lt;/div&gt;&#10;&#10;                &lt;div className=&quot;absolute bottom-8 left-8 right-8 text-white z-10&quot;&gt;&#10;                    &lt;h2 className=&quot;text-3xl font-heading font-bold mb-2 text-white&quot;&gt;Holyann Explore&lt;/h2&gt;&#10;                    &lt;p className=&quot;text-lg opacity-90 font-sans&quot;&gt;Your Gateway to Global Education&lt;/p&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            {/* 2. RIGHT SIDE - FORM */}&#10;            &lt;div&#10;                className=&quot;w-full md:w-1/2 p-8 md:p-12 flex flex-col justify-center bg-white dark:bg-card transition-colors overflow-y-auto&quot;&gt;&#10;                &lt;div className=&quot;max-w-md mx-auto w-full&quot;&gt;&#10;                    &lt;div className=&quot;text-center mb-8&quot;&gt;&#10;                        &lt;h1 className=&quot;text-3xl font-heading font-bold text-primary dark:text-sky-400 mb-2&quot;&gt;Đăng&#10;                            Ký&lt;/h1&gt;&#10;                        &lt;p className=&quot;text-muted-foreground&quot;&gt;Tham gia để bắt đầu hành trình du học của bạn&lt;/p&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;form onSubmit={handleRegister} className=&quot;space-y-5&quot;&gt;&#10;                        &lt;div&gt;&#10;                            &lt;label htmlFor=&quot;name&quot; className=&quot;block text-sm font-semibold text-foreground mb-2&quot;&gt;&#10;                                Họ và Tên&#10;                            &lt;/label&gt;&#10;                            &lt;input&#10;                                type=&quot;text&quot;&#10;                                id=&quot;name&quot;&#10;                                name=&quot;name&quot;&#10;                                value={registerData.name}&#10;                                onChange={handleInputChange}&#10;                                className=&quot;w-full px-4 py-3 bg-muted/30 dark:bg-muted/50 border border-input rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all dark:text-white&quot;&#10;                                placeholder=&quot;Nhập họ và tên&quot;&#10;                                required&#10;                            /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div&gt;&#10;                            &lt;label htmlFor=&quot;email&quot; className=&quot;block text-sm font-semibold text-foreground mb-2&quot;&gt;&#10;                                Email&#10;                            &lt;/label&gt;&#10;                            &lt;input&#10;                                type=&quot;email&quot;&#10;                                id=&quot;email&quot;&#10;                                name=&quot;email&quot;&#10;                                value={registerData.email}&#10;                                onChange={handleInputChange}&#10;                                className=&quot;w-full px-4 py-3 bg-muted/30 dark:bg-muted/50 border border-input rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all dark:text-white&quot;&#10;                                placeholder=&quot;name@example.com&quot;&#10;                                required&#10;                            /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div&gt;&#10;                            &lt;label htmlFor=&quot;password&quot; className=&quot;block text-sm font-semibold text-foreground mb-2&quot;&gt;&#10;                                Mật khẩu&#10;                            &lt;/label&gt;&#10;                            &lt;input&#10;                                type=&quot;password&quot;&#10;                                id=&quot;password&quot;&#10;                                name=&quot;password&quot;&#10;                                value={registerData.password}&#10;                                onChange={handleInputChange}&#10;                                className=&quot;w-full px-4 py-3 bg-muted/30 dark:bg-muted/50 border border-input rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all dark:text-white&quot;&#10;                                placeholder=&quot;••••••••&quot;&#10;                                required&#10;                            /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div&gt;&#10;                            &lt;label htmlFor=&quot;confirmPassword&quot; className=&quot;block text-sm font-semibold text-foreground mb-2&quot;&gt;&#10;                                Xác nhận mật khẩu&#10;                            &lt;/label&gt;&#10;                            &lt;input&#10;                                type=&quot;password&quot;&#10;                                id=&quot;confirmPassword&quot;&#10;                                name=&quot;confirmPassword&quot;&#10;                                value={registerData.confirmPassword}&#10;                                onChange={handleInputChange}&#10;                                className=&quot;w-full px-4 py-3 bg-muted/30 dark:bg-muted/50 border border-input rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all dark:text-white&quot;&#10;                                placeholder=&quot;••••••••&quot;&#10;                                required&#10;                            /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;button&#10;                            type=&quot;submit&quot;&#10;                            className=&quot;w-full bg-primary hover:bg-primary/90 text-white font-heading font-bold py-3.5 px-4 rounded-xl shadow-lg hover:shadow-primary/30 transform hover:-translate-y-0.5 transition-all duration-200&quot;&#10;                        &gt;&#10;                            Tạo Tài Khoản&#10;                        &lt;/button&gt;&#10;                    &lt;/form&gt;&#10;&#10;                    &lt;p className=&quot;mt-8 text-center text-sm text-muted-foreground&quot;&gt;&#10;                        Đã có tài khoản?{' '}&#10;                        &lt;Link href=&quot;/login&quot; className=&quot;text-accent hover:underline font-bold&quot;&gt;&#10;                            Đăng nhập ngay&#10;                        &lt;/Link&gt;&#10;                    &lt;/p&gt;&#10;&#10;                    {/* Social Login Options */}&#10;                    &lt;div className=&quot;mt-8&quot;&gt;&#10;                        &lt;div className=&quot;relative mb-6&quot;&gt;&#10;                            &lt;div className=&quot;absolute inset-0 flex items-center&quot;&gt;&#10;                                &lt;div className=&quot;w-full border-t border-border&quot;/&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;relative flex justify-center text-sm&quot;&gt;&#10;                                &lt;span&#10;                                    className=&quot;px-3 bg-white dark:bg-card text-muted-foreground&quot;&gt;Hoặc đăng ký nhanh&lt;/span&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className=&quot;grid grid-cols-2 gap-4&quot;&gt;&#10;                            &lt;button&#10;                                type=&quot;button&quot;&#10;                                className=&quot;flex items-center justify-center gap-2 px-4 py-2.5 border border-border rounded-xl hover:bg-muted transition-colors dark:text-white group&quot;&gt;&#10;                                &lt;svg className=&quot;w-5 h-5 group-hover:scale-110 transition-transform&quot; viewBox=&quot;0 0 24 24&quot;&gt;&#10;                                    &lt;path fill=&quot;#4285F4&quot;&#10;                                          d=&quot;M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z&quot;/&gt;&#10;                                    &lt;path fill=&quot;#34A853&quot;&#10;                                          d=&quot;M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z&quot;/&gt;&#10;                                    &lt;path fill=&quot;#FBBC05&quot;&#10;                                          d=&quot;M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z&quot;/&gt;&#10;                                    &lt;path fill=&quot;#EA4335&quot;&#10;                                          d=&quot;M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z&quot;/&gt;&#10;                                &lt;/svg&gt;&#10;                                &lt;span className=&quot;font-medium text-sm&quot;&gt;Google&lt;/span&gt;&#10;                            &lt;/button&gt;&#10;&#10;                            &lt;button&#10;                                type=&quot;button&quot;&#10;                                className=&quot;flex items-center justify-center gap-2 px-4 py-2.5 border border-border rounded-xl hover:bg-muted transition-colors dark:text-white group&quot;&gt;&#10;                                &lt;svg className=&quot;w-5 h-5 group-hover:scale-110 transition-transform&quot; fill=&quot;#1877F2&quot;&#10;                                     viewBox=&quot;0 0 24 24&quot;&gt;&#10;                                    &lt;path&#10;                                        d=&quot;M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z&quot;/&gt;&#10;                                &lt;/svg&gt;&#10;                                &lt;span className=&quot;font-medium text-sm&quot;&gt;Facebook&lt;/span&gt;&#10;                            &lt;/button&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    )&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/dashboard/AuthHeader.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/dashboard/AuthHeader.tsx" />
              <option name="originalContent" value="'use client'&#10;&#10;import Link from 'next/link'&#10;import {useAuth} from '@/contexts/AuthContext'&#10;import {useState, useEffect} from 'react'&#10;import {usePathname} from 'next/navigation'&#10;&#10;export default function AuthHeader() {&#10;    const {user, logout, isAuthenticated} = useAuth()&#10;    const pathname = usePathname()&#10;&#10;    // Determine initial theme safely on first render&#10;    const getInitialDark = () =&gt; {&#10;        try {&#10;            const theme = localStorage.getItem('theme')&#10;            if (theme === 'dark') return true&#10;            if (theme === 'light') return false&#10;            return typeof window !== 'undefined' &amp;&amp; window.matchMedia('(prefers-color-scheme: dark)').matches&#10;        } catch (e) {&#10;            return false&#10;        }&#10;    }&#10;&#10;    // State quản lý chế độ tối&#10;    const [isDarkMode, setIsDarkMode] = useState&lt;boolean&gt;(() =&gt; getInitialDark())&#10;&#10;    // Effect: Sync document class when isDarkMode changes&#10;    useEffect(() =&gt; {&#10;        if (isDarkMode) {&#10;            document.documentElement.classList.add('dark')&#10;        } else {&#10;            document.documentElement.classList.remove('dark')&#10;        }&#10;&#10;        // persist preference&#10;        try {&#10;            localStorage.setItem('theme', isDarkMode ? 'dark' : 'light')&#10;        } catch (e) {&#10;            // noop&#10;        }&#10;    }, [isDarkMode])&#10;&#10;    // Hàm chuyển đổi&#10;    const toggleTheme = () =&gt; {&#10;        setIsDarkMode((prev) =&gt; !prev)&#10;    }&#10;&#10;    return (&#10;        &lt;header&#10;            className=&quot;bg-gradient-to-r from-primary to-secondary text-primary-foreground px-8 py-4 shadow-md flex justify-between items-center sticky top-0 z-50 transition-colors duration-300&quot;&gt;&#10;&#10;            {/* 1. LOGO KHU VỰC */}&#10;            &lt;div className=&quot;flex items-center gap-3&quot;&gt;&#10;                &lt;Link href=&quot;/dashboard&quot; className=&quot;flex items-center gap-3 group&quot;&gt;&#10;                    &lt;div&#10;                        className=&quot;relative w-10 h-10 md:w-12 md:h-12 bg-primary-foreground/10 rounded-full flex items-center justify-center backdrop-blur-sm border border-primary-foreground/20&quot;&gt;&#10;                        {/* Logo Icon */}&#10;                        &lt;i className=&quot;fas fa-paper-plane text-accent text-lg md:text-xl transform -rotate-12 group-hover:scale-110 transition-transform&quot;&gt;&lt;/i&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Typography Logo */}&#10;                    &lt;div className=&quot;flex flex-col justify-center leading-none&quot;&gt;&#10;                        &lt;span&#10;                            className=&quot;font-heading font-extrabold text-lg md:text-xl tracking-wider text-primary-foreground group-hover:text-accent transition-colors&quot;&gt;&#10;                            HOLYANN&#10;                        &lt;/span&gt;&#10;                        &lt;span&#10;                            className=&quot;font-heading font-medium text-[0.6rem] md:text-[0.7rem] tracking-[0.3em] text-primary-foreground/90 uppercase&quot;&gt;&#10;                            Explore&#10;                        &lt;/span&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/Link&gt;&#10;            &lt;/div&gt;&#10;&#10;            {/* 2. NAVIGATION */}&#10;            &lt;nav className=&quot;hidden md:flex items-center gap-8&quot;&gt;&#10;                {[&#10;                    {name: 'DASHBOARD', href: '/dashboard'},&#10;                    {name: 'HỒ SƠ', href: '/dashboard/profile'},&#10;                    {name: 'CHECKLIST', href: '/checklist'},&#10;                    {name: 'MỤC TIÊU', href: '/dashboard/profile/schools'},&#10;                    {name: 'TRAO ĐỔI', href: '/chatbox'},&#10;                    {name: 'CÀI ĐẶT', href: '/settings'},&#10;                ].map((item) =&gt; (&#10;                    &lt;Link&#10;                        key={item.name}&#10;                        href={item.href}&#10;                        className={`&#10;                            font-heading text-sm font-semibold tracking-wide transition-all duration-300 relative py-1&#10;                            ${pathname === item.href || (item.href === '/dashboard' &amp;&amp; pathname === '/dashboard')&#10;                            ? 'text-primary-foreground after:w-full'&#10;                            : 'text-primary-foreground/80 hover:text-primary-foreground after:w-0 hover:after:w-full'&#10;                        }&#10;                            after:absolute after:bottom-0 after:left-0 after:h-[2px] after:bg-accent after:transition-all after:duration-300&#10;                        `}&#10;                    &gt;&#10;                        {item.name}&#10;                    &lt;/Link&gt;&#10;                ))}&#10;            &lt;/nav&gt;&#10;&#10;            {/* 3. USER ACTION &amp; THEME TOGGLE */}&#10;            &lt;div className=&quot;flex items-center gap-4&quot;&gt;&#10;&#10;                {/* NÚT CHUYỂN ĐỔI THEME (MỚI THÊM) */}&#10;                &lt;button&#10;                    onClick={toggleTheme}&#10;                    className=&quot;w-10 h-10 rounded-full bg-primary-foreground/10 flex items-center justify-center hover:bg-primary-foreground/20 transition-all border border-primary-foreground/10 hover:border-accent group&quot;&#10;                    title={isDarkMode ? &quot;Chuyển sang chế độ Sáng&quot; : &quot;Chuyển sang chế độ Tối&quot;}&#10;                &gt;&#10;                    {isDarkMode ? (&#10;                        // Icon Mặt trời (cho chế độ tối -&gt; bấm để sáng)&#10;                        &lt;i className=&quot;fas fa-sun text-accent text-lg group-hover:rotate-90 transition-transform&quot;&gt;&lt;/i&gt;&#10;                    ) : (&#10;                        // Icon Mặt trăng (cho chế độ sáng -&gt; bấm để tối)&#10;                        &lt;i className=&quot;fas fa-moon text-primary-foreground text-lg group-hover:-rotate-12 transition-transform&quot;&gt;&lt;/i&gt;&#10;                    )}&#10;                &lt;/button&gt;&#10;&#10;                {/* Phân cách */}&#10;                &lt;div className=&quot;h-6 w-[1px] bg-primary-foreground/20 hidden md:block&quot;&gt;&lt;/div&gt;&#10;&#10;                {isAuthenticated ? (&#10;                    &lt;div className=&quot;flex items-center gap-3 pl-2&quot;&gt;&#10;                        &lt;div className=&quot;text-right hidden lg:block&quot;&gt;&#10;                            &lt;p className=&quot;text-xs text-white font-sans&quot;&gt;XIN CHÀO,&lt;/p&gt;&#10;                            &lt;p className=&quot;text-sm font-bold font-heading text-primary-foreground max-w-[100px] truncate&quot;&gt;{user?.name}&lt;/p&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className=&quot;relative group cursor-pointer&quot;&gt;&#10;                            &lt;div&#10;                                className=&quot;w-10 h-10 bg-primary-foreground/20 rounded-full flex items-center justify-center text-primary-foreground font-bold border-2 border-primary-foreground/30 shadow-lg group-hover:border-accent transition-colors&quot;&gt;&#10;                                {user?.name.charAt(0).toUpperCase()}&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;div&#10;                                className=&quot;absolute right-0 top-full mt-2 w-32 bg-popover dark:bg-card rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform origin-top-right text-foreground&quot;&gt;&#10;                                &lt;button&#10;                                    onClick={logout}&#10;                                    className=&quot;w-full text-left px-4 py-2 text-sm text-destructive hover:bg-destructive/10 dark:hover:bg-destructive/20 rounded-lg font-medium&quot;&#10;                                &gt;&#10;                                    &lt;i className=&quot;fas fa-sign-out-alt mr-2&quot;&gt;&lt;/i&gt; Logout&#10;                                &lt;/button&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                ) : (&#10;                    &lt;div className=&quot;flex gap-3 pl-2&quot;&gt;&#10;                        &lt;Link&#10;                            href=&quot;/login&quot;&#10;                            className=&quot;hidden md:block px-5 py-2 text-sm font-heading font-bold text-primary-foreground hover:text-accent transition-colors&quot;&#10;                        &gt;&#10;                            Đăng nhập&#10;                        &lt;/Link&gt;&#10;                        &lt;Link&#10;                            href=&quot;/register&quot;&#10;                            className=&quot;px-6 py-2 text-sm font-heading font-bold bg-accent text-accent-foreground rounded-full shadow-lg hover:bg-accent/90 transform hover:-translate-y-0.5 transition-all duration-300 flex items-center gap-2&quot;&#10;                        &gt;&#10;                            Đăng ký &lt;i className=&quot;fas fa-arrow-right text-xs&quot;&gt;&lt;/i&gt;&#10;                        &lt;/Link&gt;&#10;                    &lt;/div&gt;&#10;                )}&#10;            &lt;/div&gt;&#10;        &lt;/header&gt;&#10;    )&#10;}&#10;" />
              <option name="updatedContent" value="'use client'&#10;&#10;import Link from 'next/link'&#10;import {useAuth} from '@/contexts/AuthContext'&#10;import {useState, useEffect} from 'react'&#10;import {usePathname} from 'next/navigation'&#10;&#10;export default function AuthHeader() {&#10;    const {user, logout, isAuthenticated} = useAuth()&#10;    const pathname = usePathname()&#10;&#10;    // Determine initial theme safely on first render&#10;    const getInitialDark = () =&gt; {&#10;        try {&#10;            const theme = localStorage.getItem('theme')&#10;            if (theme === 'dark') return true&#10;            if (theme === 'light') return false&#10;            return typeof window !== 'undefined' &amp;&amp; window.matchMedia('(prefers-color-scheme: dark)').matches&#10;        } catch (e) {&#10;            return false&#10;        }&#10;    }&#10;&#10;    // State quản lý chế độ tối&#10;    const [isDarkMode, setIsDarkMode] = useState&lt;boolean&gt;(() =&gt; getInitialDark())&#10;&#10;    // Effect: Sync document class when isDarkMode changes&#10;    useEffect(() =&gt; {&#10;        if (isDarkMode) {&#10;            document.documentElement.classList.add('dark')&#10;        } else {&#10;            document.documentElement.classList.remove('dark')&#10;        }&#10;&#10;        // persist preference&#10;        try {&#10;            localStorage.setItem('theme', isDarkMode ? 'dark' : 'light')&#10;        } catch (e) {&#10;            // noop&#10;        }&#10;    }, [isDarkMode])&#10;&#10;    // Hàm chuyển đổi&#10;    const toggleTheme = () =&gt; {&#10;        setIsDarkMode((prev) =&gt; !prev)&#10;    }&#10;&#10;    return (&#10;        &lt;header&#10;            className=&quot;bg-gradient-to-r from-primary to-secondary text-primary-foreground px-8 py-4 shadow-md flex justify-between items-center sticky top-0 z-50 transition-colors duration-300&quot;&gt;&#10;&#10;            {/* 1. LOGO KHU VỰC */}&#10;            &lt;div className=&quot;flex items-center gap-3&quot;&gt;&#10;                &lt;Link href=&quot;/dashboard&quot; className=&quot;flex items-center gap-3 group&quot;&gt;&#10;                    &lt;div&#10;                        className=&quot;relative w-10 h-10 md:w-12 md:h-12 bg-primary-foreground/10 rounded-full flex items-center justify-center backdrop-blur-sm border border-primary-foreground/20&quot;&gt;&#10;                        {/* Logo Icon */}&#10;                        &lt;i className=&quot;fas fa-paper-plane text-accent text-lg md:text-xl transform -rotate-12 group-hover:scale-110 transition-transform&quot;&gt;&lt;/i&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Typography Logo */}&#10;                    &lt;div className=&quot;flex flex-col justify-center leading-none&quot;&gt;&#10;                        &lt;span&#10;                            className=&quot;font-heading font-extrabold text-lg md:text-xl tracking-wider text-primary-foreground group-hover:text-accent transition-colors&quot;&gt;&#10;                            HOLYANN&#10;                        &lt;/span&gt;&#10;                        &lt;span&#10;                            className=&quot;font-heading font-medium text-[0.6rem] md:text-[0.7rem] tracking-[0.3em] text-primary-foreground/90 uppercase&quot;&gt;&#10;                            Explore&#10;                        &lt;/span&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/Link&gt;&#10;            &lt;/div&gt;&#10;&#10;            {/* 2. NAVIGATION */}&#10;            &lt;nav className=&quot;hidden md:flex items-center gap-8&quot;&gt;&#10;                {[&#10;                    {name: 'DASHBOARD', href: '/dashboard'},&#10;                    {name: 'HỒ SƠ', href: '/dashboard/profile'},&#10;                    {name: 'CHECKLIST', href: '/checklist'},&#10;                    {name: 'MỤC TIÊU', href: '/dashboard/profile/schools'},&#10;                    {name: 'TRAO ĐỔI', href: '/dashboard/chat'},&#10;                    {name: 'CÀI ĐẶT', href: '/settings'},&#10;                ].map((item) =&gt; (&#10;                    &lt;Link&#10;                        key={item.name}&#10;                        href={item.href}&#10;                        className={`&#10;                            font-heading text-sm font-semibold tracking-wide transition-all duration-300 relative py-1&#10;                            ${pathname === item.href || (item.href === '/dashboard' &amp;&amp; pathname === '/dashboard')&#10;                            ? 'text-primary-foreground after:w-full'&#10;                            : 'text-primary-foreground/80 hover:text-primary-foreground after:w-0 hover:after:w-full'&#10;                        }&#10;                            after:absolute after:bottom-0 after:left-0 after:h-[2px] after:bg-accent after:transition-all after:duration-300&#10;                        `}&#10;                    &gt;&#10;                        {item.name}&#10;                    &lt;/Link&gt;&#10;                ))}&#10;            &lt;/nav&gt;&#10;&#10;            {/* 3. USER ACTION &amp; THEME TOGGLE */}&#10;            &lt;div className=&quot;flex items-center gap-4&quot;&gt;&#10;&#10;                {/* NÚT CHUYỂN ĐỔI THEME (MỚI THÊM) */}&#10;                &lt;button&#10;                    onClick={toggleTheme}&#10;                    className=&quot;w-10 h-10 rounded-full bg-primary-foreground/10 flex items-center justify-center hover:bg-primary-foreground/20 transition-all border border-primary-foreground/10 hover:border-accent group&quot;&#10;                    title={isDarkMode ? &quot;Chuyển sang chế độ Sáng&quot; : &quot;Chuyển sang chế độ Tối&quot;}&#10;                &gt;&#10;                    {isDarkMode ? (&#10;                        // Icon Mặt trời (cho chế độ tối -&gt; bấm để sáng)&#10;                        &lt;i className=&quot;fas fa-sun text-accent text-lg group-hover:rotate-90 transition-transform&quot;&gt;&lt;/i&gt;&#10;                    ) : (&#10;                        // Icon Mặt trăng (cho chế độ sáng -&gt; bấm để tối)&#10;                        &lt;i className=&quot;fas fa-moon text-primary-foreground text-lg group-hover:-rotate-12 transition-transform&quot;&gt;&lt;/i&gt;&#10;                    )}&#10;                &lt;/button&gt;&#10;&#10;                {/* Phân cách */}&#10;                &lt;div className=&quot;h-6 w-[1px] bg-primary-foreground/20 hidden md:block&quot;&gt;&lt;/div&gt;&#10;&#10;                {isAuthenticated ? (&#10;                    &lt;div className=&quot;flex items-center gap-3 pl-2&quot;&gt;&#10;                        &lt;div className=&quot;text-right hidden lg:block&quot;&gt;&#10;                            &lt;p className=&quot;text-xs text-white font-sans&quot;&gt;XIN CHÀO,&lt;/p&gt;&#10;                            &lt;p className=&quot;text-sm font-bold font-heading text-primary-foreground max-w-[100px] truncate&quot;&gt;{user?.name}&lt;/p&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className=&quot;relative group cursor-pointer&quot;&gt;&#10;                            &lt;div&#10;                                className=&quot;w-10 h-10 bg-primary-foreground/20 rounded-full flex items-center justify-center text-primary-foreground font-bold border-2 border-primary-foreground/30 shadow-lg group-hover:border-accent transition-colors&quot;&gt;&#10;                                {user?.name.charAt(0).toUpperCase()}&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;div&#10;                                className=&quot;absolute right-0 top-full mt-2 w-32 bg-popover dark:bg-card rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform origin-top-right text-foreground&quot;&gt;&#10;                                &lt;button&#10;                                    onClick={logout}&#10;                                    className=&quot;w-full text-left px-4 py-2 text-sm text-destructive hover:bg-destructive/10 dark:hover:bg-destructive/20 rounded-lg font-medium&quot;&#10;                                &gt;&#10;                                    &lt;i className=&quot;fas fa-sign-out-alt mr-2&quot;&gt;&lt;/i&gt; Logout&#10;                                &lt;/button&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                ) : (&#10;                    &lt;div className=&quot;flex gap-3 pl-2&quot;&gt;&#10;                        &lt;Link&#10;                            href=&quot;/login&quot;&#10;                            className=&quot;hidden md:block px-5 py-2 text-sm font-heading font-bold text-primary-foreground hover:text-accent transition-colors&quot;&#10;                        &gt;&#10;                            Đăng nhập&#10;                        &lt;/Link&gt;&#10;                        &lt;Link&#10;                            href=&quot;/register&quot;&#10;                            className=&quot;px-6 py-2 text-sm font-heading font-bold bg-accent text-accent-foreground rounded-full shadow-lg hover:bg-accent/90 transform hover:-translate-y-0.5 transition-all duration-300 flex items-center gap-2&quot;&#10;                        &gt;&#10;                            Đăng ký &lt;i className=&quot;fas fa-arrow-right text-xs&quot;&gt;&lt;/i&gt;&#10;                        &lt;/Link&gt;&#10;                    &lt;/div&gt;&#10;                )}&#10;            &lt;/div&gt;&#10;        &lt;/header&gt;&#10;    )&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/dashboard/Chat/ChatPage.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/dashboard/Chat/ChatPage.tsx" />
              <option name="originalContent" value="'use client';&#10;&#10;import React, {useState, useRef, useEffect} from 'react';&#10;import {&#10;    MessageCircle, Send, Paperclip, Image, Smile, Search,&#10;    Phone, Video, MoreVertical, Users, Star, Award, BookOpen,&#10;    FileText, Target, Clock, CheckCheck, ChevronRight, X,&#10;    Sparkles, GraduationCap, PenTool, Lightbulb&#10;} from 'lucide-react';&#10;&#10;// Types&#10;interface Mentor {&#10;    id: string;&#10;    name: string;&#10;    roleCode: 'AS' | 'ACS' | 'ARD' | 'GENERAL';&#10;    roleTitle: string;&#10;    description: string;&#10;    achievements: string[];&#10;    avatar: string;&#10;    isOnline: boolean;&#10;    lastSeen?: string;&#10;}&#10;&#10;interface Message {&#10;    id: string;&#10;    senderId: string;&#10;    senderName: string;&#10;    senderAvatar: string;&#10;    content: string;&#10;    timestamp: Date;&#10;    isRead: boolean;&#10;    isMine: boolean;&#10;}&#10;&#10;interface Conversation {&#10;    id: string;&#10;    mentor: Mentor;&#10;    lastMessage: string;&#10;    lastMessageTime: Date;&#10;    unreadCount: number;&#10;    messages: Message[];&#10;}&#10;&#10;// Mock Data - Mentors&#10;const MENTORS: Record&lt;string, Mentor&gt; = {&#10;    AS: {&#10;        id: 'mentor-as',&#10;        name: 'Ms. Holy Ann',&#10;        roleCode: 'AS',&#10;        roleTitle: 'Admission Strategist',&#10;        description: 'Chịu trách nhiệm lên chiến lược tổng thể, định hướng chọn trường và ngành phù hợp với profile của học sinh.',&#10;        achievements: ['5 năm kinh nghiệm tư vấn', 'Mentor 20+ học sinh đỗ Ivy League', 'Chuyên gia scholarship hunting'],&#10;        avatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150&amp;h=150&amp;fit=crop',&#10;        isOnline: true&#10;    },&#10;    ACS: {&#10;        id: 'mentor-acs',&#10;        name: 'Mr. David Nguyen',&#10;        roleCode: 'ACS',&#10;        roleTitle: 'Academic Content Specialist',&#10;        description: 'Chuyên gia biên tập nội dung hồ sơ, review và hướng dẫn viết luận (Personal Statement, Supplemental Essays).',&#10;        achievements: ['Biên tập 500+ bài luận thành công', 'Cựu Admission Officer', 'Tác giả sách &quot;Essay that Wins&quot;'],&#10;        avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&amp;h=150&amp;fit=crop',&#10;        isOnline: true&#10;    },&#10;    ARD: {&#10;        id: 'mentor-ard',&#10;        name: 'Ms. Linh Tran',&#10;        roleCode: 'ARD',&#10;        roleTitle: 'Activity Research &amp; Development',&#10;        description: 'Phát triển Profile học sinh qua các hoạt động ngoại khóa, nghiên cứu và dự án cộng đồng có chiều sâu.',&#10;        achievements: ['Thiết kế 100+ hoạt động ngoại khóa', 'Chuyên gia STEM research', 'Kết nối với 50+ tổ chức quốc tế'],&#10;        avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&amp;h=150&amp;fit=crop',&#10;        isOnline: false,&#10;        lastSeen: '2 giờ trước'&#10;    },&#10;    GENERAL: {&#10;        id: 'mentor-general',&#10;        name: 'Box Chung',&#10;        roleCode: 'GENERAL',&#10;        roleTitle: 'Group Discussion',&#10;        description: 'Không gian thảo luận chung với tất cả các Mentor. Đặt câu hỏi và nhận tư vấn từ đội ngũ chuyên gia.',&#10;        achievements: ['Hỗ trợ 24/7', 'Phản hồi trong 24h', 'Cộng đồng học sinh năng động'],&#10;        avatar: 'https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=150&amp;h=150&amp;fit=crop',&#10;        isOnline: true&#10;    }&#10;};&#10;&#10;// Mock Messages&#10;const generateMockMessages = (mentorId: string, mentorName: string, mentorAvatar: string): Message[] =&gt; {&#10;    const now = new Date();&#10;    return [&#10;        {&#10;            id: `${mentorId}-1`,&#10;            senderId: mentorId,&#10;            senderName: mentorName,&#10;            senderAvatar: mentorAvatar,&#10;            content: 'Chào em! Chị đã xem qua hồ sơ của em rồi. Em có câu hỏi gì không?',&#10;            timestamp: new Date(now.getTime() - 3600000 * 2),&#10;            isRead: true,&#10;            isMine: false&#10;        },&#10;        {&#10;            id: `${mentorId}-2`,&#10;            senderId: 'student',&#10;            senderName: 'Bạn',&#10;            senderAvatar: '/images/avatars/avt.jpg',&#10;            content: 'Dạ chào chị! Em muốn hỏi về chiến lược chọn trường cho mùa apply năm nay ạ.',&#10;            timestamp: new Date(now.getTime() - 3600000 * 1.5),&#10;            isRead: true,&#10;            isMine: true&#10;        },&#10;        {&#10;            id: `${mentorId}-3`,&#10;            senderId: mentorId,&#10;            senderName: mentorName,&#10;            senderAvatar: mentorAvatar,&#10;            content: 'Tốt lắm! Với profile hiện tại của em (GPA 3.8, SAT 1480), chị nghĩ em nên cân nhắc danh sách 8-10 trường theo tỉ lệ: 2 Dream, 4 Match, 2 Safety.',&#10;            timestamp: new Date(now.getTime() - 3600000),&#10;            isRead: true,&#10;            isMine: false&#10;        },&#10;        {&#10;            id: `${mentorId}-4`,&#10;            senderId: 'student',&#10;            senderName: 'Bạn',&#10;            senderAvatar: '/images/avatars/avt.jpg',&#10;            content: 'Em hiểu rồi ạ. Vậy với ngành Computer Science, chị có thể gợi ý một số trường Match cho em được không ạ?',&#10;            timestamp: new Date(now.getTime() - 1800000),&#10;            isRead: true,&#10;            isMine: true&#10;        },&#10;        {&#10;            id: `${mentorId}-5`,&#10;            senderId: mentorId,&#10;            senderName: mentorName,&#10;            senderAvatar: mentorAvatar,&#10;            content: 'Với CS, em có thể target: Purdue, UIUC, UW-Madison, Wisconsin. Đây đều là trường có chương trình CS mạnh và tỉ lệ nhận phù hợp với profile của em.',&#10;            timestamp: new Date(now.getTime() - 900000),&#10;            isRead: false,&#10;            isMine: false&#10;        }&#10;    ];&#10;};&#10;&#10;// Mock Conversations&#10;const CONVERSATIONS: Conversation[] = [&#10;    {&#10;        id: 'conv-as',&#10;        mentor: MENTORS.AS,&#10;        lastMessage: 'Với CS, em có thể target: Purdue, UIUC...',&#10;        lastMessageTime: new Date(Date.now() - 900000),&#10;        unreadCount: 1,&#10;        messages: generateMockMessages(MENTORS.AS.id, MENTORS.AS.name, MENTORS.AS.avatar)&#10;    },&#10;    {&#10;        id: 'conv-acs',&#10;        mentor: MENTORS.ACS,&#10;        lastMessage: 'Bài luận của em đã được review xong, em check email nhé!',&#10;        lastMessageTime: new Date(Date.now() - 7200000),&#10;        unreadCount: 0,&#10;        messages: generateMockMessages(MENTORS.ACS.id, MENTORS.ACS.name, MENTORS.ACS.avatar)&#10;    },&#10;    {&#10;        id: 'conv-ard',&#10;        mentor: MENTORS.ARD,&#10;        lastMessage: 'Chị đã gửi danh sách các cuộc thi phù hợp cho em.',&#10;        lastMessageTime: new Date(Date.now() - 86400000),&#10;        unreadCount: 2,&#10;        messages: generateMockMessages(MENTORS.ARD.id, MENTORS.ARD.name, MENTORS.ARD.avatar)&#10;    },&#10;    {&#10;        id: 'conv-general',&#10;        mentor: MENTORS.GENERAL,&#10;        lastMessage: '[Ms. Holy Ann]: Chào cả nhà! Mọi người có câu hỏi gì...',&#10;        lastMessageTime: new Date(Date.now() - 3600000),&#10;        unreadCount: 5,&#10;        messages: generateMockMessages(MENTORS.GENERAL.id, 'Team Mentor', MENTORS.GENERAL.avatar)&#10;    }&#10;];&#10;&#10;// Helper function to get role icon&#10;const getRoleIcon = (roleCode: string) =&gt; {&#10;    switch (roleCode) {&#10;        case 'AS':&#10;            return Target;&#10;        case 'ACS':&#10;            return PenTool;&#10;        case 'ARD':&#10;            return Lightbulb;&#10;        case 'GENERAL':&#10;            return Users;&#10;        default:&#10;            return MessageCircle;&#10;    }&#10;};&#10;&#10;// Helper function to get role color&#10;const getRoleColor = (roleCode: string) =&gt; {&#10;    switch (roleCode) {&#10;        case 'AS':&#10;            return {bg: 'bg-blue-100', text: 'text-blue-600', border: 'border-blue-200'};&#10;        case 'ACS':&#10;            return {bg: 'bg-purple-100', text: 'text-purple-600', border: 'border-purple-200'};&#10;        case 'ARD':&#10;            return {bg: 'bg-emerald-100', text: 'text-emerald-600', border: 'border-emerald-200'};&#10;        case 'GENERAL':&#10;            return {bg: 'bg-orange-100', text: 'text-orange-600', border: 'border-orange-200'};&#10;        default:&#10;            return {bg: 'bg-gray-100', text: 'text-gray-600', border: 'border-gray-200'};&#10;    }&#10;};&#10;&#10;// Format time helper&#10;const formatTime = (date: Date) =&gt; {&#10;    const now = new Date();&#10;    const diff = now.getTime() - date.getTime();&#10;    const minutes = Math.floor(diff / 60000);&#10;    const hours = Math.floor(diff / 3600000);&#10;    const days = Math.floor(diff / 86400000);&#10;&#10;    if (minutes &lt; 1) return 'Vừa xong';&#10;    if (minutes &lt; 60) return `${minutes} phút`;&#10;    if (hours &lt; 24) return `${hours} giờ`;&#10;    if (days &lt; 7) return `${days} ngày`;&#10;    return date.toLocaleDateString('vi-VN');&#10;};&#10;&#10;const formatMessageTime = (date: Date) =&gt; {&#10;    return date.toLocaleTimeString('vi-VN', {hour: '2-digit', minute: '2-digit'});&#10;};&#10;&#10;// Main Component&#10;export const ChatPage: React.FC = () =&gt; {&#10;    const [conversations] = useState&lt;Conversation[]&gt;(CONVERSATIONS);&#10;    const [selectedConversation, setSelectedConversation] = useState&lt;Conversation&gt;(CONVERSATIONS[0]);&#10;    const [messageInput, setMessageInput] = useState('');&#10;    const [searchQuery, setSearchQuery] = useState('');&#10;    const [showMobileInfo, setShowMobileInfo] = useState(false);&#10;    const messagesEndRef = useRef&lt;HTMLDivElement&gt;(null);&#10;&#10;    // Auto scroll to bottom when messages change&#10;    useEffect(() =&gt; {&#10;        messagesEndRef.current?.scrollIntoView({behavior: 'smooth'});&#10;    }, [selectedConversation.messages]);&#10;&#10;    const handleSendMessage = () =&gt; {&#10;        if (!messageInput.trim()) return;&#10;&#10;        const newMessage: Message = {&#10;            id: `msg-${Date.now()}`,&#10;            senderId: 'student',&#10;            senderName: 'Bạn',&#10;            senderAvatar: '/images/avatars/avt.jpg',&#10;            content: messageInput,&#10;            timestamp: new Date(),&#10;            isRead: false,&#10;            isMine: true&#10;        };&#10;&#10;        // Add message to conversation (in real app, this would be an API call)&#10;        selectedConversation.messages.push(newMessage);&#10;        setMessageInput('');&#10;    };&#10;&#10;    const handleKeyPress = (e: React.KeyboardEvent) =&gt; {&#10;        if (e.key === 'Enter' &amp;&amp; !e.shiftKey) {&#10;            e.preventDefault();&#10;            handleSendMessage();&#10;        }&#10;    };&#10;&#10;    const filteredConversations = conversations.filter(conv =&gt;&#10;        conv.mentor.name.toLowerCase().includes(searchQuery.toLowerCase()) ||&#10;        conv.mentor.roleTitle.toLowerCase().includes(searchQuery.toLowerCase())&#10;    );&#10;&#10;    const RoleIcon = getRoleIcon(selectedConversation.mentor.roleCode);&#10;    const roleColors = getRoleColor(selectedConversation.mentor.roleCode);&#10;&#10;    return (&#10;        &lt;div className=&quot;h-[calc(100vh-theme(spacing.16))] bg-gray-50 flex overflow-hidden&quot;&gt;&#10;&#10;            {/* ========== LEFT SIDEBAR - Conversation List ========== */}&#10;            &lt;div className=&quot;w-80 bg-white border-r border-gray-200 flex flex-col hidden md:flex&quot;&gt;&#10;                {/* Header */}&#10;                &lt;div className=&quot;p-4 border-b border-gray-200&quot;&gt;&#10;                    &lt;h2 className=&quot;text-xl font-bold text-gray-900 mb-4 flex items-center gap-2&quot;&gt;&#10;                        &lt;MessageCircle className=&quot;text-blue-600&quot; size={24}/&gt;&#10;                        Trao Đổi&#10;                    &lt;/h2&gt;&#10;                    {/* Search */}&#10;                    &lt;div className=&quot;relative&quot;&gt;&#10;                        &lt;Search className=&quot;absolute left-3 top-1/2 -translate-y-1/2 text-gray-400&quot; size={18}/&gt;&#10;                        &lt;input&#10;                            type=&quot;text&quot;&#10;                            placeholder=&quot;Tìm kiếm cuộc trò chuyện...&quot;&#10;                            value={searchQuery}&#10;                            onChange={(e) =&gt; setSearchQuery(e.target.value)}&#10;                            className=&quot;w-full pl-10 pr-4 py-2.5 bg-gray-100 rounded-xl border-0 focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all text-sm&quot;&#10;                        /&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Conversation List */}&#10;                &lt;div className=&quot;flex-1 overflow-y-auto&quot;&gt;&#10;                    {filteredConversations.map((conv) =&gt; {&#10;                        const ConvIcon = getRoleIcon(conv.mentor.roleCode);&#10;                        const convColors = getRoleColor(conv.mentor.roleCode);&#10;                        const isSelected = selectedConversation.id === conv.id;&#10;&#10;                        return (&#10;                            &lt;div&#10;                                key={conv.id}&#10;                                onClick={() =&gt; setSelectedConversation(conv)}&#10;                                className={`p-4 cursor-pointer border-b border-gray-100 hover:bg-gray-50 transition-colors ${&#10;                                    isSelected ? 'bg-blue-50 border-l-4 border-l-blue-500' : ''&#10;                                }`}&#10;                            &gt;&#10;                                &lt;div className=&quot;flex items-start gap-3&quot;&gt;&#10;                                    {/* Avatar */}&#10;                                    &lt;div className=&quot;relative flex-shrink-0&quot;&gt;&#10;                                        &lt;img&#10;                                            src={conv.mentor.avatar}&#10;                                            alt={conv.mentor.name}&#10;                                            className=&quot;w-12 h-12 rounded-full object-cover border-2 border-white shadow-sm&quot;&#10;                                        /&gt;&#10;                                        {conv.mentor.isOnline &amp;&amp; (&#10;                                            &lt;div&#10;                                                className=&quot;absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 rounded-full border-2 border-white&quot;/&gt;&#10;                                        )}&#10;                                    &lt;/div&gt;&#10;&#10;                                    {/* Info */}&#10;                                    &lt;div className=&quot;flex-1 min-w-0&quot;&gt;&#10;                                        &lt;div className=&quot;flex items-center justify-between mb-1&quot;&gt;&#10;                                            &lt;h3 className={`font-semibold truncate ${isSelected ? 'text-blue-700' : 'text-gray-900'}`}&gt;&#10;                                                {conv.mentor.name}&#10;                                            &lt;/h3&gt;&#10;                                            &lt;span className=&quot;text-xs text-gray-500 flex-shrink-0 ml-2&quot;&gt;&#10;                                                {formatTime(conv.lastMessageTime)}&#10;                                            &lt;/span&gt;&#10;                                        &lt;/div&gt;&#10;&#10;                                        {/* Role Badge */}&#10;                                        &lt;div className=&quot;flex items-center gap-1.5 mb-1.5&quot;&gt;&#10;                                            &lt;span&#10;                                                className={`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${convColors.bg} ${convColors.text}`}&gt;&#10;                                                &lt;ConvIcon size={12}/&gt;&#10;                                                {conv.mentor.roleCode}&#10;                                            &lt;/span&gt;&#10;                                        &lt;/div&gt;&#10;&#10;                                        {/* Last Message */}&#10;                                        &lt;div className=&quot;flex items-center justify-between&quot;&gt;&#10;                                            &lt;p className=&quot;text-sm text-gray-600 truncate pr-2&quot;&gt;&#10;                                                {conv.lastMessage}&#10;                                            &lt;/p&gt;&#10;                                            {conv.unreadCount &gt; 0 &amp;&amp; (&#10;                                                &lt;span&#10;                                                    className=&quot;flex-shrink-0 w-5 h-5 bg-blue-600 text-white text-xs rounded-full flex items-center justify-center font-semibold&quot;&gt;&#10;                                                    {conv.unreadCount}&#10;                                                &lt;/span&gt;&#10;                                            )}&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        );&#10;                    })}&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            {/* ========== MAIN CHAT AREA ========== */}&#10;            &lt;div className=&quot;flex-1 flex flex-col bg-white&quot;&gt;&#10;                {/* Chat Header */}&#10;                &lt;div className=&quot;px-6 py-4 border-b border-gray-200 flex items-center justify-between bg-white&quot;&gt;&#10;                    &lt;div className=&quot;flex items-center gap-4&quot;&gt;&#10;                        &lt;div className=&quot;relative&quot;&gt;&#10;                            &lt;img&#10;                                src={selectedConversation.mentor.avatar}&#10;                                alt={selectedConversation.mentor.name}&#10;                                className=&quot;w-11 h-11 rounded-full object-cover border-2 border-gray-100&quot;&#10;                            /&gt;&#10;                            {selectedConversation.mentor.isOnline &amp;&amp; (&#10;                                &lt;div&#10;                                    className=&quot;absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white&quot;/&gt;&#10;                            )}&#10;                        &lt;/div&gt;&#10;                        &lt;div&gt;&#10;                            &lt;h3 className=&quot;font-bold text-gray-900&quot;&gt;{selectedConversation.mentor.name}&lt;/h3&gt;&#10;                            &lt;div className=&quot;flex items-center gap-2&quot;&gt;&#10;                                &lt;span&#10;                                    className={`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${roleColors.bg} ${roleColors.text}`}&gt;&#10;                                    &lt;RoleIcon size={12}/&gt;&#10;                                    {selectedConversation.mentor.roleTitle}&#10;                                &lt;/span&gt;&#10;                                &lt;span className=&quot;text-xs text-gray-500&quot;&gt;&#10;                                    {selectedConversation.mentor.isOnline&#10;                                        ? '● Đang hoạt động'&#10;                                        : `Hoạt động ${selectedConversation.mentor.lastSeen}`&#10;                                    }&#10;                                &lt;/span&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Action Buttons */}&#10;                    &lt;div className=&quot;flex items-center gap-2&quot;&gt;&#10;                        &lt;button&#10;                            className=&quot;p-2.5 hover:bg-gray-100 rounded-full transition-colors text-gray-600 hover:text-blue-600&quot;&gt;&#10;                            &lt;Phone size={20}/&gt;&#10;                        &lt;/button&gt;&#10;                        &lt;button&#10;                            className=&quot;p-2.5 hover:bg-gray-100 rounded-full transition-colors text-gray-600 hover:text-blue-600&quot;&gt;&#10;                            &lt;Video size={20}/&gt;&#10;                        &lt;/button&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; setShowMobileInfo(!showMobileInfo)}&#10;                            className=&quot;p-2.5 hover:bg-gray-100 rounded-full transition-colors text-gray-600 hover:text-blue-600 lg:hidden&quot;&gt;&#10;                            &lt;MoreVertical size={20}/&gt;&#10;                        &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Messages Container */}&#10;                &lt;div className=&quot;flex-1 overflow-y-auto p-6 space-y-4 bg-gradient-to-b from-gray-50/50 to-white&quot;&gt;&#10;                    {/* Date Separator */}&#10;                    &lt;div className=&quot;flex items-center justify-center&quot;&gt;&#10;                        &lt;div className=&quot;px-4 py-1.5 bg-gray-100 rounded-full text-xs text-gray-500 font-medium&quot;&gt;&#10;                            Hôm nay&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Messages */}&#10;                    {selectedConversation.messages.map((message) =&gt; (&#10;                        &lt;div&#10;                            key={message.id}&#10;                            className={`flex items-end gap-2 ${message.isMine ? 'flex-row-reverse' : ''}`}&#10;                        &gt;&#10;                            {!message.isMine &amp;&amp; (&#10;                                &lt;img&#10;                                    src={message.senderAvatar}&#10;                                    alt={message.senderName}&#10;                                    className=&quot;w-8 h-8 rounded-full object-cover flex-shrink-0&quot;&#10;                                /&gt;&#10;                            )}&#10;                            &lt;div className={`max-w-[70%] ${message.isMine ? 'items-end' : 'items-start'}`}&gt;&#10;                                &lt;div&#10;                                    className={`px-4 py-3 rounded-2xl ${&#10;                                        message.isMine&#10;                                            ? 'bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-br-md'&#10;                                            : 'bg-white border border-gray-200 text-gray-800 rounded-bl-md shadow-sm'&#10;                                    }`}&#10;                                &gt;&#10;                                    &lt;p className=&quot;text-sm leading-relaxed&quot;&gt;{message.content}&lt;/p&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div&#10;                                    className={`flex items-center gap-1 mt-1 ${message.isMine ? 'justify-end' : 'justify-start'}`}&gt;&#10;                                    &lt;span className=&quot;text-xs text-gray-400&quot;&gt;&#10;                                        {formatMessageTime(message.timestamp)}&#10;                                    &lt;/span&gt;&#10;                                    {message.isMine &amp;&amp; (&#10;                                        &lt;CheckCheck&#10;                                            size={14}&#10;                                            className={message.isRead ? 'text-blue-500' : 'text-gray-400'}&#10;                                        /&gt;&#10;                                    )}&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    ))}&#10;                    &lt;div ref={messagesEndRef}/&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Message Input */}&#10;                &lt;div className=&quot;p-4 border-t border-gray-200 bg-white&quot;&gt;&#10;                    &lt;div className=&quot;flex items-end gap-3&quot;&gt;&#10;                        {/* Attachment Buttons */}&#10;                        &lt;div className=&quot;flex items-center gap-1&quot;&gt;&#10;                            &lt;button&#10;                                className=&quot;p-2.5 hover:bg-gray-100 rounded-full transition-colors text-gray-500 hover:text-blue-600&quot;&gt;&#10;                                &lt;Paperclip size={20}/&gt;&#10;                            &lt;/button&gt;&#10;                            &lt;button&#10;                                className=&quot;p-2.5 hover:bg-gray-100 rounded-full transition-colors text-gray-500 hover:text-blue-600&quot;&gt;&#10;                                &lt;Image size={20}/&gt;&#10;                            &lt;/button&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        {/* Input Field */}&#10;                        &lt;div className=&quot;flex-1 relative&quot;&gt;&#10;                            &lt;textarea&#10;                                value={messageInput}&#10;                                onChange={(e) =&gt; setMessageInput(e.target.value)}&#10;                                onKeyPress={handleKeyPress}&#10;                                placeholder=&quot;Nhập tin nhắn...&quot;&#10;                                rows={1}&#10;                                className=&quot;w-full px-4 py-3 bg-gray-100 rounded-2xl border-0 focus:ring-2 focus:ring-blue-500 focus:bg-white resize-none text-sm transition-all&quot;&#10;                                style={{minHeight: '48px', maxHeight: '120px'}}&#10;                            /&gt;&#10;                            &lt;button&#10;                                className=&quot;absolute right-3 top-1/2 -translate-y-1/2 p-1.5 hover:bg-gray-200 rounded-full transition-colors text-gray-500&quot;&gt;&#10;                                &lt;Smile size={20}/&gt;&#10;                            &lt;/button&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        {/* Send Button */}&#10;                        &lt;button&#10;                            onClick={handleSendMessage}&#10;                            disabled={!messageInput.trim()}&#10;                            className={`p-3 rounded-full transition-all ${&#10;                                messageInput.trim()&#10;                                    ? 'bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg hover:shadow-blue-500/30 hover:scale-105'&#10;                                    : 'bg-gray-200 text-gray-400 cursor-not-allowed'&#10;                            }`}&#10;                        &gt;&#10;                            &lt;Send size={20}/&gt;&#10;                        &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            {/* ========== RIGHT SIDEBAR - Mentor Info ========== */}&#10;            &lt;div&#10;                className={`w-80 bg-white border-l border-gray-200 flex-col hidden lg:flex ${showMobileInfo ? 'fixed inset-y-0 right-0 z-50 flex shadow-2xl' : ''}`}&gt;&#10;                {/* Mobile Close Button */}&#10;                {showMobileInfo &amp;&amp; (&#10;                    &lt;button&#10;                        onClick={() =&gt; setShowMobileInfo(false)}&#10;                        className=&quot;absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full lg:hidden&quot;&#10;                    &gt;&#10;                        &lt;X size={20}/&gt;&#10;                    &lt;/button&gt;&#10;                )}&#10;&#10;                {/* Mentor Profile */}&#10;                &lt;div className=&quot;p-6 text-center border-b border-gray-200&quot;&gt;&#10;                    &lt;div className=&quot;relative inline-block mb-4&quot;&gt;&#10;                        &lt;img&#10;                            src={selectedConversation.mentor.avatar}&#10;                            alt={selectedConversation.mentor.name}&#10;                            className=&quot;w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg mx-auto&quot;&#10;                        /&gt;&#10;                        {selectedConversation.mentor.isOnline &amp;&amp; (&#10;                            &lt;div&#10;                                className=&quot;absolute bottom-1 right-1 w-5 h-5 bg-green-500 rounded-full border-3 border-white&quot;/&gt;&#10;                        )}&#10;                    &lt;/div&gt;&#10;                    &lt;h3 className=&quot;text-xl font-bold text-gray-900 mb-1&quot;&gt;{selectedConversation.mentor.name}&lt;/h3&gt;&#10;                    &lt;span&#10;                        className={`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-semibold ${roleColors.bg} ${roleColors.text}`}&gt;&#10;                        &lt;RoleIcon size={16}/&gt;&#10;                        {selectedConversation.mentor.roleTitle}&#10;                    &lt;/span&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Role Description */}&#10;                &lt;div className=&quot;p-4 border-b border-gray-200&quot;&gt;&#10;                    &lt;h4 className=&quot;text-sm font-bold text-gray-700 mb-2 flex items-center gap-2&quot;&gt;&#10;                        &lt;BookOpen size={16} className=&quot;text-blue-600&quot;/&gt;&#10;                        Vai trò &amp; Trách nhiệm&#10;                    &lt;/h4&gt;&#10;                    &lt;p className=&quot;text-sm text-gray-600 leading-relaxed&quot;&gt;&#10;                        {selectedConversation.mentor.description}&#10;                    &lt;/p&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Achievements */}&#10;                &lt;div className=&quot;p-4 border-b border-gray-200&quot;&gt;&#10;                    &lt;h4 className=&quot;text-sm font-bold text-gray-700 mb-3 flex items-center gap-2&quot;&gt;&#10;                        &lt;Award size={16} className=&quot;text-yellow-500&quot;/&gt;&#10;                        Thành tựu nổi bật&#10;                    &lt;/h4&gt;&#10;                    &lt;ul className=&quot;space-y-2&quot;&gt;&#10;                        {selectedConversation.mentor.achievements.map((achievement, index) =&gt; (&#10;                            &lt;li key={index} className=&quot;flex items-start gap-2 text-sm text-gray-600&quot;&gt;&#10;                                &lt;Star size={14} className=&quot;text-yellow-500 mt-0.5 flex-shrink-0&quot;/&gt;&#10;                                {achievement}&#10;                            &lt;/li&gt;&#10;                        ))}&#10;                    &lt;/ul&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Quick Actions */}&#10;                &lt;div className=&quot;p-4 border-b border-gray-200&quot;&gt;&#10;                    &lt;h4 className=&quot;text-sm font-bold text-gray-700 mb-3 flex items-center gap-2&quot;&gt;&#10;                        &lt;Sparkles size={16} className=&quot;text-purple-500&quot;/&gt;&#10;                        Thao tác nhanh&#10;                    &lt;/h4&gt;&#10;                    &lt;div className=&quot;space-y-2&quot;&gt;&#10;                        &lt;button&#10;                            className=&quot;w-full flex items-center justify-between px-4 py-2.5 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors group&quot;&gt;&#10;                            &lt;span className=&quot;flex items-center gap-2 text-sm text-gray-700&quot;&gt;&#10;                                &lt;FileText size={16} className=&quot;text-blue-500&quot;/&gt;&#10;                                Xem file đã gửi&#10;                            &lt;/span&gt;&#10;                            &lt;ChevronRight size={16} className=&quot;text-gray-400 group-hover:text-gray-600&quot;/&gt;&#10;                        &lt;/button&gt;&#10;                        &lt;button&#10;                            className=&quot;w-full flex items-center justify-between px-4 py-2.5 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors group&quot;&gt;&#10;                            &lt;span className=&quot;flex items-center gap-2 text-sm text-gray-700&quot;&gt;&#10;                                &lt;Clock size={16} className=&quot;text-orange-500&quot;/&gt;&#10;                                Đặt lịch hẹn&#10;                            &lt;/span&gt;&#10;                            &lt;ChevronRight size={16} className=&quot;text-gray-400 group-hover:text-gray-600&quot;/&gt;&#10;                        &lt;/button&gt;&#10;                        &lt;button&#10;                            className=&quot;w-full flex items-center justify-between px-4 py-2.5 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors group&quot;&gt;&#10;                            &lt;span className=&quot;flex items-center gap-2 text-sm text-gray-700&quot;&gt;&#10;                                &lt;GraduationCap size={16} className=&quot;text-green-500&quot;/&gt;&#10;                                Xem hồ sơ Mentor&#10;                            &lt;/span&gt;&#10;                            &lt;ChevronRight size={16} className=&quot;text-gray-400 group-hover:text-gray-600&quot;/&gt;&#10;                        &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Role Legend */}&#10;                &lt;div className=&quot;p-4 mt-auto&quot;&gt;&#10;                    &lt;h4 className=&quot;text-xs font-bold text-gray-500 uppercase mb-3 tracking-wider&quot;&gt;&#10;                        Giải thích vai trò Mentor&#10;                    &lt;/h4&gt;&#10;                    &lt;div className=&quot;space-y-2 text-xs&quot;&gt;&#10;                        &lt;div className=&quot;flex items-center gap-2 p-2 bg-blue-50 rounded-lg&quot;&gt;&#10;                            &lt;Target size={14} className=&quot;text-blue-600&quot;/&gt;&#10;                            &lt;div&gt;&#10;                                &lt;span className=&quot;font-semibold text-blue-700&quot;&gt;AS&lt;/span&gt;&#10;                                &lt;span className=&quot;text-blue-600 ml-1&quot;&gt;- Chiến lược gia&lt;/span&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;flex items-center gap-2 p-2 bg-purple-50 rounded-lg&quot;&gt;&#10;                            &lt;PenTool size={14} className=&quot;text-purple-600&quot;/&gt;&#10;                            &lt;div&gt;&#10;                                &lt;span className=&quot;font-semibold text-purple-700&quot;&gt;ACS&lt;/span&gt;&#10;                                &lt;span className=&quot;text-purple-600 ml-1&quot;&gt;- Biên tập luận&lt;/span&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;flex items-center gap-2 p-2 bg-emerald-50 rounded-lg&quot;&gt;&#10;                            &lt;Lightbulb size={14} className=&quot;text-emerald-600&quot;/&gt;&#10;                            &lt;div&gt;&#10;                                &lt;span className=&quot;font-semibold text-emerald-700&quot;&gt;ARD&lt;/span&gt;&#10;                                &lt;span className=&quot;text-emerald-600 ml-1&quot;&gt;- Phát triển Profile&lt;/span&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    );&#10;};&#10;&#10;export default ChatPage;&#10;&#10;" />
              <option name="updatedContent" value="'use client';&#10;&#10;import React, {useState, useRef, useEffect} from 'react';&#10;import {&#10;    MessageCircle, Send, Paperclip, Image, Smile, Search,&#10;    Phone, Video, MoreVertical, Users, Star, Award, BookOpen,&#10;    FileText, Target, Clock, CheckCheck, ChevronRight, X,&#10;    Sparkles, GraduationCap, PenTool, Lightbulb&#10;} from 'lucide-react';&#10;&#10;// Types&#10;interface Mentor {&#10;    id: string;&#10;    name: string;&#10;    roleCode: 'AS' | 'ACS' | 'ARD' | 'GENERAL';&#10;    roleTitle: string;&#10;    description: string;&#10;    achievements: string[];&#10;    avatar: string;&#10;    isOnline: boolean;&#10;    lastSeen?: string;&#10;}&#10;&#10;interface Message {&#10;    id: string;&#10;    senderId: string;&#10;    senderName: string;&#10;    senderAvatar: string;&#10;    content: string;&#10;    timestamp: Date;&#10;    isRead: boolean;&#10;    isMine: boolean;&#10;}&#10;&#10;interface Conversation {&#10;    id: string;&#10;    mentor: Mentor;&#10;    lastMessage: string;&#10;    lastMessageTime: Date;&#10;    unreadCount: number;&#10;    messages: Message[];&#10;}&#10;&#10;// Mock Data - Mentors&#10;const MENTORS: Record&lt;string, Mentor&gt; = {&#10;    AS: {&#10;        id: 'mentor-as',&#10;        name: 'Ms. Holy Ann',&#10;        roleCode: 'AS',&#10;        roleTitle: 'Admission Strategist',&#10;        description: 'Chịu trách nhiệm lên chiến lược tổng thể, định hướng chọn trường và ngành phù hợp với profile của học sinh.',&#10;        achievements: ['5 năm kinh nghiệm tư vấn', 'Mentor 20+ học sinh đỗ Ivy League', 'Chuyên gia scholarship hunting'],&#10;        avatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150&amp;h=150&amp;fit=crop',&#10;        isOnline: true&#10;    },&#10;    ACS: {&#10;        id: 'mentor-acs',&#10;        name: 'Mr. David Nguyen',&#10;        roleCode: 'ACS',&#10;        roleTitle: 'Application Content Specialist',&#10;        description: 'Chuyên gia biên tập nội dung hồ sơ, review và hướng dẫn viết luận (Personal Statement, Supplemental Essays).',&#10;        achievements: ['Biên tập 500+ bài luận thành công', 'Cựu Admission Officer', 'Tác giả sách &quot;Essay that Wins&quot;'],&#10;        avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&amp;h=150&amp;fit=crop',&#10;        isOnline: true&#10;    },&#10;    ARD: {&#10;        id: 'mentor-ard',&#10;        name: 'Ms. Linh Tran',&#10;        roleCode: 'ARD',&#10;        roleTitle: 'Application Research &amp; Development',&#10;        description: 'Phát triển Profile học sinh qua các hoạt động ngoại khóa, nghiên cứu và dự án cộng đồng có chiều sâu.',&#10;        achievements: ['Thiết kế 100+ hoạt động ngoại khóa', 'Chuyên gia STEM research', 'Kết nối với 50+ tổ chức quốc tế'],&#10;        avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&amp;h=150&amp;fit=crop',&#10;        isOnline: false,&#10;        lastSeen: '2 giờ trước'&#10;    },&#10;    GENERAL: {&#10;        id: 'mentor-general',&#10;        name: 'Box Chung',&#10;        roleCode: 'GENERAL',&#10;        roleTitle: 'Group Discussion',&#10;        description: 'Không gian thảo luận chung với tất cả các Mentor. Đặt câu hỏi và nhận tư vấn từ đội ngũ chuyên gia.',&#10;        achievements: ['Hỗ trợ 24/7', 'Phản hồi trong 24h', 'Cộng đồng học sinh năng động'],&#10;        avatar: 'https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=150&amp;h=150&amp;fit=crop',&#10;        isOnline: true&#10;    }&#10;};&#10;&#10;// Mock Messages&#10;const generateMockMessages = (mentorId: string, mentorName: string, mentorAvatar: string): Message[] =&gt; {&#10;    const now = new Date();&#10;    return [&#10;        {&#10;            id: `${mentorId}-1`,&#10;            senderId: mentorId,&#10;            senderName: mentorName,&#10;            senderAvatar: mentorAvatar,&#10;            content: 'Chào em! Chị đã xem qua hồ sơ của em rồi. Em có câu hỏi gì không?',&#10;            timestamp: new Date(now.getTime() - 3600000 * 2),&#10;            isRead: true,&#10;            isMine: false&#10;        },&#10;        {&#10;            id: `${mentorId}-2`,&#10;            senderId: 'student',&#10;            senderName: 'Bạn',&#10;            senderAvatar: '/images/avatars/avt.jpg',&#10;            content: 'Dạ chào chị! Em muốn hỏi về chiến lược chọn trường cho mùa apply năm nay ạ.',&#10;            timestamp: new Date(now.getTime() - 3600000 * 1.5),&#10;            isRead: true,&#10;            isMine: true&#10;        },&#10;        {&#10;            id: `${mentorId}-3`,&#10;            senderId: mentorId,&#10;            senderName: mentorName,&#10;            senderAvatar: mentorAvatar,&#10;            content: 'Tốt lắm! Với profile hiện tại của em (GPA 3.8, SAT 1480), chị nghĩ em nên cân nhắc danh sách 8-10 trường theo tỉ lệ: 2 Dream, 4 Match, 2 Safety.',&#10;            timestamp: new Date(now.getTime() - 3600000),&#10;            isRead: true,&#10;            isMine: false&#10;        },&#10;        {&#10;            id: `${mentorId}-4`,&#10;            senderId: 'student',&#10;            senderName: 'Bạn',&#10;            senderAvatar: '/images/avatars/avt.jpg',&#10;            content: 'Em hiểu rồi ạ. Vậy với ngành Computer Science, chị có thể gợi ý một số trường Match cho em được không ạ?',&#10;            timestamp: new Date(now.getTime() - 1800000),&#10;            isRead: true,&#10;            isMine: true&#10;        },&#10;        {&#10;            id: `${mentorId}-5`,&#10;            senderId: mentorId,&#10;            senderName: mentorName,&#10;            senderAvatar: mentorAvatar,&#10;            content: 'Với CS, em có thể target: Purdue, UIUC, UW-Madison, Wisconsin. Đây đều là trường có chương trình CS mạnh và tỉ lệ nhận phù hợp với profile của em.',&#10;            timestamp: new Date(now.getTime() - 900000),&#10;            isRead: false,&#10;            isMine: false&#10;        }&#10;    ];&#10;};&#10;&#10;// Mock Conversations&#10;const CONVERSATIONS: Conversation[] = [&#10;    {&#10;        id: 'conv-as',&#10;        mentor: MENTORS.AS,&#10;        lastMessage: 'Với CS, em có thể target: Purdue, UIUC...',&#10;        lastMessageTime: new Date(Date.now() - 900000),&#10;        unreadCount: 1,&#10;        messages: generateMockMessages(MENTORS.AS.id, MENTORS.AS.name, MENTORS.AS.avatar)&#10;    },&#10;    {&#10;        id: 'conv-acs',&#10;        mentor: MENTORS.ACS,&#10;        lastMessage: 'Bài luận của em đã được review xong, em check email nhé!',&#10;        lastMessageTime: new Date(Date.now() - 7200000),&#10;        unreadCount: 0,&#10;        messages: generateMockMessages(MENTORS.ACS.id, MENTORS.ACS.name, MENTORS.ACS.avatar)&#10;    },&#10;    {&#10;        id: 'conv-ard',&#10;        mentor: MENTORS.ARD,&#10;        lastMessage: 'Chị đã gửi danh sách các cuộc thi phù hợp cho em.',&#10;        lastMessageTime: new Date(Date.now() - 86400000),&#10;        unreadCount: 2,&#10;        messages: generateMockMessages(MENTORS.ARD.id, MENTORS.ARD.name, MENTORS.ARD.avatar)&#10;    },&#10;    {&#10;        id: 'conv-general',&#10;        mentor: MENTORS.GENERAL,&#10;        lastMessage: '[Ms. Holy Ann]: Chào cả nhà! Mọi người có câu hỏi gì...',&#10;        lastMessageTime: new Date(Date.now() - 3600000),&#10;        unreadCount: 5,&#10;        messages: generateMockMessages(MENTORS.GENERAL.id, 'Team Mentor', MENTORS.GENERAL.avatar)&#10;    }&#10;];&#10;&#10;// Helper function to get role icon&#10;const getRoleIcon = (roleCode: string) =&gt; {&#10;    switch (roleCode) {&#10;        case 'AS':&#10;            return Target;&#10;        case 'ACS':&#10;            return PenTool;&#10;        case 'ARD':&#10;            return Lightbulb;&#10;        case 'GENERAL':&#10;            return Users;&#10;        default:&#10;            return MessageCircle;&#10;    }&#10;};&#10;&#10;// Helper function to get role color&#10;const getRoleColor = (roleCode: string) =&gt; {&#10;    switch (roleCode) {&#10;        case 'AS':&#10;            return {bg: 'bg-blue-100', text: 'text-blue-600', border: 'border-blue-200'};&#10;        case 'ACS':&#10;            return {bg: 'bg-purple-100', text: 'text-purple-600', border: 'border-purple-200'};&#10;        case 'ARD':&#10;            return {bg: 'bg-emerald-100', text: 'text-emerald-600', border: 'border-emerald-200'};&#10;        case 'GENERAL':&#10;            return {bg: 'bg-orange-100', text: 'text-orange-600', border: 'border-orange-200'};&#10;        default:&#10;            return {bg: 'bg-gray-100', text: 'text-gray-600', border: 'border-gray-200'};&#10;    }&#10;};&#10;&#10;// Format time helper&#10;const formatTime = (date: Date) =&gt; {&#10;    const now = new Date();&#10;    const diff = now.getTime() - date.getTime();&#10;    const minutes = Math.floor(diff / 60000);&#10;    const hours = Math.floor(diff / 3600000);&#10;    const days = Math.floor(diff / 86400000);&#10;&#10;    if (minutes &lt; 1) return 'Vừa xong';&#10;    if (minutes &lt; 60) return `${minutes} phút`;&#10;    if (hours &lt; 24) return `${hours} giờ`;&#10;    if (days &lt; 7) return `${days} ngày`;&#10;    return date.toLocaleDateString('vi-VN');&#10;};&#10;&#10;const formatMessageTime = (date: Date) =&gt; {&#10;    return date.toLocaleTimeString('vi-VN', {hour: '2-digit', minute: '2-digit'});&#10;};&#10;&#10;// Main Component&#10;export const ChatPage: React.FC = () =&gt; {&#10;    const [conversations] = useState&lt;Conversation[]&gt;(CONVERSATIONS);&#10;    const [selectedConversation, setSelectedConversation] = useState&lt;Conversation&gt;(CONVERSATIONS[0]);&#10;    const [messageInput, setMessageInput] = useState('');&#10;    const [searchQuery, setSearchQuery] = useState('');&#10;    const [showMobileInfo, setShowMobileInfo] = useState(false);&#10;    const messagesEndRef = useRef&lt;HTMLDivElement&gt;(null);&#10;&#10;    // Auto scroll to bottom when messages change&#10;    useEffect(() =&gt; {&#10;        messagesEndRef.current?.scrollIntoView({behavior: 'smooth'});&#10;    }, [selectedConversation.messages]);&#10;&#10;    const handleSendMessage = () =&gt; {&#10;        if (!messageInput.trim()) return;&#10;&#10;        const newMessage: Message = {&#10;            id: `msg-${Date.now()}`,&#10;            senderId: 'student',&#10;            senderName: 'Bạn',&#10;            senderAvatar: '/images/avatars/avt.jpg',&#10;            content: messageInput,&#10;            timestamp: new Date(),&#10;            isRead: false,&#10;            isMine: true&#10;        };&#10;&#10;        // Add message to conversation (in real app, this would be an API call)&#10;        selectedConversation.messages.push(newMessage);&#10;        setMessageInput('');&#10;    };&#10;&#10;    const handleKeyPress = (e: React.KeyboardEvent) =&gt; {&#10;        if (e.key === 'Enter' &amp;&amp; !e.shiftKey) {&#10;            e.preventDefault();&#10;            handleSendMessage();&#10;        }&#10;    };&#10;&#10;    const filteredConversations = conversations.filter(conv =&gt;&#10;        conv.mentor.name.toLowerCase().includes(searchQuery.toLowerCase()) ||&#10;        conv.mentor.roleTitle.toLowerCase().includes(searchQuery.toLowerCase())&#10;    );&#10;&#10;    const RoleIcon = getRoleIcon(selectedConversation.mentor.roleCode);&#10;    const roleColors = getRoleColor(selectedConversation.mentor.roleCode);&#10;&#10;    return (&#10;        &lt;div className=&quot;h-[calc(100vh-theme(spacing.16))] bg-gray-50 flex overflow-hidden&quot;&gt;&#10;&#10;            {/* ========== LEFT SIDEBAR - Conversation List ========== */}&#10;            &lt;div className=&quot;w-80 bg-white border-r border-gray-200 flex flex-col hidden md:flex&quot;&gt;&#10;                {/* Header */}&#10;                &lt;div className=&quot;p-4 border-b border-gray-200&quot;&gt;&#10;                    &lt;h2 className=&quot;text-xl font-bold text-gray-900 mb-4 flex items-center gap-2&quot;&gt;&#10;                        &lt;MessageCircle className=&quot;text-blue-600&quot; size={24}/&gt;&#10;                        Trao Đổi&#10;                    &lt;/h2&gt;&#10;                    {/* Search */}&#10;                    &lt;div className=&quot;relative&quot;&gt;&#10;                        &lt;Search className=&quot;absolute left-3 top-1/2 -translate-y-1/2 text-gray-400&quot; size={18}/&gt;&#10;                        &lt;input&#10;                            type=&quot;text&quot;&#10;                            placeholder=&quot;Tìm kiếm cuộc trò chuyện...&quot;&#10;                            value={searchQuery}&#10;                            onChange={(e) =&gt; setSearchQuery(e.target.value)}&#10;                            className=&quot;w-full pl-10 pr-4 py-2.5 bg-gray-100 rounded-xl border-0 focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all text-sm&quot;&#10;                        /&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Conversation List */}&#10;                &lt;div className=&quot;flex-1 overflow-y-auto&quot;&gt;&#10;                    {filteredConversations.map((conv) =&gt; {&#10;                        const ConvIcon = getRoleIcon(conv.mentor.roleCode);&#10;                        const convColors = getRoleColor(conv.mentor.roleCode);&#10;                        const isSelected = selectedConversation.id === conv.id;&#10;&#10;                        return (&#10;                            &lt;div&#10;                                key={conv.id}&#10;                                onClick={() =&gt; setSelectedConversation(conv)}&#10;                                className={`p-4 cursor-pointer border-b border-gray-100 hover:bg-gray-50 transition-colors ${&#10;                                    isSelected ? 'bg-blue-50 border-l-4 border-l-blue-500' : ''&#10;                                }`}&#10;                            &gt;&#10;                                &lt;div className=&quot;flex items-start gap-3&quot;&gt;&#10;                                    {/* Avatar */}&#10;                                    &lt;div className=&quot;relative flex-shrink-0&quot;&gt;&#10;                                        &lt;img&#10;                                            src={conv.mentor.avatar}&#10;                                            alt={conv.mentor.name}&#10;                                            className=&quot;w-12 h-12 rounded-full object-cover border-2 border-white shadow-sm&quot;&#10;                                        /&gt;&#10;                                        {conv.mentor.isOnline &amp;&amp; (&#10;                                            &lt;div&#10;                                                className=&quot;absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 rounded-full border-2 border-white&quot;/&gt;&#10;                                        )}&#10;                                    &lt;/div&gt;&#10;&#10;                                    {/* Info */}&#10;                                    &lt;div className=&quot;flex-1 min-w-0&quot;&gt;&#10;                                        &lt;div className=&quot;flex items-center justify-between mb-1&quot;&gt;&#10;                                            &lt;h3 className={`font-semibold truncate ${isSelected ? 'text-blue-700' : 'text-gray-900'}`}&gt;&#10;                                                {conv.mentor.name}&#10;                                            &lt;/h3&gt;&#10;                                            &lt;span className=&quot;text-xs text-gray-500 flex-shrink-0 ml-2&quot;&gt;&#10;                                                {formatTime(conv.lastMessageTime)}&#10;                                            &lt;/span&gt;&#10;                                        &lt;/div&gt;&#10;&#10;                                        {/* Role Badge */}&#10;                                        &lt;div className=&quot;flex items-center gap-1.5 mb-1.5&quot;&gt;&#10;                                            &lt;span&#10;                                                className={`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${convColors.bg} ${convColors.text}`}&gt;&#10;                                                &lt;ConvIcon size={12}/&gt;&#10;                                                {conv.mentor.roleCode}&#10;                                            &lt;/span&gt;&#10;                                        &lt;/div&gt;&#10;&#10;                                        {/* Last Message */}&#10;                                        &lt;div className=&quot;flex items-center justify-between&quot;&gt;&#10;                                            &lt;p className=&quot;text-sm text-gray-600 truncate pr-2&quot;&gt;&#10;                                                {conv.lastMessage}&#10;                                            &lt;/p&gt;&#10;                                            {conv.unreadCount &gt; 0 &amp;&amp; (&#10;                                                &lt;span&#10;                                                    className=&quot;flex-shrink-0 w-5 h-5 bg-blue-600 text-white text-xs rounded-full flex items-center justify-center font-semibold&quot;&gt;&#10;                                                    {conv.unreadCount}&#10;                                                &lt;/span&gt;&#10;                                            )}&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        );&#10;                    })}&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            {/* ========== MAIN CHAT AREA ========== */}&#10;            &lt;div className=&quot;flex-1 flex flex-col bg-white&quot;&gt;&#10;                {/* Chat Header */}&#10;                &lt;div className=&quot;px-6 py-4 border-b border-gray-200 flex items-center justify-between bg-white&quot;&gt;&#10;                    &lt;div className=&quot;flex items-center gap-4&quot;&gt;&#10;                        &lt;div className=&quot;relative&quot;&gt;&#10;                            &lt;img&#10;                                src={selectedConversation.mentor.avatar}&#10;                                alt={selectedConversation.mentor.name}&#10;                                className=&quot;w-11 h-11 rounded-full object-cover border-2 border-gray-100&quot;&#10;                            /&gt;&#10;                            {selectedConversation.mentor.isOnline &amp;&amp; (&#10;                                &lt;div&#10;                                    className=&quot;absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white&quot;/&gt;&#10;                            )}&#10;                        &lt;/div&gt;&#10;                        &lt;div&gt;&#10;                            &lt;h3 className=&quot;font-bold text-gray-900&quot;&gt;{selectedConversation.mentor.name}&lt;/h3&gt;&#10;                            &lt;div className=&quot;flex items-center gap-2&quot;&gt;&#10;                                &lt;span&#10;                                    className={`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${roleColors.bg} ${roleColors.text}`}&gt;&#10;                                    &lt;RoleIcon size={12}/&gt;&#10;                                    {selectedConversation.mentor.roleTitle}&#10;                                &lt;/span&gt;&#10;                                &lt;span className=&quot;text-xs text-gray-500&quot;&gt;&#10;                                    {selectedConversation.mentor.isOnline&#10;                                        ? '● Đang hoạt động'&#10;                                        : `Hoạt động ${selectedConversation.mentor.lastSeen}`&#10;                                    }&#10;                                &lt;/span&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Action Buttons */}&#10;                    &lt;div className=&quot;flex items-center gap-2&quot;&gt;&#10;                        &lt;button&#10;                            className=&quot;p-2.5 hover:bg-gray-100 rounded-full transition-colors text-gray-600 hover:text-blue-600&quot;&gt;&#10;                            &lt;Phone size={20}/&gt;&#10;                        &lt;/button&gt;&#10;                        &lt;button&#10;                            className=&quot;p-2.5 hover:bg-gray-100 rounded-full transition-colors text-gray-600 hover:text-blue-600&quot;&gt;&#10;                            &lt;Video size={20}/&gt;&#10;                        &lt;/button&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; setShowMobileInfo(!showMobileInfo)}&#10;                            className=&quot;p-2.5 hover:bg-gray-100 rounded-full transition-colors text-gray-600 hover:text-blue-600 lg:hidden&quot;&gt;&#10;                            &lt;MoreVertical size={20}/&gt;&#10;                        &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Messages Container */}&#10;                &lt;div className=&quot;flex-1 overflow-y-auto p-6 space-y-4 bg-gradient-to-b from-gray-50/50 to-white&quot;&gt;&#10;                    {/* Date Separator */}&#10;                    &lt;div className=&quot;flex items-center justify-center&quot;&gt;&#10;                        &lt;div className=&quot;px-4 py-1.5 bg-gray-100 rounded-full text-xs text-gray-500 font-medium&quot;&gt;&#10;                            Hôm nay&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Messages */}&#10;                    {selectedConversation.messages.map((message) =&gt; (&#10;                        &lt;div&#10;                            key={message.id}&#10;                            className={`flex items-end gap-2 ${message.isMine ? 'flex-row-reverse' : ''}`}&#10;                        &gt;&#10;                            {!message.isMine &amp;&amp; (&#10;                                &lt;img&#10;                                    src={message.senderAvatar}&#10;                                    alt={message.senderName}&#10;                                    className=&quot;w-8 h-8 rounded-full object-cover flex-shrink-0&quot;&#10;                                /&gt;&#10;                            )}&#10;                            &lt;div className={`max-w-[70%] ${message.isMine ? 'items-end' : 'items-start'}`}&gt;&#10;                                &lt;div&#10;                                    className={`px-4 py-3 rounded-2xl ${&#10;                                        message.isMine&#10;                                            ? 'bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-br-md'&#10;                                            : 'bg-white border border-gray-200 text-gray-800 rounded-bl-md shadow-sm'&#10;                                    }`}&#10;                                &gt;&#10;                                    &lt;p className=&quot;text-sm leading-relaxed&quot;&gt;{message.content}&lt;/p&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div&#10;                                    className={`flex items-center gap-1 mt-1 ${message.isMine ? 'justify-end' : 'justify-start'}`}&gt;&#10;                                    &lt;span className=&quot;text-xs text-gray-400&quot;&gt;&#10;                                        {formatMessageTime(message.timestamp)}&#10;                                    &lt;/span&gt;&#10;                                    {message.isMine &amp;&amp; (&#10;                                        &lt;CheckCheck&#10;                                            size={14}&#10;                                            className={message.isRead ? 'text-blue-500' : 'text-gray-400'}&#10;                                        /&gt;&#10;                                    )}&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    ))}&#10;                    &lt;div ref={messagesEndRef}/&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Message Input */}&#10;                &lt;div className=&quot;p-4 border-t border-gray-200 bg-white&quot;&gt;&#10;                    &lt;div className=&quot;flex items-end gap-3&quot;&gt;&#10;                        {/* Attachment Buttons */}&#10;                        &lt;div className=&quot;flex items-center gap-1&quot;&gt;&#10;                            &lt;button&#10;                                className=&quot;p-2.5 hover:bg-gray-100 rounded-full transition-colors text-gray-500 hover:text-blue-600&quot;&gt;&#10;                                &lt;Paperclip size={20}/&gt;&#10;                            &lt;/button&gt;&#10;                            &lt;button&#10;                                className=&quot;p-2.5 hover:bg-gray-100 rounded-full transition-colors text-gray-500 hover:text-blue-600&quot;&gt;&#10;                                &lt;Image size={20}/&gt;&#10;                            &lt;/button&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        {/* Input Field */}&#10;                        &lt;div className=&quot;flex-1 relative&quot;&gt;&#10;                            &lt;textarea&#10;                                value={messageInput}&#10;                                onChange={(e) =&gt; setMessageInput(e.target.value)}&#10;                                onKeyPress={handleKeyPress}&#10;                                placeholder=&quot;Nhập tin nhắn...&quot;&#10;                                rows={1}&#10;                                className=&quot;w-full px-4 py-3 bg-gray-100 rounded-2xl border-0 focus:ring-2 focus:ring-blue-500 focus:bg-white resize-none text-sm transition-all&quot;&#10;                                style={{minHeight: '48px', maxHeight: '120px'}}&#10;                            /&gt;&#10;                            &lt;button&#10;                                className=&quot;absolute right-3 top-1/2 -translate-y-1/2 p-1.5 hover:bg-gray-200 rounded-full transition-colors text-gray-500&quot;&gt;&#10;                                &lt;Smile size={20}/&gt;&#10;                            &lt;/button&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        {/* Send Button */}&#10;                        &lt;button&#10;                            onClick={handleSendMessage}&#10;                            disabled={!messageInput.trim()}&#10;                            className={`p-3 rounded-full transition-all ${&#10;                                messageInput.trim()&#10;                                    ? 'bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg hover:shadow-blue-500/30 hover:scale-105'&#10;                                    : 'bg-gray-200 text-gray-400 cursor-not-allowed'&#10;                            }`}&#10;                        &gt;&#10;                            &lt;Send size={20}/&gt;&#10;                        &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            {/* ========== RIGHT SIDEBAR - Mentor Info ========== */}&#10;            &lt;div&#10;                className={`w-80 bg-white border-l border-gray-200 flex-col hidden lg:flex ${showMobileInfo ? 'fixed inset-y-0 right-0 z-50 flex shadow-2xl' : ''}`}&gt;&#10;                {/* Mobile Close Button */}&#10;                {showMobileInfo &amp;&amp; (&#10;                    &lt;button&#10;                        onClick={() =&gt; setShowMobileInfo(false)}&#10;                        className=&quot;absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full lg:hidden&quot;&#10;                    &gt;&#10;                        &lt;X size={20}/&gt;&#10;                    &lt;/button&gt;&#10;                )}&#10;&#10;                {/* Mentor Profile */}&#10;                &lt;div className=&quot;p-6 text-center border-b border-gray-200&quot;&gt;&#10;                    &lt;div className=&quot;relative inline-block mb-4&quot;&gt;&#10;                        &lt;img&#10;                            src={selectedConversation.mentor.avatar}&#10;                            alt={selectedConversation.mentor.name}&#10;                            className=&quot;w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg mx-auto&quot;&#10;                        /&gt;&#10;                        {selectedConversation.mentor.isOnline &amp;&amp; (&#10;                            &lt;div&#10;                                className=&quot;absolute bottom-1 right-1 w-5 h-5 bg-green-500 rounded-full border-3 border-white&quot;/&gt;&#10;                        )}&#10;                    &lt;/div&gt;&#10;                    &lt;h3 className=&quot;text-xl font-bold text-gray-900 mb-1&quot;&gt;{selectedConversation.mentor.name}&lt;/h3&gt;&#10;                    &lt;span&#10;                        className={`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-semibold ${roleColors.bg} ${roleColors.text}`}&gt;&#10;                        &lt;RoleIcon size={16}/&gt;&#10;                        {selectedConversation.mentor.roleTitle}&#10;                    &lt;/span&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Role Description */}&#10;                &lt;div className=&quot;p-4 border-b border-gray-200&quot;&gt;&#10;                    &lt;h4 className=&quot;text-sm font-bold text-gray-700 mb-2 flex items-center gap-2&quot;&gt;&#10;                        &lt;BookOpen size={16} className=&quot;text-blue-600&quot;/&gt;&#10;                        Vai trò &amp; Trách nhiệm&#10;                    &lt;/h4&gt;&#10;                    &lt;p className=&quot;text-sm text-gray-600 leading-relaxed&quot;&gt;&#10;                        {selectedConversation.mentor.description}&#10;                    &lt;/p&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Achievements */}&#10;                &lt;div className=&quot;p-4 border-b border-gray-200&quot;&gt;&#10;                    &lt;h4 className=&quot;text-sm font-bold text-gray-700 mb-3 flex items-center gap-2&quot;&gt;&#10;                        &lt;Award size={16} className=&quot;text-yellow-500&quot;/&gt;&#10;                        Thành tựu nổi bật&#10;                    &lt;/h4&gt;&#10;                    &lt;ul className=&quot;space-y-2&quot;&gt;&#10;                        {selectedConversation.mentor.achievements.map((achievement, index) =&gt; (&#10;                            &lt;li key={index} className=&quot;flex items-start gap-2 text-sm text-gray-600&quot;&gt;&#10;                                &lt;Star size={14} className=&quot;text-yellow-500 mt-0.5 flex-shrink-0&quot;/&gt;&#10;                                {achievement}&#10;                            &lt;/li&gt;&#10;                        ))}&#10;                    &lt;/ul&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Quick Actions */}&#10;                &lt;div className=&quot;p-4 border-b border-gray-200&quot;&gt;&#10;                    &lt;h4 className=&quot;text-sm font-bold text-gray-700 mb-3 flex items-center gap-2&quot;&gt;&#10;                        &lt;Sparkles size={16} className=&quot;text-purple-500&quot;/&gt;&#10;                        Thao tác nhanh&#10;                    &lt;/h4&gt;&#10;                    &lt;div className=&quot;space-y-2&quot;&gt;&#10;                        &lt;button&#10;                            className=&quot;w-full flex items-center justify-between px-4 py-2.5 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors group&quot;&gt;&#10;                            &lt;span className=&quot;flex items-center gap-2 text-sm text-gray-700&quot;&gt;&#10;                                &lt;FileText size={16} className=&quot;text-blue-500&quot;/&gt;&#10;                                Xem file đã gửi&#10;                            &lt;/span&gt;&#10;                            &lt;ChevronRight size={16} className=&quot;text-gray-400 group-hover:text-gray-600&quot;/&gt;&#10;                        &lt;/button&gt;&#10;                        &lt;button&#10;                            className=&quot;w-full flex items-center justify-between px-4 py-2.5 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors group&quot;&gt;&#10;                            &lt;span className=&quot;flex items-center gap-2 text-sm text-gray-700&quot;&gt;&#10;                                &lt;Clock size={16} className=&quot;text-orange-500&quot;/&gt;&#10;                                Đặt lịch hẹn&#10;                            &lt;/span&gt;&#10;                            &lt;ChevronRight size={16} className=&quot;text-gray-400 group-hover:text-gray-600&quot;/&gt;&#10;                        &lt;/button&gt;&#10;                        &lt;button&#10;                            className=&quot;w-full flex items-center justify-between px-4 py-2.5 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors group&quot;&gt;&#10;                            &lt;span className=&quot;flex items-center gap-2 text-sm text-gray-700&quot;&gt;&#10;                                &lt;GraduationCap size={16} className=&quot;text-green-500&quot;/&gt;&#10;                                Xem hồ sơ Mentor&#10;                            &lt;/span&gt;&#10;                            &lt;ChevronRight size={16} className=&quot;text-gray-400 group-hover:text-gray-600&quot;/&gt;&#10;                        &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Role Legend */}&#10;                &lt;div className=&quot;p-4 mt-auto&quot;&gt;&#10;                    &lt;h4 className=&quot;text-xs font-bold text-gray-500 uppercase mb-3 tracking-wider&quot;&gt;&#10;                        Giải thích vai trò Mentor&#10;                    &lt;/h4&gt;&#10;                    &lt;div className=&quot;space-y-2 text-xs&quot;&gt;&#10;                        &lt;div className=&quot;flex items-center gap-2 p-2 bg-blue-50 rounded-lg&quot;&gt;&#10;                            &lt;Target size={14} className=&quot;text-blue-600&quot;/&gt;&#10;                            &lt;div&gt;&#10;                                &lt;span className=&quot;font-semibold text-blue-700&quot;&gt;AS&lt;/span&gt;&#10;                                &lt;span className=&quot;text-blue-600 ml-1&quot;&gt;- Chiến lược gia&lt;/span&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;flex items-center gap-2 p-2 bg-purple-50 rounded-lg&quot;&gt;&#10;                            &lt;PenTool size={14} className=&quot;text-purple-600&quot;/&gt;&#10;                            &lt;div&gt;&#10;                                &lt;span className=&quot;font-semibold text-purple-700&quot;&gt;ACS&lt;/span&gt;&#10;                                &lt;span className=&quot;text-purple-600 ml-1&quot;&gt;- Biên tập luận&lt;/span&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;flex items-center gap-2 p-2 bg-emerald-50 rounded-lg&quot;&gt;&#10;                            &lt;Lightbulb size={14} className=&quot;text-emerald-600&quot;/&gt;&#10;                            &lt;div&gt;&#10;                                &lt;span className=&quot;font-semibold text-emerald-700&quot;&gt;ARD&lt;/span&gt;&#10;                                &lt;span className=&quot;text-emerald-600 ml-1&quot;&gt;- Phát triển Profile&lt;/span&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    );&#10;};&#10;&#10;export default ChatPage;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/dashboard/Profile/ProfileEnhancerPage.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/dashboard/Profile/ProfileEnhancerPage.tsx" />
              <option name="originalContent" value="'use client';&#10;&#10;import React, {useState} from 'react';&#10;import {&#10;    TrendingUp, Users, BookOpen, Code, AlertCircle, CheckCircle2,&#10;    Upload, FileText, Sparkles, Target, ArrowRight, Lightbulb,&#10;    Award, Globe, BarChart3, MessageSquare, Eye, Shield&#10;} from 'lucide-react';&#10;&#10;// Types&#10;interface RecommendationCard {&#10;    id: string;&#10;    category: 'extracurricular' | 'academic' | 'skill' | 'leadership';&#10;    icon: React.ElementType;&#10;    problem: string;&#10;    solution: string;&#10;    actionText: string;&#10;    actionUrl: string;&#10;    color: string;&#10;    bgColor: string;&#10;    borderColor: string;&#10;}&#10;&#10;interface CVCheckItem {&#10;    name: string;&#10;    status: 'success' | 'warning' | 'error';&#10;    message: string;&#10;}&#10;&#10;interface EssayAnalysis {&#10;    sentiment: string;&#10;    structure: string;&#10;    plagiarism: string;&#10;    suggestion: string;&#10;}&#10;&#10;export const ProfileEnhancerPage: React.FC = () =&gt; {&#10;    // States&#10;    const [cvFile, setCvFile] = useState&lt;File | null&gt;(null);&#10;    const [cvScore, setCvScore] = useState&lt;number | null&gt;(null);&#10;    const [cvChecklist, setCvChecklist] = useState&lt;CVCheckItem[]&gt;([]);&#10;    const [essayText, setEssayText] = useState('');&#10;    const [essayAnalysis, setEssayAnalysis] = useState&lt;EssayAnalysis | null&gt;(null);&#10;    const [isAnalyzingEssay, setIsAnalyzingEssay] = useState(false);&#10;&#10;&#10;    // Mock Data - Recommendations&#10;    const recommendations: RecommendationCard[] = [&#10;        {&#10;            id: '1',&#10;            category: 'leadership',&#10;            icon: Users,&#10;            problem: 'Hồ sơ thiếu vai trò lãnh đạo',&#10;            solution: 'Tham gia cuộc thi Hùng biện cấp thành phố (City Debate Open 2025)',&#10;            actionText: 'Xem chi tiết cuộc thi',&#10;            actionUrl: '#',&#10;            color: 'text-blue-600',&#10;            bgColor: 'bg-blue-50',&#10;            borderColor: 'border-blue-200'&#10;        },&#10;        {&#10;            id: '2',&#10;            category: 'academic',&#10;            icon: Code,&#10;            problem: 'Điểm GPA môn Toán tốt nhưng thiếu ứng dụng thực tế',&#10;            solution: 'Hoàn thành khóa học &quot;Python for Data Science&quot; trên Coursera',&#10;            actionText: 'Đến khóa học',&#10;            actionUrl: '#',&#10;            color: 'text-orange-600',&#10;            bgColor: 'bg-orange-50',&#10;            borderColor: 'border-orange-200'&#10;        },&#10;        {&#10;            id: '3',&#10;            category: 'skill',&#10;            icon: Globe,&#10;            problem: 'Thiếu chứng chỉ ngoại ngữ quốc tế',&#10;            solution: 'Đăng ký thi IELTS hoặc TOEFL trong 3 tháng tới',&#10;            actionText: 'Xem lộ trình luyện thi',&#10;            actionUrl: '#',&#10;            color: 'text-purple-600',&#10;            bgColor: 'bg-purple-50',&#10;            borderColor: 'border-purple-200'&#10;        },&#10;        {&#10;            id: '4',&#10;            category: 'extracurricular',&#10;            icon: Award,&#10;            problem: 'Cần thêm hoạt động tình nguyện cộng đồng',&#10;            solution: 'Tham gia dự án &quot;Thắp sáng ước mơ&quot; - Dạy học miễn phí cho trẻ em vùng cao',&#10;            actionText: 'Tìm hiểu thêm',&#10;            actionUrl: '#',&#10;            color: 'text-green-600',&#10;            bgColor: 'bg-green-50',&#10;            borderColor: 'border-green-200'&#10;        }&#10;    ];&#10;&#10;    // Handle CV Upload&#10;    const handleCVUpload = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {&#10;        if (e.target.files &amp;&amp; e.target.files[0]) {&#10;            const file = e.target.files[0];&#10;            setCvFile(file);&#10;&#10;            // Simulate AI analysis&#10;            setTimeout(() =&gt; {&#10;                setCvScore(7.5);&#10;                setCvChecklist([&#10;                    {&#10;                        name: 'Sử dụng Action Verbs',&#10;                        status: 'success',&#10;                        message: 'Tốt! CV sử dụng nhiều động từ hành động mạnh mẽ.'&#10;                    },&#10;                    {&#10;                        name: 'Định lượng thành tích',&#10;                        status: 'warning',&#10;                        message: 'Hãy thay &quot;tăng doanh thu&quot; bằng &quot;tăng 20% doanh thu&quot;.'&#10;                    },&#10;                    {&#10;                        name: 'Cấu trúc rõ ràng',&#10;                        status: 'success',&#10;                        message: 'Layout CV dễ đọc, phân chia mục rõ ràng.'&#10;                    },&#10;                    {&#10;                        name: 'Độ dài phù hợp',&#10;                        status: 'success',&#10;                        message: 'CV có độ dài 1 trang - phù hợp cho sinh viên.'&#10;                    },&#10;                    {&#10;                        name: 'Từ khóa ngành nghề',&#10;                        status: 'warning',&#10;                        message: 'Nên bổ sung thêm các từ khóa chuyên ngành như &quot;Data Analysis&quot;, &quot;Project Management&quot;.'&#10;                    }&#10;                ]);&#10;            }, 1500);&#10;        }&#10;    };&#10;&#10;    // Handle Essay Analysis&#10;    const handleEssayAnalysis = () =&gt; {&#10;        if (!essayText.trim()) return;&#10;&#10;        setIsAnalyzingEssay(true);&#10;&#10;        // Simulate AI analysis&#10;        setTimeout(() =&gt; {&#10;            setEssayAnalysis({&#10;                sentiment: 'Tích cực / Truyền cảm hứng',&#10;                structure: 'Mở - Thân - Kết rõ ràng',&#10;                plagiarism: 'An toàn (0% trùng lặp)',&#10;                suggestion: 'Thử áp dụng kỹ thuật &quot;Show Don\'t Tell&quot; ở đoạn 2. Thay vì nói &quot;Tôi là người có trách nhiệm&quot;, hãy kể một câu chuyện cụ thể thể hiện điều đó.'&#10;            });&#10;            setIsAnalyzingEssay(false);&#10;        }, 2000);&#10;    };&#10;&#10;    return (&#10;        &lt;div className=&quot;min-h-screen bg-gradient-to-br from-gray-50 to-blue-50/30&quot;&gt;&#10;            &lt;div className=&quot;max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8&quot;&gt;&#10;&#10;&#10;                {/* HEADER &amp; GROWTH METRICS */}&#10;                &lt;div className=&quot;mb-10&quot;&gt;&#10;                    &lt;div className=&quot;flex items-center gap-3 mb-4&quot;&gt;&#10;                        &lt;div&#10;                            className=&quot;w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-lg&quot;&gt;&#10;                            &lt;Sparkles className=&quot;text-white&quot; size={24}/&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div&gt;&#10;                            &lt;h1 className=&quot;text-3xl font-bold text-gray-900&quot;&gt;Lộ Trình Cải Thiện Hồ Sơ AI&lt;/h1&gt;&#10;                            &lt;p className=&quot;text-gray-600 mt-1&quot;&gt;&#10;                                Dựa trên mục tiêu vào trường &lt;span className=&quot;font-semibold text-blue-600&quot;&gt;University of Melbourne&lt;/span&gt;,&#10;                                dưới đây là các đề xuất tối ưu cho bạn.&#10;                            &lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Growth Metrics Cards */}&#10;                    &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 gap-6 mt-6&quot;&gt;&#10;                        {/* Current Strength Card */}&#10;                        &lt;div&#10;                            className=&quot;bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow&quot;&gt;&#10;                            &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                                &lt;div&gt;&#10;                                    &lt;p className=&quot;text-sm font-medium text-gray-500 mb-1&quot;&gt;Sức mạnh hồ sơ hiện tại&lt;/p&gt;&#10;                                    &lt;div className=&quot;flex items-baseline gap-2&quot;&gt;&#10;                                        &lt;span className=&quot;text-4xl font-bold text-gray-900&quot;&gt;65%&lt;/span&gt;&#10;                                        &lt;span className=&quot;text-sm text-gray-500&quot;&gt;/ 100%&lt;/span&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div&#10;                                    className=&quot;w-16 h-16 rounded-full bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center shadow-lg&quot;&gt;&#10;                                    &lt;BarChart3 className=&quot;text-white&quot; size={28}/&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;w-full bg-gray-200 rounded-full h-3 overflow-hidden&quot;&gt;&#10;                                &lt;div&#10;                                    className=&quot;h-full bg-gradient-to-r from-orange-400 to-red-500 rounded-full transition-all duration-1000&quot;&#10;                                    style={{width: '65%'}}&#10;                                &gt;&lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;p className=&quot;text-xs text-gray-500 mt-3&quot;&gt;Cần cải thiện để đạt mục tiêu&lt;/p&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        {/* Potential After Improvement Card */}&#10;                        &lt;div&#10;                            className=&quot;bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl shadow-lg p-6 text-white relative overflow-hidden&quot;&gt;&#10;                            &lt;div&#10;                                className=&quot;absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16&quot;&gt;&lt;/div&gt;&#10;                            &lt;div className=&quot;relative z-10&quot;&gt;&#10;                                &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                                    &lt;div&gt;&#10;                                        &lt;p className=&quot;text-sm font-medium text-blue-100 mb-1&quot;&gt;Tiềm năng sau cải&#10;                                            thiện&lt;/p&gt;&#10;                                        &lt;div className=&quot;flex items-baseline gap-2&quot;&gt;&#10;                                            &lt;span className=&quot;text-4xl font-bold&quot;&gt;85%&lt;/span&gt;&#10;                                            &lt;span&#10;                                                className=&quot;inline-flex items-center gap-1 text-sm bg-green-400 text-green-900 px-2 py-0.5 rounded-full font-semibold&quot;&gt;&#10;                        &lt;TrendingUp size={14}/&gt;&#10;                        +20%&#10;                      &lt;/span&gt;&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;div&#10;                                        className=&quot;w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center&quot;&gt;&#10;                                        &lt;Target className=&quot;text-white&quot; size={28}/&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div className=&quot;w-full bg-white/20 rounded-full h-3 overflow-hidden&quot;&gt;&#10;                                    &lt;div&#10;                                        className=&quot;h-full bg-gradient-to-r from-green-400 to-emerald-400 rounded-full transition-all duration-1000&quot;&#10;                                        style={{width: '85%'}}&#10;                                    &gt;&lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;p className=&quot;text-xs text-blue-100 mt-3&quot;&gt;Khả năng trúng tuyển cao&lt;/p&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* SMART RECOMMENDATIONS SECTION */}&#10;                &lt;section className=&quot;mb-10&quot;&gt;&#10;                    &lt;div className=&quot;flex items-center gap-3 mb-6&quot;&gt;&#10;                        &lt;Lightbulb className=&quot;text-yellow-500&quot; size={28}/&gt;&#10;                        &lt;h2 className=&quot;text-2xl font-bold text-gray-900&quot;&gt;Gợi Ý Chiến Lược Thông Minh&lt;/h2&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 gap-6&quot;&gt;&#10;                        {recommendations.map((rec) =&gt; {&#10;                            const IconComponent = rec.icon;&#10;                            return (&#10;                                &lt;div&#10;                                    key={rec.id}&#10;                                    className={`bg-white rounded-2xl border-2 ${rec.borderColor} p-6 hover:shadow-lg transition-all duration-300 hover:-translate-y-1`}&#10;                                &gt;&#10;                                    &lt;div className=&quot;flex items-start gap-4 mb-4&quot;&gt;&#10;                                        &lt;div&#10;                                            className={`w-12 h-12 rounded-xl ${rec.bgColor} flex items-center justify-center flex-shrink-0`}&gt;&#10;                                            &lt;IconComponent className={rec.color} size={24}/&gt;&#10;                                        &lt;/div&gt;&#10;                                        &lt;div className=&quot;flex-1&quot;&gt;&#10;                                            &lt;div className=&quot;flex items-center gap-2 mb-2&quot;&gt;&#10;                                                &lt;AlertCircle size={16} className=&quot;text-red-500&quot;/&gt;&#10;                                                &lt;span className=&quot;text-sm font-semibold text-red-600&quot;&gt;Vấn đề&lt;/span&gt;&#10;                                            &lt;/div&gt;&#10;                                            &lt;p className=&quot;text-sm text-gray-700 mb-3&quot;&gt;{rec.problem}&lt;/p&gt;&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div className={`${rec.bgColor} rounded-xl p-4 mb-4`}&gt;&#10;                                        &lt;div className=&quot;flex items-center gap-2 mb-2&quot;&gt;&#10;                                            &lt;Sparkles size={16} className={rec.color}/&gt;&#10;                                            &lt;span className={`text-sm font-semibold ${rec.color}`}&gt;Giải pháp AI&lt;/span&gt;&#10;                                        &lt;/div&gt;&#10;                                        &lt;p className=&quot;text-sm text-gray-800 font-medium&quot;&gt;{rec.solution}&lt;/p&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;button&#10;                                        className={`w-full ${rec.color.replace('text-', 'bg-')} text-white px-4 py-3 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 hover:opacity-90 transition-opacity shadow-md`}&#10;                                    &gt;&#10;                                        {rec.actionText}&#10;                                        &lt;ArrowRight size={16}/&gt;&#10;                                    &lt;/button&gt;&#10;                                &lt;/div&gt;&#10;                            );&#10;                        })}&#10;                    &lt;/div&gt;&#10;                &lt;/section&gt;&#10;&#10;                {/* AI TOOLS GRID SECTION */}&#10;                &lt;section&gt;&#10;                    &lt;div className=&quot;flex items-center gap-3 mb-6&quot;&gt;&#10;                        &lt;div&#10;                            className=&quot;w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center&quot;&gt;&#10;                            &lt;Sparkles className=&quot;text-white&quot; size={20}/&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;h2 className=&quot;text-2xl font-bold text-gray-900&quot;&gt;Công Cụ Hỗ Trợ AI&lt;/h2&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div className=&quot;grid grid-cols-1 lg:grid-cols-2 gap-8&quot;&gt;&#10;&#10;                        {/* CV ASSISTANT */}&#10;                        &lt;div className=&quot;bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden&quot;&gt;&#10;                            &lt;div className=&quot;bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-4&quot;&gt;&#10;                                &lt;div className=&quot;flex items-center gap-3&quot;&gt;&#10;                                    &lt;div&#10;                                        className=&quot;w-10 h-10 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center&quot;&gt;&#10;                                        &lt;FileText className=&quot;text-white&quot; size={20}/&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;div&gt;&#10;                                        &lt;h3 className=&quot;text-lg font-bold text-white&quot;&gt;Trợ lý CV&lt;/h3&gt;&#10;                                        &lt;p className=&quot;text-xs text-blue-100&quot;&gt;Phân tích và tối ưu CV của bạn&lt;/p&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;div className=&quot;p-6&quot;&gt;&#10;                                {/* Upload Area */}&#10;                                &lt;div className=&quot;mb-6&quot;&gt;&#10;                                    &lt;label&#10;                                        htmlFor=&quot;cv-upload&quot;&#10;                                        className=&quot;block w-full border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-blue-400 hover:bg-blue-50/50 transition-all cursor-pointer group&quot;&#10;                                    &gt;&#10;                                        &lt;div className=&quot;flex flex-col items-center&quot;&gt;&#10;                                            &lt;div&#10;                                                className=&quot;w-16 h-16 rounded-full bg-blue-50 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform&quot;&gt;&#10;                                                &lt;Upload className=&quot;text-blue-500&quot; size={28}/&gt;&#10;                                            &lt;/div&gt;&#10;                                            &lt;p className=&quot;text-sm font-semibold text-gray-700 mb-1&quot;&gt;&#10;                                                {cvFile ? cvFile.name : 'Kéo thả file CV hoặc nhấn để chọn'}&#10;                                            &lt;/p&gt;&#10;                                            &lt;p className=&quot;text-xs text-gray-500&quot;&gt;Hỗ trợ PDF, DOCX (Tối đa 5MB)&lt;/p&gt;&#10;                                        &lt;/div&gt;&#10;                                    &lt;/label&gt;&#10;                                    &lt;input&#10;                                        id=&quot;cv-upload&quot;&#10;                                        type=&quot;file&quot;&#10;                                        className=&quot;hidden&quot;&#10;                                        accept=&quot;.pdf,.doc,.docx&quot;&#10;                                        onChange={handleCVUpload}&#10;                                    /&gt;&#10;                                &lt;/div&gt;&#10;&#10;                                {/* CV Analysis Results */}&#10;                                {cvScore !== null &amp;&amp; (&#10;                                    &lt;div className=&quot;space-y-4&quot;&gt;&#10;                                        {/* Score Display */}&#10;                                        &lt;div&#10;                                            className=&quot;bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-5 border border-blue-100&quot;&gt;&#10;                                            &lt;div className=&quot;flex items-center justify-between&quot;&gt;&#10;                                                &lt;div&gt;&#10;                                                    &lt;p className=&quot;text-sm text-gray-600 mb-1&quot;&gt;Điểm CV của bạn&lt;/p&gt;&#10;                                                    &lt;div className=&quot;flex items-baseline gap-2&quot;&gt;&#10;                                                        &lt;span&#10;                                                            className=&quot;text-4xl font-bold text-blue-600&quot;&gt;{cvScore}&lt;/span&gt;&#10;                                                        &lt;span className=&quot;text-lg text-gray-500&quot;&gt;/ 10&lt;/span&gt;&#10;                                                    &lt;/div&gt;&#10;                                                &lt;/div&gt;&#10;                                                &lt;div className=&quot;relative w-20 h-20&quot;&gt;&#10;                                                    &lt;svg className=&quot;transform -rotate-90 w-20 h-20&quot;&gt;&#10;                                                        &lt;circle&#10;                                                            cx=&quot;40&quot;&#10;                                                            cy=&quot;40&quot;&#10;                                                            r=&quot;32&quot;&#10;                                                            stroke=&quot;currentColor&quot;&#10;                                                            strokeWidth=&quot;6&quot;&#10;                                                            fill=&quot;none&quot;&#10;                                                            className=&quot;text-gray-200&quot;&#10;                                                        /&gt;&#10;                                                        &lt;circle&#10;                                                            cx=&quot;40&quot;&#10;                                                            cy=&quot;40&quot;&#10;                                                            r=&quot;32&quot;&#10;                                                            stroke=&quot;currentColor&quot;&#10;                                                            strokeWidth=&quot;6&quot;&#10;                                                            fill=&quot;none&quot;&#10;                                                            strokeDasharray={`${2 * Math.PI * 32}`}&#10;                                                            strokeDashoffset={`${2 * Math.PI * 32 * (1 - cvScore / 10)}`}&#10;                                                            className=&quot;text-blue-500&quot;&#10;                                                            strokeLinecap=&quot;round&quot;&#10;                                                        /&gt;&#10;                                                    &lt;/svg&gt;&#10;                                                &lt;/div&gt;&#10;                                            &lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;&#10;                                        {/* Checklist */}&#10;                                        &lt;div className=&quot;space-y-3&quot;&gt;&#10;                                            &lt;h4 className=&quot;text-sm font-bold text-gray-700 uppercase tracking-wide&quot;&gt;Phân&#10;                                                tích chi tiết&lt;/h4&gt;&#10;                                            {cvChecklist.map((item, idx) =&gt; (&#10;                                                &lt;div&#10;                                                    key={idx}&#10;                                                    className={`flex items-start gap-3 p-3 rounded-lg border ${&#10;                                                        item.status === 'success'&#10;                                                            ? 'bg-green-50 border-green-200'&#10;                                                            : item.status === 'warning'&#10;                                                                ? 'bg-yellow-50 border-yellow-200'&#10;                                                                : 'bg-red-50 border-red-200'&#10;                                                    }`}&#10;                                                &gt;&#10;                                                    {item.status === 'success' ? (&#10;                                                        &lt;CheckCircle2 className=&quot;text-green-600 flex-shrink-0 mt-0.5&quot;&#10;                                                                      size={18}/&gt;&#10;                                                    ) : (&#10;                                                        &lt;AlertCircle className=&quot;text-yellow-600 flex-shrink-0 mt-0.5&quot;&#10;                                                                     size={18}/&gt;&#10;                                                    )}&#10;                                                    &lt;div className=&quot;flex-1&quot;&gt;&#10;                                                        &lt;p className=&quot;text-sm font-semibold text-gray-800 mb-0.5&quot;&gt;{item.name}&lt;/p&gt;&#10;                                                        &lt;p className=&quot;text-xs text-gray-600&quot;&gt;{item.message}&lt;/p&gt;&#10;                                                    &lt;/div&gt;&#10;                                                &lt;/div&gt;&#10;                                            ))}&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                )}&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        {/* ESSAY REVIEWER */}&#10;                        &lt;div className=&quot;bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden&quot;&gt;&#10;                            &lt;div className=&quot;bg-gradient-to-r from-purple-500 to-pink-500 px-6 py-4&quot;&gt;&#10;                                &lt;div className=&quot;flex items-center gap-3&quot;&gt;&#10;                                    &lt;div&#10;                                        className=&quot;w-10 h-10 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center&quot;&gt;&#10;                                        &lt;MessageSquare className=&quot;text-white&quot; size={20}/&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;div&gt;&#10;                                        &lt;h3 className=&quot;text-lg font-bold text-white&quot;&gt;Review Bài Luận&lt;/h3&gt;&#10;                                        &lt;p className=&quot;text-xs text-purple-100&quot;&gt;Phân tích và cải thiện bài essay&lt;/p&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;div className=&quot;p-6&quot;&gt;&#10;                                {/* Essay Input */}&#10;                                &lt;div className=&quot;mb-4&quot;&gt;&#10;                  &lt;textarea&#10;                      value={essayText}&#10;                      onChange={(e) =&gt; setEssayText(e.target.value)}&#10;                      placeholder=&quot;Dán bài luận của bạn vào đây...&quot;&#10;                      className=&quot;w-full h-48 px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-400 focus:outline-none resize-none text-sm text-gray-700 placeholder-gray-400&quot;&#10;                  /&gt;&#10;                                &lt;/div&gt;&#10;&#10;                                &lt;button&#10;                                    onClick={handleEssayAnalysis}&#10;                                    disabled={!essayText.trim() || isAnalyzingEssay}&#10;                                    className=&quot;w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 hover:from-purple-600 hover:to-pink-600 transition-all shadow-md disabled:opacity-50 disabled:cursor-not-allowed&quot;&#10;                                &gt;&#10;                                    {isAnalyzingEssay ? (&#10;                                        &lt;&gt;&#10;                                            &lt;div&#10;                                                className=&quot;w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin&quot;&gt;&lt;/div&gt;&#10;                                            Đang phân tích...&#10;                                        &lt;/&gt;&#10;                                    ) : (&#10;                                        &lt;&gt;&#10;                                            &lt;Eye size={18}/&gt;&#10;                                            Phân tích ngay&#10;                                        &lt;/&gt;&#10;                                    )}&#10;                                &lt;/button&gt;&#10;&#10;                                {/* Essay Analysis Results */}&#10;                                {essayAnalysis &amp;&amp; (&#10;                                    &lt;div className=&quot;mt-6 space-y-4&quot;&gt;&#10;                                        &lt;h4 className=&quot;text-sm font-bold text-gray-700 uppercase tracking-wide&quot;&gt;Kết quả&#10;                                            phân tích&lt;/h4&gt;&#10;&#10;                                        {/* Analysis Cards */}&#10;                                        &lt;div className=&quot;grid grid-cols-2 gap-3&quot;&gt;&#10;                                            &lt;div className=&quot;bg-blue-50 border border-blue-100 rounded-lg p-3&quot;&gt;&#10;                                                &lt;div className=&quot;flex items-center gap-2 mb-1&quot;&gt;&#10;                                                    &lt;Sparkles size={14} className=&quot;text-blue-600&quot;/&gt;&#10;                                                    &lt;span className=&quot;text-xs font-semibold text-blue-600&quot;&gt;Cảm xúc&lt;/span&gt;&#10;                                                &lt;/div&gt;&#10;                                                &lt;p className=&quot;text-sm font-medium text-gray-800&quot;&gt;{essayAnalysis.sentiment}&lt;/p&gt;&#10;                                            &lt;/div&gt;&#10;&#10;                                            &lt;div className=&quot;bg-green-50 border border-green-100 rounded-lg p-3&quot;&gt;&#10;                                                &lt;div className=&quot;flex items-center gap-2 mb-1&quot;&gt;&#10;                                                    &lt;BookOpen size={14} className=&quot;text-green-600&quot;/&gt;&#10;                                                    &lt;span&#10;                                                        className=&quot;text-xs font-semibold text-green-600&quot;&gt;Cấu trúc&lt;/span&gt;&#10;                                                &lt;/div&gt;&#10;                                                &lt;p className=&quot;text-sm font-medium text-gray-800&quot;&gt;{essayAnalysis.structure}&lt;/p&gt;&#10;                                            &lt;/div&gt;&#10;&#10;                                            &lt;div&#10;                                                className=&quot;col-span-2 bg-emerald-50 border border-emerald-100 rounded-lg p-3&quot;&gt;&#10;                                                &lt;div className=&quot;flex items-center gap-2 mb-1&quot;&gt;&#10;                                                    &lt;Shield size={14} className=&quot;text-emerald-600&quot;/&gt;&#10;                                                    &lt;span className=&quot;text-xs font-semibold text-emerald-600&quot;&gt;Check đạo văn&lt;/span&gt;&#10;                                                &lt;/div&gt;&#10;                                                &lt;p className=&quot;text-sm font-medium text-gray-800&quot;&gt;{essayAnalysis.plagiarism}&lt;/p&gt;&#10;                                            &lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;&#10;                                        {/* Suggestion Box */}&#10;                                        &lt;div&#10;                                            className=&quot;bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-200 rounded-xl p-4&quot;&gt;&#10;                                            &lt;div className=&quot;flex items-start gap-3&quot;&gt;&#10;                                                &lt;div&#10;                                                    className=&quot;w-8 h-8 rounded-full bg-yellow-400 flex items-center justify-center flex-shrink-0&quot;&gt;&#10;                                                    &lt;Lightbulb className=&quot;text-white&quot; size={16}/&gt;&#10;                                                &lt;/div&gt;&#10;                                                &lt;div&gt;&#10;                                                    &lt;p className=&quot;text-xs font-bold text-yellow-800 mb-1 uppercase tracking-wide&quot;&gt;Gợi&#10;                                                        ý cải thiện&lt;/p&gt;&#10;                                                    &lt;p className=&quot;text-sm text-gray-700 leading-relaxed&quot;&gt;{essayAnalysis.suggestion}&lt;/p&gt;&#10;                                                &lt;/div&gt;&#10;                                            &lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                )}&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                    &lt;/div&gt;&#10;                &lt;/section&gt;&#10;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    );&#10;};&#10;&#10;" />
              <option name="updatedContent" value="'use client';&#10;&#10;import React, {useState} from 'react';&#10;import {&#10;    TrendingUp, Users, BookOpen, Code, AlertCircle, CheckCircle2,&#10;    Upload, FileText, Sparkles, Target, ArrowRight, Lightbulb,&#10;    Award, Globe, BarChart3, MessageSquare, Eye, Shield&#10;} from 'lucide-react';&#10;&#10;// Types&#10;interface RecommendationCard {&#10;    id: string;&#10;    category: 'extracurricular' | 'academic' | 'skill' | 'language';&#10;    icon: React.ElementType;&#10;    problem: string;&#10;    solution: string;&#10;    actionText: string;&#10;    actionUrl: string;&#10;    color: string;&#10;    bgColor: string;&#10;    borderColor: string;&#10;}&#10;&#10;interface CVCheckItem {&#10;    name: string;&#10;    status: 'success' | 'warning' | 'error';&#10;    message: string;&#10;}&#10;&#10;interface EssayAnalysis {&#10;    sentiment: string;&#10;    structure: string;&#10;    plagiarism: string;&#10;    suggestion: string;&#10;}&#10;&#10;export const ProfileEnhancerPage: React.FC = () =&gt; {&#10;    // States&#10;    const [cvFile, setCvFile] = useState&lt;File | null&gt;(null);&#10;    const [cvScore, setCvScore] = useState&lt;number | null&gt;(null);&#10;    const [cvChecklist, setCvChecklist] = useState&lt;CVCheckItem[]&gt;([]);&#10;    const [essayText, setEssayText] = useState('');&#10;    const [essayAnalysis, setEssayAnalysis] = useState&lt;EssayAnalysis | null&gt;(null);&#10;    const [isAnalyzingEssay, setIsAnalyzingEssay] = useState(false);&#10;&#10;&#10;    // Mock Data - Recommendations&#10;    const recommendations: RecommendationCard[] = [&#10;        {&#10;            id: '1',&#10;            category: 'extracurricular',&#10;            icon: Users,&#10;            problem: 'Hồ sơ thiếu vai trò lãnh đạo trong hoạt động ngoại khóa',&#10;            solution: 'Tham gia cuộc thi Hùng biện cấp thành phố (City Debate Open 2025)',&#10;            actionText: 'Xem chi tiết cuộc thi',&#10;            actionUrl: '#',&#10;            color: 'text-blue-600',&#10;            bgColor: 'bg-blue-50',&#10;            borderColor: 'border-blue-200'&#10;        },&#10;        {&#10;            id: '2',&#10;            category: 'academic',&#10;            icon: Code,&#10;            problem: 'Điểm GPA môn Toán tốt nhưng thiếu ứng dụng thực tế',&#10;            solution: 'Hoàn thành khóa học &quot;Python for Data Science&quot; trên Coursera',&#10;            actionText: 'Đến khóa học',&#10;            actionUrl: '#',&#10;            color: 'text-orange-600',&#10;            bgColor: 'bg-orange-50',&#10;            borderColor: 'border-orange-200'&#10;        },&#10;        {&#10;            id: '3',&#10;            category: 'skill',&#10;            icon: Globe,&#10;            problem: 'Thiếu chứng chỉ ngoại ngữ quốc tế',&#10;            solution: 'Đăng ký thi IELTS hoặc TOEFL trong 3 tháng tới',&#10;            actionText: 'Xem lộ trình luyện thi',&#10;            actionUrl: '#',&#10;            color: 'text-purple-600',&#10;            bgColor: 'bg-purple-50',&#10;            borderColor: 'border-purple-200'&#10;        },&#10;        {&#10;            id: '4',&#10;            category: 'extracurricular',&#10;            icon: Award,&#10;            problem: 'Cần thêm hoạt động tình nguyện cộng đồng',&#10;            solution: 'Tham gia dự án &quot;Thắp sáng ước mơ&quot; - Dạy học miễn phí cho trẻ em vùng cao',&#10;            actionText: 'Tìm hiểu thêm',&#10;            actionUrl: '#',&#10;            color: 'text-green-600',&#10;            bgColor: 'bg-green-50',&#10;            borderColor: 'border-green-200'&#10;        }&#10;    ];&#10;&#10;    // Handle CV Upload&#10;    const handleCVUpload = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {&#10;        if (e.target.files &amp;&amp; e.target.files[0]) {&#10;            const file = e.target.files[0];&#10;            setCvFile(file);&#10;&#10;            // Simulate AI analysis&#10;            setTimeout(() =&gt; {&#10;                setCvScore(7.5);&#10;                setCvChecklist([&#10;                    {&#10;                        name: 'Sử dụng Action Verbs',&#10;                        status: 'success',&#10;                        message: 'Tốt! CV sử dụng nhiều động từ hành động mạnh mẽ.'&#10;                    },&#10;                    {&#10;                        name: 'Định lượng thành tích',&#10;                        status: 'warning',&#10;                        message: 'Hãy thay &quot;tăng doanh thu&quot; bằng &quot;tăng 20% doanh thu&quot;.'&#10;                    },&#10;                    {&#10;                        name: 'Cấu trúc rõ ràng',&#10;                        status: 'success',&#10;                        message: 'Layout CV dễ đọc, phân chia mục rõ ràng.'&#10;                    },&#10;                    {&#10;                        name: 'Độ dài phù hợp',&#10;                        status: 'success',&#10;                        message: 'CV có độ dài 1 trang - phù hợp cho sinh viên.'&#10;                    },&#10;                    {&#10;                        name: 'Từ khóa ngành nghề',&#10;                        status: 'warning',&#10;                        message: 'Nên bổ sung thêm các từ khóa chuyên ngành như &quot;Data Analysis&quot;, &quot;Project Management&quot;.'&#10;                    }&#10;                ]);&#10;            }, 1500);&#10;        }&#10;    };&#10;&#10;    // Handle Essay Analysis&#10;    const handleEssayAnalysis = () =&gt; {&#10;        if (!essayText.trim()) return;&#10;&#10;        setIsAnalyzingEssay(true);&#10;&#10;        // Simulate AI analysis&#10;        setTimeout(() =&gt; {&#10;            setEssayAnalysis({&#10;                sentiment: 'Tích cực / Truyền cảm hứng',&#10;                structure: 'Mở - Thân - Kết rõ ràng',&#10;                plagiarism: 'An toàn (0% trùng lặp)',&#10;                suggestion: 'Thử áp dụng kỹ thuật &quot;Show Don\'t Tell&quot; ở đoạn 2. Thay vì nói &quot;Tôi là người có trách nhiệm&quot;, hãy kể một câu chuyện cụ thể thể hiện điều đó.'&#10;            });&#10;            setIsAnalyzingEssay(false);&#10;        }, 2000);&#10;    };&#10;&#10;    return (&#10;        &lt;div className=&quot;min-h-screen bg-gradient-to-br from-gray-50 to-blue-50/30&quot;&gt;&#10;            &lt;div className=&quot;max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8&quot;&gt;&#10;&#10;&#10;                {/* HEADER &amp; GROWTH METRICS */}&#10;                &lt;div className=&quot;mb-10&quot;&gt;&#10;                    &lt;div className=&quot;flex items-center gap-3 mb-4&quot;&gt;&#10;                        &lt;div&#10;                            className=&quot;w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-lg&quot;&gt;&#10;                            &lt;Sparkles className=&quot;text-white&quot; size={24}/&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div&gt;&#10;                            &lt;h1 className=&quot;text-3xl font-bold text-gray-900&quot;&gt;Lộ Trình Cải Thiện Hồ Sơ AI&lt;/h1&gt;&#10;                            &lt;p className=&quot;text-gray-600 mt-1&quot;&gt;&#10;                                Dựa trên mục tiêu vào trường &lt;span className=&quot;font-semibold text-blue-600&quot;&gt;University of Melbourne&lt;/span&gt;,&#10;                                dưới đây là các đề xuất tối ưu cho bạn.&#10;                            &lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Growth Metrics Cards */}&#10;                    &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 gap-6 mt-6&quot;&gt;&#10;                        {/* Current Strength Card */}&#10;                        &lt;div&#10;                            className=&quot;bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow&quot;&gt;&#10;                            &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                                &lt;div&gt;&#10;                                    &lt;p className=&quot;text-sm font-medium text-gray-500 mb-1&quot;&gt;Sức mạnh hồ sơ hiện tại&lt;/p&gt;&#10;                                    &lt;div className=&quot;flex items-baseline gap-2&quot;&gt;&#10;                                        &lt;span className=&quot;text-4xl font-bold text-gray-900&quot;&gt;65%&lt;/span&gt;&#10;                                        &lt;span className=&quot;text-sm text-gray-500&quot;&gt;/ 100%&lt;/span&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div&#10;                                    className=&quot;w-16 h-16 rounded-full bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center shadow-lg&quot;&gt;&#10;                                    &lt;BarChart3 className=&quot;text-white&quot; size={28}/&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;w-full bg-gray-200 rounded-full h-3 overflow-hidden&quot;&gt;&#10;                                &lt;div&#10;                                    className=&quot;h-full bg-gradient-to-r from-orange-400 to-red-500 rounded-full transition-all duration-1000&quot;&#10;                                    style={{width: '65%'}}&#10;                                &gt;&lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;p className=&quot;text-xs text-gray-500 mt-3&quot;&gt;Cần cải thiện để đạt mục tiêu&lt;/p&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        {/* Potential After Improvement Card */}&#10;                        &lt;div&#10;                            className=&quot;bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl shadow-lg p-6 text-white relative overflow-hidden&quot;&gt;&#10;                            &lt;div&#10;                                className=&quot;absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16&quot;&gt;&lt;/div&gt;&#10;                            &lt;div className=&quot;relative z-10&quot;&gt;&#10;                                &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                                    &lt;div&gt;&#10;                                        &lt;p className=&quot;text-sm font-medium text-blue-100 mb-1&quot;&gt;Tiềm năng sau cải&#10;                                            thiện&lt;/p&gt;&#10;                                        &lt;div className=&quot;flex items-baseline gap-2&quot;&gt;&#10;                                            &lt;span className=&quot;text-4xl font-bold&quot;&gt;85%&lt;/span&gt;&#10;                                            &lt;span&#10;                                                className=&quot;inline-flex items-center gap-1 text-sm bg-green-400 text-green-900 px-2 py-0.5 rounded-full font-semibold&quot;&gt;&#10;                        &lt;TrendingUp size={14}/&gt;&#10;                        +20%&#10;                      &lt;/span&gt;&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;div&#10;                                        className=&quot;w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center&quot;&gt;&#10;                                        &lt;Target className=&quot;text-white&quot; size={28}/&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div className=&quot;w-full bg-white/20 rounded-full h-3 overflow-hidden&quot;&gt;&#10;                                    &lt;div&#10;                                        className=&quot;h-full bg-gradient-to-r from-green-400 to-emerald-400 rounded-full transition-all duration-1000&quot;&#10;                                        style={{width: '85%'}}&#10;                                    &gt;&lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;p className=&quot;text-xs text-blue-100 mt-3&quot;&gt;Khả năng trúng tuyển cao&lt;/p&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* SMART RECOMMENDATIONS SECTION */}&#10;                &lt;section className=&quot;mb-10&quot;&gt;&#10;                    &lt;div className=&quot;flex items-center gap-3 mb-6&quot;&gt;&#10;                        &lt;Lightbulb className=&quot;text-yellow-500&quot; size={28}/&gt;&#10;                        &lt;h2 className=&quot;text-2xl font-bold text-gray-900&quot;&gt;Gợi Ý Chiến Lược Thông Minh&lt;/h2&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 gap-6&quot;&gt;&#10;                        {recommendations.map((rec) =&gt; {&#10;                            const IconComponent = rec.icon;&#10;                            return (&#10;                                &lt;div&#10;                                    key={rec.id}&#10;                                    className={`bg-white rounded-2xl border-2 ${rec.borderColor} p-6 hover:shadow-lg transition-all duration-300 hover:-translate-y-1`}&#10;                                &gt;&#10;                                    &lt;div className=&quot;flex items-start gap-4 mb-4&quot;&gt;&#10;                                        &lt;div&#10;                                            className={`w-12 h-12 rounded-xl ${rec.bgColor} flex items-center justify-center flex-shrink-0`}&gt;&#10;                                            &lt;IconComponent className={rec.color} size={24}/&gt;&#10;                                        &lt;/div&gt;&#10;                                        &lt;div className=&quot;flex-1&quot;&gt;&#10;                                            &lt;div className=&quot;flex items-center gap-2 mb-2&quot;&gt;&#10;                                                &lt;AlertCircle size={16} className=&quot;text-red-500&quot;/&gt;&#10;                                                &lt;span className=&quot;text-sm font-semibold text-red-600&quot;&gt;Vấn đề&lt;/span&gt;&#10;                                            &lt;/div&gt;&#10;                                            &lt;p className=&quot;text-sm text-gray-700 mb-3&quot;&gt;{rec.problem}&lt;/p&gt;&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div className={`${rec.bgColor} rounded-xl p-4 mb-4`}&gt;&#10;                                        &lt;div className=&quot;flex items-center gap-2 mb-2&quot;&gt;&#10;                                            &lt;Sparkles size={16} className={rec.color}/&gt;&#10;                                            &lt;span className={`text-sm font-semibold ${rec.color}`}&gt;Giải pháp AI&lt;/span&gt;&#10;                                        &lt;/div&gt;&#10;                                        &lt;p className=&quot;text-sm text-gray-800 font-medium&quot;&gt;{rec.solution}&lt;/p&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;button&#10;                                        className={`w-full ${rec.color.replace('text-', 'bg-')} text-white px-4 py-3 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 hover:opacity-90 transition-opacity shadow-md`}&#10;                                    &gt;&#10;                                        {rec.actionText}&#10;                                        &lt;ArrowRight size={16}/&gt;&#10;                                    &lt;/button&gt;&#10;                                &lt;/div&gt;&#10;                            );&#10;                        })}&#10;                    &lt;/div&gt;&#10;                &lt;/section&gt;&#10;&#10;                {/* AI TOOLS GRID SECTION */}&#10;                &lt;section&gt;&#10;                    &lt;div className=&quot;flex items-center gap-3 mb-6&quot;&gt;&#10;                        &lt;div&#10;                            className=&quot;w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center&quot;&gt;&#10;                            &lt;Sparkles className=&quot;text-white&quot; size={20}/&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;h2 className=&quot;text-2xl font-bold text-gray-900&quot;&gt;Công Cụ Hỗ Trợ AI&lt;/h2&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div className=&quot;grid grid-cols-1 lg:grid-cols-2 gap-8&quot;&gt;&#10;&#10;                        {/* CV ASSISTANT */}&#10;                        &lt;div className=&quot;bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden&quot;&gt;&#10;                            &lt;div className=&quot;bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-4&quot;&gt;&#10;                                &lt;div className=&quot;flex items-center gap-3&quot;&gt;&#10;                                    &lt;div&#10;                                        className=&quot;w-10 h-10 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center&quot;&gt;&#10;                                        &lt;FileText className=&quot;text-white&quot; size={20}/&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;div&gt;&#10;                                        &lt;h3 className=&quot;text-lg font-bold text-white&quot;&gt;Trợ lý CV&lt;/h3&gt;&#10;                                        &lt;p className=&quot;text-xs text-blue-100&quot;&gt;Phân tích và tối ưu CV của bạn&lt;/p&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;div className=&quot;p-6&quot;&gt;&#10;                                {/* Upload Area */}&#10;                                &lt;div className=&quot;mb-6&quot;&gt;&#10;                                    &lt;label&#10;                                        htmlFor=&quot;cv-upload&quot;&#10;                                        className=&quot;block w-full border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-blue-400 hover:bg-blue-50/50 transition-all cursor-pointer group&quot;&#10;                                    &gt;&#10;                                        &lt;div className=&quot;flex flex-col items-center&quot;&gt;&#10;                                            &lt;div&#10;                                                className=&quot;w-16 h-16 rounded-full bg-blue-50 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform&quot;&gt;&#10;                                                &lt;Upload className=&quot;text-blue-500&quot; size={28}/&gt;&#10;                                            &lt;/div&gt;&#10;                                            &lt;p className=&quot;text-sm font-semibold text-gray-700 mb-1&quot;&gt;&#10;                                                {cvFile ? cvFile.name : 'Kéo thả file CV hoặc nhấn để chọn'}&#10;                                            &lt;/p&gt;&#10;                                            &lt;p className=&quot;text-xs text-gray-500&quot;&gt;Hỗ trợ PDF, DOCX (Tối đa 5MB)&lt;/p&gt;&#10;                                        &lt;/div&gt;&#10;                                    &lt;/label&gt;&#10;                                    &lt;input&#10;                                        id=&quot;cv-upload&quot;&#10;                                        type=&quot;file&quot;&#10;                                        className=&quot;hidden&quot;&#10;                                        accept=&quot;.pdf,.doc,.docx&quot;&#10;                                        onChange={handleCVUpload}&#10;                                    /&gt;&#10;                                &lt;/div&gt;&#10;&#10;                                {/* CV Analysis Results */}&#10;                                {cvScore !== null &amp;&amp; (&#10;                                    &lt;div className=&quot;space-y-4&quot;&gt;&#10;                                        {/* Score Display */}&#10;                                        &lt;div&#10;                                            className=&quot;bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-5 border border-blue-100&quot;&gt;&#10;                                            &lt;div className=&quot;flex items-center justify-between&quot;&gt;&#10;                                                &lt;div&gt;&#10;                                                    &lt;p className=&quot;text-sm text-gray-600 mb-1&quot;&gt;Điểm CV của bạn&lt;/p&gt;&#10;                                                    &lt;div className=&quot;flex items-baseline gap-2&quot;&gt;&#10;                                                        &lt;span&#10;                                                            className=&quot;text-4xl font-bold text-blue-600&quot;&gt;{cvScore}&lt;/span&gt;&#10;                                                        &lt;span className=&quot;text-lg text-gray-500&quot;&gt;/ 10&lt;/span&gt;&#10;                                                    &lt;/div&gt;&#10;                                                &lt;/div&gt;&#10;                                                &lt;div className=&quot;relative w-20 h-20&quot;&gt;&#10;                                                    &lt;svg className=&quot;transform -rotate-90 w-20 h-20&quot;&gt;&#10;                                                        &lt;circle&#10;                                                            cx=&quot;40&quot;&#10;                                                            cy=&quot;40&quot;&#10;                                                            r=&quot;32&quot;&#10;                                                            stroke=&quot;currentColor&quot;&#10;                                                            strokeWidth=&quot;6&quot;&#10;                                                            fill=&quot;none&quot;&#10;                                                            className=&quot;text-gray-200&quot;&#10;                                                        /&gt;&#10;                                                        &lt;circle&#10;                                                            cx=&quot;40&quot;&#10;                                                            cy=&quot;40&quot;&#10;                                                            r=&quot;32&quot;&#10;                                                            stroke=&quot;currentColor&quot;&#10;                                                            strokeWidth=&quot;6&quot;&#10;                                                            fill=&quot;none&quot;&#10;                                                            strokeDasharray={`${2 * Math.PI * 32}`}&#10;                                                            strokeDashoffset={`${2 * Math.PI * 32 * (1 - cvScore / 10)}`}&#10;                                                            className=&quot;text-blue-500&quot;&#10;                                                            strokeLinecap=&quot;round&quot;&#10;                                                        /&gt;&#10;                                                    &lt;/svg&gt;&#10;                                                &lt;/div&gt;&#10;                                            &lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;&#10;                                        {/* Checklist */}&#10;                                        &lt;div className=&quot;space-y-3&quot;&gt;&#10;                                            &lt;h4 className=&quot;text-sm font-bold text-gray-700 uppercase tracking-wide&quot;&gt;Phân&#10;                                                tích chi tiết&lt;/h4&gt;&#10;                                            {cvChecklist.map((item, idx) =&gt; (&#10;                                                &lt;div&#10;                                                    key={idx}&#10;                                                    className={`flex items-start gap-3 p-3 rounded-lg border ${&#10;                                                        item.status === 'success'&#10;                                                            ? 'bg-green-50 border-green-200'&#10;                                                            : item.status === 'warning'&#10;                                                                ? 'bg-yellow-50 border-yellow-200'&#10;                                                                : 'bg-red-50 border-red-200'&#10;                                                    }`}&#10;                                                &gt;&#10;                                                    {item.status === 'success' ? (&#10;                                                        &lt;CheckCircle2 className=&quot;text-green-600 flex-shrink-0 mt-0.5&quot;&#10;                                                                      size={18}/&gt;&#10;                                                    ) : (&#10;                                                        &lt;AlertCircle className=&quot;text-yellow-600 flex-shrink-0 mt-0.5&quot;&#10;                                                                     size={18}/&gt;&#10;                                                    )}&#10;                                                    &lt;div className=&quot;flex-1&quot;&gt;&#10;                                                        &lt;p className=&quot;text-sm font-semibold text-gray-800 mb-0.5&quot;&gt;{item.name}&lt;/p&gt;&#10;                                                        &lt;p className=&quot;text-xs text-gray-600&quot;&gt;{item.message}&lt;/p&gt;&#10;                                                    &lt;/div&gt;&#10;                                                &lt;/div&gt;&#10;                                            ))}&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                )}&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        {/* ESSAY REVIEWER */}&#10;                        &lt;div className=&quot;bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden&quot;&gt;&#10;                            &lt;div className=&quot;bg-gradient-to-r from-purple-500 to-pink-500 px-6 py-4&quot;&gt;&#10;                                &lt;div className=&quot;flex items-center gap-3&quot;&gt;&#10;                                    &lt;div&#10;                                        className=&quot;w-10 h-10 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center&quot;&gt;&#10;                                        &lt;MessageSquare className=&quot;text-white&quot; size={20}/&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;div&gt;&#10;                                        &lt;h3 className=&quot;text-lg font-bold text-white&quot;&gt;Review Bài Luận&lt;/h3&gt;&#10;                                        &lt;p className=&quot;text-xs text-purple-100&quot;&gt;Phân tích và cải thiện bài essay&lt;/p&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;div className=&quot;p-6&quot;&gt;&#10;                                {/* Essay Input */}&#10;                                &lt;div className=&quot;mb-4&quot;&gt;&#10;                  &lt;textarea&#10;                      value={essayText}&#10;                      onChange={(e) =&gt; setEssayText(e.target.value)}&#10;                      placeholder=&quot;Dán bài luận của bạn vào đây...&quot;&#10;                      className=&quot;w-full h-48 px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-400 focus:outline-none resize-none text-sm text-gray-700 placeholder-gray-400&quot;&#10;                  /&gt;&#10;                                &lt;/div&gt;&#10;&#10;                                &lt;button&#10;                                    onClick={handleEssayAnalysis}&#10;                                    disabled={!essayText.trim() || isAnalyzingEssay}&#10;                                    className=&quot;w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 hover:from-purple-600 hover:to-pink-600 transition-all shadow-md disabled:opacity-50 disabled:cursor-not-allowed&quot;&#10;                                &gt;&#10;                                    {isAnalyzingEssay ? (&#10;                                        &lt;&gt;&#10;                                            &lt;div&#10;                                                className=&quot;w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin&quot;&gt;&lt;/div&gt;&#10;                                            Đang phân tích...&#10;                                        &lt;/&gt;&#10;                                    ) : (&#10;                                        &lt;&gt;&#10;                                            &lt;Eye size={18}/&gt;&#10;                                            Phân tích ngay&#10;                                        &lt;/&gt;&#10;                                    )}&#10;                                &lt;/button&gt;&#10;&#10;                                {/* Essay Analysis Results */}&#10;                                {essayAnalysis &amp;&amp; (&#10;                                    &lt;div className=&quot;mt-6 space-y-4&quot;&gt;&#10;                                        &lt;h4 className=&quot;text-sm font-bold text-gray-700 uppercase tracking-wide&quot;&gt;Kết quả&#10;                                            phân tích&lt;/h4&gt;&#10;&#10;                                        {/* Analysis Cards */}&#10;                                        &lt;div className=&quot;grid grid-cols-2 gap-3&quot;&gt;&#10;                                            &lt;div className=&quot;bg-blue-50 border border-blue-100 rounded-lg p-3&quot;&gt;&#10;                                                &lt;div className=&quot;flex items-center gap-2 mb-1&quot;&gt;&#10;                                                    &lt;Sparkles size={14} className=&quot;text-blue-600&quot;/&gt;&#10;                                                    &lt;span className=&quot;text-xs font-semibold text-blue-600&quot;&gt;Cảm xúc&lt;/span&gt;&#10;                                                &lt;/div&gt;&#10;                                                &lt;p className=&quot;text-sm font-medium text-gray-800&quot;&gt;{essayAnalysis.sentiment}&lt;/p&gt;&#10;                                            &lt;/div&gt;&#10;&#10;                                            &lt;div className=&quot;bg-green-50 border border-green-100 rounded-lg p-3&quot;&gt;&#10;                                                &lt;div className=&quot;flex items-center gap-2 mb-1&quot;&gt;&#10;                                                    &lt;BookOpen size={14} className=&quot;text-green-600&quot;/&gt;&#10;                                                    &lt;span&#10;                                                        className=&quot;text-xs font-semibold text-green-600&quot;&gt;Cấu trúc&lt;/span&gt;&#10;                                                &lt;/div&gt;&#10;                                                &lt;p className=&quot;text-sm font-medium text-gray-800&quot;&gt;{essayAnalysis.structure}&lt;/p&gt;&#10;                                            &lt;/div&gt;&#10;&#10;                                            &lt;div&#10;                                                className=&quot;col-span-2 bg-emerald-50 border border-emerald-100 rounded-lg p-3&quot;&gt;&#10;                                                &lt;div className=&quot;flex items-center gap-2 mb-1&quot;&gt;&#10;                                                    &lt;Shield size={14} className=&quot;text-emerald-600&quot;/&gt;&#10;                                                    &lt;span className=&quot;text-xs font-semibold text-emerald-600&quot;&gt;Check đạo văn&lt;/span&gt;&#10;                                                &lt;/div&gt;&#10;                                                &lt;p className=&quot;text-sm font-medium text-gray-800&quot;&gt;{essayAnalysis.plagiarism}&lt;/p&gt;&#10;                                            &lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;&#10;                                        {/* Suggestion Box */}&#10;                                        &lt;div&#10;                                            className=&quot;bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-200 rounded-xl p-4&quot;&gt;&#10;                                            &lt;div className=&quot;flex items-start gap-3&quot;&gt;&#10;                                                &lt;div&#10;                                                    className=&quot;w-8 h-8 rounded-full bg-yellow-400 flex items-center justify-center flex-shrink-0&quot;&gt;&#10;                                                    &lt;Lightbulb className=&quot;text-white&quot; size={16}/&gt;&#10;                                                &lt;/div&gt;&#10;                                                &lt;div&gt;&#10;                                                    &lt;p className=&quot;text-xs font-bold text-yellow-800 mb-1 uppercase tracking-wide&quot;&gt;Gợi&#10;                                                        ý cải thiện&lt;/p&gt;&#10;                                                    &lt;p className=&quot;text-sm text-gray-700 leading-relaxed&quot;&gt;{essayAnalysis.suggestion}&lt;/p&gt;&#10;                                                &lt;/div&gt;&#10;                                            &lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                )}&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                    &lt;/div&gt;&#10;                &lt;/section&gt;&#10;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    );&#10;};&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/layout/Footer.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/layout/Footer.tsx" />
              <option name="originalContent" value="&quot;use client&quot;;&#10;import React from 'react';&#10;import {Globe, Users, Mail, Facebook, Instagram, Send} from 'lucide-react';&#10;import {FontAwesomeIcon} from '@fortawesome/react-fontawesome';&#10;import {faTiktok} from '@fortawesome/free-brands-svg-icons';&#10;import {BRAND_COLORS} from '../../lib/data'; // Sử dụng đường dẫn tương đối để tránh lỗi&#10;&#10;export default function Footer() {&#10;    return (&#10;        &lt;footer id=&quot;contact&quot; className=&quot;bg-[var(--footer-bg)] text-slate-300 py-16 border-t border-slate-800&quot;&gt;&#10;            &lt;div className=&quot;container mx-auto px-4 grid md:grid-cols-3 gap-12&quot;&gt;&#10;&#10;                {/* Cột 1: Thông tin thương hiệu */}&#10;                &lt;div&gt;&#10;                    &lt;div className=&quot;flex items-center gap-2 mb-4&quot;&gt;&#10;                        {/* Logo text */}&#10;                        &lt;span className={`text-2xl font-bold ${BRAND_COLORS.textGradient}`}&gt;HOLYANN&lt;/span&gt;&#10;                        &lt;span className=&quot;text-2xl font-bold text-white&quot;&gt;EXPLORE&lt;/span&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;p className=&quot;mb-6 opacity-80 text-sm leading-relaxed&quot;&gt;&#10;                        Future by Design - Vẽ đường tương lai, định hình ngày mai. Chúng tôi đồng hành cùng bạn chinh&#10;                        phục giấc mơ du học.&#10;                    &lt;/p&gt;&#10;&#10;                    {/* Social Icons */}&#10;                    &lt;div className=&quot;flex gap-4&quot;&gt;&#10;                        &lt;a href=&quot;#&quot;&#10;                           className=&quot;w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-[var(--brand-blue)] transition-all hover:-translate-y-1&quot;&gt;&#10;                            &lt;Facebook size={18} className=&quot;text-white&quot;/&gt;&#10;                        &lt;/a&gt;&#10;                        &lt;a href=&quot;#&quot;&#10;                           className=&quot;w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-[var(--instagram)] transition-all hover:-translate-y-1&quot;&gt;&#10;                            &lt;Instagram size={18} className=&quot;text-white&quot;/&gt;&#10;                        &lt;/a&gt;&#10;                        &lt;a href=&quot;#&quot;&#10;                           className=&quot;w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-black transition-all hover:-translate-y-1&quot;&gt;&#10;                            &lt;FontAwesomeIcon icon={faTiktok} className=&quot;text-white text-lg&quot;/&gt;&#10;                        &lt;/a&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Cột 2: Liên hệ nhanh (Dữ liệu từ Booklet) */}&#10;                &lt;div&gt;&#10;                    &lt;h4 className=&quot;text-white font-bold mb-6 uppercase tracking-wider text-sm border-b border-slate-700 pb-2 inline-block&quot;&gt;&#10;                        Thông Tin Liên Hệ&#10;                    &lt;/h4&gt;&#10;                    &lt;ul className=&quot;space-y-4 text-sm&quot;&gt;&#10;                        &lt;li className=&quot;flex items-start gap-3&quot;&gt;&#10;                            &lt;Mail className=&quot;w-5 h-5 text-blue-500 shrink-0&quot;/&gt;&#10;                            &lt;a href=&quot;mailto:holyann.contact@gmail.com&quot;&#10;                               className=&quot;hover:text-blue-400 transition-colors break-all&quot;&gt;&#10;                                holyann.contact@gmail.com&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li className=&quot;flex items-start gap-3&quot;&gt;&#10;                            &lt;Facebook className=&quot;w-5 h-5 text-blue-500 shrink-0&quot;/&gt;&#10;                            &lt;a href=&quot;https://www.facebook.com/holyannxplore&quot;&#10;                               target=&quot;_blank&quot;&#10;                               rel=&quot;noopener noreferrer&quot;&#10;                               className=&quot;hover:text-blue-400 transition-colors&quot;&gt;&#10;                                Holyann Explore&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li className=&quot;flex items-start gap-3&quot;&gt;&#10;                            &lt;Instagram className=&quot;w-5 h-5 text-blue-500 shrink-0&quot;/&gt;&#10;                            &lt;a href=&quot;https://www.instagram.com/holyannexplore/&quot;&#10;                               target=&quot;_blank&quot;&#10;                               rel=&quot;noopener noreferrer&quot;&#10;                               className=&quot;hover:text-blue-400 transition-colors&quot;&gt;&#10;                                @holyannexplore&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li className=&quot;flex items-start gap-3&quot;&gt;&#10;                            &lt;FontAwesomeIcon icon={faTiktok} className=&quot;text-blue-500 text-lg shrink-0 mt-0.5&quot;/&gt;&#10;                            &lt;a href=&quot;https://www.tiktok.com/@holyannexplore&quot;&#10;                               target=&quot;_blank&quot;&#10;                               rel=&quot;noopener noreferrer&quot;&#10;                               className=&quot;hover:text-blue-400 transition-colors&quot;&gt;&#10;                                @holyannexplore&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                    &lt;/ul&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Cột 3: Đăng ký nhận tin (CTA) */}&#10;                &lt;div&gt;&#10;                    &lt;h4 className=&quot;text-white font-bold mb-6 uppercase tracking-wider text-sm border-b border-slate-700 pb-2 inline-block&quot;&gt;&#10;                        Nhận tin tức mới nhất về du học&#10;                    &lt;/h4&gt;&#10;                    &lt;p className=&quot;text-xs mb-4 opacity-70&quot;&gt;&#10;                        Để lại email để nhận tài liệu hướng dẫn săn học bổng và lộ trình du học miễn phí từ Holyann.&#10;                    &lt;/p&gt;&#10;                    &lt;div className=&quot;flex flex-col gap-3&quot;&gt;&#10;                        &lt;input&#10;                            type=&quot;email&quot;&#10;                            placeholder=&quot;Email của bạn...&quot;&#10;                            className=&quot;bg-slate-800 border border-slate-700 text-white rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-[var(--brand-blue)] outline-none transition-all placeholder:text-slate-500&quot;&#10;                        /&gt;&#10;                        &lt;button&#10;                            className={`${BRAND_COLORS.primaryGradient} text-white px-4 py-3 rounded-lg font-bold transition-all hover:opacity-90 hover:shadow-lg flex items-center justify-center gap-2`}&gt;&#10;                            &lt;Send size={16}/&gt; Gửi Đăng Ký&#10;                        &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            {/* Copyright Bar */}&#10;            &lt;div className=&quot;container mx-auto px-4 mt-12 pt-8 border-t border-slate-800 text-center text-xs opacity-50&quot;&gt;&#10;                &lt;p&gt;© 2025 Holyann Explore - Future by Design. All rights reserved.&lt;/p&gt;&#10;            &lt;/div&gt;&#10;        &lt;/footer&gt;&#10;    );&#10;}" />
              <option name="updatedContent" value="&quot;use client&quot;;&#13;&#10;import React from 'react';&#13;&#10;import {Globe, Users, Mail, Facebook, Instagram, Send} from 'lucide-react';&#13;&#10;import {FontAwesomeIcon} from '@fortawesome/react-fontawesome';&#13;&#10;import {faTiktok} from '@fortawesome/free-brands-svg-icons';&#13;&#10;import {BRAND_COLORS} from '../../lib/data'; // Sử dụng đường dẫn tương đối để tránh lỗi&#13;&#10;&#13;&#10;export default function Footer() {&#13;&#10;    return (&#13;&#10;        &lt;footer id=&quot;contact&quot; className=&quot;bg-[var(--footer-bg)] text-slate-300 py-16 border-t border-slate-800&quot;&gt;&#13;&#10;            &lt;div className=&quot;container mx-auto px-4 grid md:grid-cols-3 gap-12&quot;&gt;&#13;&#10;&#13;&#10;                {/* Cột 1: Thông tin thương hiệu */}&#13;&#10;                &lt;div&gt;&#13;&#10;                    &lt;div className=&quot;flex items-center gap-2 mb-4&quot;&gt;&#13;&#10;                        {/* Logo text */}&#13;&#10;                        &lt;span className={`text-2xl font-bold ${BRAND_COLORS.textGradient}`}&gt;HOLYANN&lt;/span&gt;&#13;&#10;                        &lt;span className=&quot;text-2xl font-bold text-white&quot;&gt;EXPLORE&lt;/span&gt;&#13;&#10;                    &lt;/div&gt;&#13;&#10;                    &lt;p className=&quot;mb-6 opacity-80 text-sm leading-relaxed&quot;&gt;&#13;&#10;                        Future by Design - Vẽ đường tương lai, định hình ngày mai. Chúng tôi đồng hành cùng bạn chinh&#13;&#10;                        phục giấc mơ du học.&#13;&#10;                    &lt;/p&gt;&#13;&#10;&#13;&#10;                    {/* Social Icons */}&#13;&#10;                    &lt;div className=&quot;flex gap-4&quot;&gt;&#13;&#10;                        &lt;a href=&quot;#&quot;&#13;&#10;                           className=&quot;w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-[var(--brand-blue)] transition-all hover:-translate-y-1&quot;&gt;&#13;&#10;                            &lt;Facebook size={18} className=&quot;text-white&quot;/&gt;&#13;&#10;                        &lt;/a&gt;&#13;&#10;                        &lt;a href=&quot;#&quot;&#13;&#10;                           className=&quot;w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-[var(--instagram)] transition-all hover:-translate-y-1&quot;&gt;&#13;&#10;                            &lt;Instagram size={18} className=&quot;text-white&quot;/&gt;&#13;&#10;                        &lt;/a&gt;&#13;&#10;                        &lt;a href=&quot;#&quot;&#13;&#10;                           className=&quot;w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-black transition-all hover:-translate-y-1&quot;&gt;&#13;&#10;                            &lt;FontAwesomeIcon icon={faTiktok} className=&quot;text-white text-lg&quot;/&gt;&#13;&#10;                        &lt;/a&gt;&#13;&#10;                    &lt;/div&gt;&#13;&#10;                &lt;/div&gt;&#13;&#10;&#13;&#10;                {/* Cột 2: Liên hệ nhanh (Dữ liệu từ Booklet) */}&#13;&#10;                &lt;div&gt;&#13;&#10;                    &lt;h4 className=&quot;text-white font-bold mb-6 uppercase tracking-wider text-sm border-b border-slate-700 pb-2 inline-block&quot;&gt;&#13;&#10;                        Thông Tin Liên Hệ&#13;&#10;                    &lt;/h4&gt;&#13;&#10;                    &lt;ul className=&quot;space-y-4 text-sm&quot;&gt;&#13;&#10;                        &lt;li className=&quot;flex items-start gap-3&quot;&gt;&#13;&#10;                            &lt;Mail className=&quot;w-5 h-5 text-blue-500 shrink-0&quot;/&gt;&#13;&#10;                            &lt;a href=&quot;mailto:holyann.contact@gmail.com&quot;&#13;&#10;                               className=&quot;hover:text-blue-400 transition-colors break-all&quot;&gt;&#13;&#10;                                holyann.contact@gmail.com&#13;&#10;                            &lt;/a&gt;&#13;&#10;                        &lt;/li&gt;&#13;&#10;                        &lt;li className=&quot;flex items-start gap-3&quot;&gt;&#13;&#10;                            &lt;Facebook className=&quot;w-5 h-5 text-blue-500 shrink-0&quot;/&gt;&#13;&#10;                            &lt;a href=&quot;https://www.facebook.com/holyannxplore&quot;&#13;&#10;                               target=&quot;_blank&quot;&#13;&#10;                               rel=&quot;noopener noreferrer&quot;&#13;&#10;                               className=&quot;hover:text-blue-400 transition-colors&quot;&gt;&#13;&#10;                                Holyann Explore&#13;&#10;                            &lt;/a&gt;&#13;&#10;                        &lt;/li&gt;&#13;&#10;                        &lt;li className=&quot;flex items-start gap-3&quot;&gt;&#13;&#10;                            &lt;Instagram className=&quot;w-5 h-5 text-blue-500 shrink-0&quot;/&gt;&#13;&#10;                            &lt;a href=&quot;https://www.instagram.com/holyannexplore/&quot;&#13;&#10;                               target=&quot;_blank&quot;&#13;&#10;                               rel=&quot;noopener noreferrer&quot;&#13;&#10;                               className=&quot;hover:text-blue-400 transition-colors&quot;&gt;&#13;&#10;                                @holyannexplore&#13;&#10;                            &lt;/a&gt;&#13;&#10;                        &lt;/li&gt;&#13;&#10;                        &lt;li className=&quot;flex items-start gap-3&quot;&gt;&#13;&#10;                            &lt;FontAwesomeIcon icon={faTiktok} className=&quot;text-blue-500 text-lg shrink-0 mt-0.5&quot;/&gt;&#13;&#10;                            &lt;a href=&quot;https://www.tiktok.com/@holyannexplore&quot;&#13;&#10;                               target=&quot;_blank&quot;&#13;&#10;                               rel=&quot;noopener noreferrer&quot;&#13;&#10;                               className=&quot;hover:text-blue-400 transition-colors&quot;&gt;&#13;&#10;                                @holyannexplore&#13;&#10;                            &lt;/a&gt;&#13;&#10;                        &lt;/li&gt;&#13;&#10;                    &lt;/ul&gt;&#13;&#10;                &lt;/div&gt;&#13;&#10;&#13;&#10;                {/* Cột 3: Đăng ký nhận tin (CTA) */}&#13;&#10;                &lt;div&gt;&#13;&#10;                    &lt;h4 className=&quot;text-white font-bold mb-6 uppercase tracking-wider text-sm border-b border-slate-700 pb-2 inline-block&quot;&gt;&#13;&#10;                        Nhận Tư Vấn Ngay&#13;&#10;                    &lt;/h4&gt;&#13;&#10;                    &lt;p className=&quot;text-xs mb-4 opacity-70&quot;&gt;&#13;&#10;                        Để lại email để nhận tài liệu hướng dẫn săn học bổng và lộ trình du học miễn phí từ Holyann.&#13;&#10;                    &lt;/p&gt;&#13;&#10;                    &lt;div className=&quot;flex flex-col gap-3&quot;&gt;&#13;&#10;                        &lt;input&#13;&#10;                            type=&quot;email&quot;&#13;&#10;                            placeholder=&quot;Email của bạn...&quot;&#13;&#10;                            className=&quot;bg-slate-800 border border-slate-700 text-white rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-[var(--brand-blue)] outline-none transition-all placeholder:text-slate-500&quot;&#13;&#10;                        /&gt;&#13;&#10;                        &lt;button&#13;&#10;                            className={`${BRAND_COLORS.primaryGradient} text-white px-4 py-3 rounded-lg font-bold transition-all hover:opacity-90 hover:shadow-lg flex items-center justify-center gap-2`}&gt;&#13;&#10;                            &lt;Send size={16}/&gt; Gửi Đăng Ký&#13;&#10;                        &lt;/button&gt;&#13;&#10;                    &lt;/div&gt;&#13;&#10;                &lt;/div&gt;&#13;&#10;            &lt;/div&gt;&#13;&#10;&#13;&#10;            {/* Copyright Bar */}&#13;&#10;            &lt;div className=&quot;container mx-auto px-4 mt-12 pt-8 border-t border-slate-800 text-center text-xs opacity-50&quot;&gt;&#13;&#10;                &lt;p&gt;© 2025 Holyann Explore - Future by Design. All rights reserved.&lt;/p&gt;&#13;&#10;            &lt;/div&gt;&#13;&#10;        &lt;/footer&gt;&#13;&#10;    );&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/types.ts">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/types.ts" />
              <option name="originalContent" value="export type DocumentType = 'transcript' | 'certificate' | 'letter' | 'essay' | 'other';&#10;&#10;export interface Extracurricular {&#10;    id: string;&#10;    title: string;&#10;    role: string;&#10;    year: string;&#10;    description: string;&#10;}&#10;&#10;export interface Document {&#10;    id: string;&#10;    name: string;&#10;    type: DocumentType;&#10;    uploadDate: string;&#10;    size: string;&#10;}&#10;&#10;export interface StudentProfile {&#10;    id: string;&#10;    name: string;&#10;    email: string;&#10;    phone: string;&#10;    address: string;&#10;    dob: string;&#10;    avatarUrl: string;&#10;    gpa: number;&#10;    gpaScale: number;&#10;    englishLevel: string;&#10;    satScore?: number;&#10;    targetMajor: string;&#10;    targetCountry: string;&#10;    extracurriculars: Extracurricular[];&#10;    achievements: string[];&#10;    documents: Document[];&#10;}&#10;&#10;export interface SwotItem {&#10;    id: string;&#10;    text: string;&#10;    category: 'strength' | 'weakness' | 'opportunity' | 'threat';&#10;}&#10;&#10;export interface StrategyItem {&#10;    title: string;&#10;    description: string;&#10;}&#10;&#10;export interface SwotData {&#10;    strengths: string[];&#10;    weaknesses: string[];&#10;    opportunities: string[];&#10;    threats: string[];&#10;    strategicAdvice: StrategyItem[];&#10;    scores: {&#10;        academic: number;&#10;        extracurricular: number;&#10;        skills: number;&#10;        language: number;&#10;        leadership: number;&#10;    }&#10;}&#10;&#10;export interface Task {&#10;    id: string;&#10;    title: string;&#10;    deadline: string;&#10;    isCompleted: boolean;&#10;    category?: string; // e.g., &quot;Hồ sơ học thuật&quot;, &quot;Tài liệu cần thiết&quot;&#10;    stageId: number;&#10;&#10;    // New fields for file upload feature&#10;    requiresFile?: boolean;    // Does this task require a file upload?&#10;    uploadedFile?: string;     // Name of the uploaded file (if any)&#10;    feedback?: string;         // Mentor feedback&#10;}&#10;&#10;export interface Stage {&#10;    id: number;&#10;    name: string;&#10;    description: string;&#10;    isUnlocked: boolean;&#10;}&#10;&#10;export type TestType = 'MBTI' | 'GRIT' | 'RIASEC';&#10;&#10;export interface Question {&#10;    id: number;&#10;    text: string;&#10;    type: TestType;&#10;    // For MBTI&#10;    optionA?: string;&#10;    optionB?: string;&#10;    dimension?: string; // E.g., 'EI', 'SN', 'TF', 'JP'&#10;&#10;    // For RIASEC&#10;    category?: string; // R, I, A, S, E, C&#10;&#10;    // For Grit&#10;    reverseScore?: boolean; // Some Grit questions are reverse coded&#10;}&#10;&#10;&#10;export interface TestResult {&#10;    type: TestType;&#10;    scores: Record&lt;string, number&gt;; // e.g. { 'R': 15, 'I': 20 } or { 'Grit': 4.5 }&#10;    rawLabel?: string; // e.g., &quot;ENTJ&quot; or &quot;High Grit&quot;&#10;    description?: string;&#10;}&#10;&#10;export interface MajorRecommendation {&#10;    name: string; // Tên ngành học&#10;    category: string; // Phân loại: STEM, Arts, Business, etc.&#10;    matchReason: string; // Lý do phù hợp với tính cách&#10;    careerPaths: string[]; // Các con đường sự nghiệp&#10;    requiredSkills: string[]; // Kỹ năng cần thiết&#10;    matchPercentage: number; // Độ phù hợp (0-100)&#10;}&#10;&#10;" />
              <option name="updatedContent" value="export type DocumentType = 'transcript' | 'certificate' | 'letter' | 'essay' | 'other';&#13;&#10;&#13;&#10;export interface Extracurricular {&#13;&#10;    id: string;&#13;&#10;    title: string;&#13;&#10;    role: string;&#13;&#10;    year: string;&#13;&#10;    description: string;&#13;&#10;}&#13;&#10;&#13;&#10;export interface Document {&#13;&#10;    id: string;&#13;&#10;    name: string;&#13;&#10;    type: DocumentType;&#13;&#10;    uploadDate: string;&#13;&#10;    size: string;&#13;&#10;}&#13;&#10;&#13;&#10;export interface StudentProfile {&#13;&#10;    id: string;&#13;&#10;    name: string;&#13;&#10;    email: string;&#13;&#10;    phone: string;&#13;&#10;    address: string;&#13;&#10;    dob: string;&#13;&#10;    avatarUrl: string;&#13;&#10;    gpa: number;&#13;&#10;    gpaScale: number;&#13;&#10;    englishLevel: string;&#13;&#10;    satScore?: number;&#13;&#10;    targetMajor: string;&#13;&#10;    targetCountry: string;&#13;&#10;    extracurriculars: Extracurricular[];&#13;&#10;    achievements: string[];&#13;&#10;    documents: Document[];&#13;&#10;}&#13;&#10;&#13;&#10;export interface SwotItem {&#13;&#10;    id: string;&#13;&#10;    text: string;&#13;&#10;    category: 'strength' | 'weakness' | 'opportunity' | 'threat';&#13;&#10;}&#13;&#10;&#13;&#10;export interface StrategyItem {&#13;&#10;    title: string;&#13;&#10;    description: string;&#13;&#10;}&#13;&#10;&#13;&#10;export interface SwotData {&#13;&#10;    strengths: string[];&#13;&#10;    weaknesses: string[];&#13;&#10;    opportunities: string[];&#13;&#10;    threats: string[];&#13;&#10;    strategicAdvice: StrategyItem[];&#13;&#10;    scores: {&#13;&#10;        academic: number;&#10;        extracurricular: number;&#10;        skills: number;&#10;        language: number;&#10;    }&#10;}&#13;&#10;&#13;&#10;export interface Task {&#13;&#10;    id: string;&#13;&#10;    title: string;&#13;&#10;    deadline: string;&#13;&#10;    isCompleted: boolean;&#13;&#10;    category?: string; // e.g., &quot;Hồ sơ học thuật&quot;, &quot;Tài liệu cần thiết&quot;&#13;&#10;    stageId: number;&#13;&#10;&#13;&#10;    // New fields for file upload feature&#13;&#10;    requiresFile?: boolean;    // Does this task require a file upload?&#13;&#10;    uploadedFile?: string;     // Name of the uploaded file (if any)&#13;&#10;    feedback?: string;         // Mentor feedback&#13;&#10;}&#13;&#10;&#13;&#10;export interface Stage {&#13;&#10;    id: number;&#13;&#10;    name: string;&#13;&#10;    description: string;&#13;&#10;    isUnlocked: boolean;&#13;&#10;}&#13;&#10;&#13;&#10;export type TestType = 'MBTI' | 'GRIT' | 'RIASEC';&#13;&#10;&#13;&#10;export interface Question {&#13;&#10;    id: number;&#13;&#10;    text: string;&#13;&#10;    type: TestType;&#13;&#10;    // For MBTI&#13;&#10;    optionA?: string;&#13;&#10;    optionB?: string;&#13;&#10;    dimension?: string; // E.g., 'EI', 'SN', 'TF', 'JP'&#13;&#10;&#13;&#10;    // For RIASEC&#13;&#10;    category?: string; // R, I, A, S, E, C&#13;&#10;&#13;&#10;    // For Grit&#13;&#10;    reverseScore?: boolean; // Some Grit questions are reverse coded&#13;&#10;}&#13;&#10;&#13;&#10;&#13;&#10;export interface TestResult {&#13;&#10;    type: TestType;&#13;&#10;    scores: Record&lt;string, number&gt;; // e.g. { 'R': 15, 'I': 20 } or { 'Grit': 4.5 }&#13;&#10;    rawLabel?: string; // e.g., &quot;ENTJ&quot; or &quot;High Grit&quot;&#13;&#10;    description?: string;&#13;&#10;}&#13;&#10;&#13;&#10;export interface MajorRecommendation {&#13;&#10;    name: string; // Tên ngành học&#13;&#10;    category: string; // Phân loại: STEM, Arts, Business, etc.&#13;&#10;    matchReason: string; // Lý do phù hợp với tính cách&#13;&#10;    careerPaths: string[]; // Các con đường sự nghiệp&#13;&#10;    requiredSkills: string[]; // Kỹ năng cần thiết&#13;&#10;    matchPercentage: number; // Độ phù hợp (0-100)&#13;&#10;}&#13;&#10;&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/contexts/AuthContext.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/contexts/AuthContext.tsx" />
              <option name="originalContent" value="'use client'&#10;&#10;import React, {createContext, useContext, useState, useEffect, ReactNode, useCallback, useMemo} from 'react'&#10;&#10;export type UserRole = 'user' | 'mentor' | 'admin'&#10;&#10;export interface User {&#10;    email: string&#10;    name: string&#10;    role: UserRole&#10;    avatar?: string&#10;}&#10;&#10;interface AuthContextType {&#10;    user: User | null&#10;    login: (email: string, name: string, role?: UserRole) =&gt; void&#10;    logout: () =&gt; void&#10;    isAuthenticated: boolean&#10;    hasRole: (roles: UserRole | UserRole[]) =&gt; boolean&#10;    authReady: boolean&#10;}&#10;&#10;const AuthContext = createContext&lt;AuthContextType | undefined&gt;(undefined)&#10;&#10;export function AuthProvider({children}: { children: ReactNode }) {&#10;    const [user, setUser] = useState&lt;User | null&gt;(null)&#10;    const [authReady, setAuthReady] = useState(false)&#10;    // read saved user on mount&#10;    useEffect(() =&gt; {&#10;        try {&#10;            const saved = localStorage.getItem('user')&#10;            if (saved) {&#10;                const parsed: User = JSON.parse(saved)&#10;                setUser(parsed)&#10;            }&#10;        } catch (e) {&#10;            console.error('Error reading saved user from localStorage', e)&#10;        } finally {&#10;            // mark auth as ready regardless&#10;            setAuthReady(true)&#10;        }&#10;    }, [])&#10;    const login = useCallback((email: string, name: string, role: UserRole = 'user') =&gt; {&#10;        const userData: User = {email, name, role}&#10;        setUser(userData)&#10;        try {&#10;            localStorage.setItem('user', JSON.stringify(userData))&#10;        } catch (e) {&#10;            console.error('Failed to save user to localStorage', e)&#10;        }&#10;    }, [])&#10;    localStorage.setItem('user', JSON.stringify(userData))&#10;  }&#10;    const logout = useCallback(() =&gt; {&#10;        setUser(null)&#10;        try {&#10;            localStorage.removeItem('user')&#10;        } catch (e) {&#10;    const isAuthenticated = useMemo(() =&gt; !!user, [user])&#10;&#10;    const hasRole = useCallback((roles: UserRole | UserRole[]) =&gt; {&#10;        if (!user) return false&#10;    return (&#10;        &lt;AuthContext.Provider value={contextValue}&gt;&#10;            {children}&#10;        &lt;/AuthContext.Provider&gt;&#10;    )&#10;        hasRole,&#10;        authReady,&#10;    }), [user, login, logout, isAuthenticated, hasRole, authReady])&#10;        return allowedRoles.includes(user.role)&#10;    }, [user])&#10;  const hasRole = (roles: UserRole | UserRole[]) =&gt; {&#10;    if (!user) return false&#10;    const allowedRoles = Array.isArray(roles) ? roles : [roles]&#10;    return allowedRoles.includes(user.role)&#10;  }&#10;    const context = useContext(AuthContext)&#10;    if (!context) throw new Error('useAuth must be used within an AuthProvider')&#10;    return context&#10;      {children}&#10;    &lt;/AuthContext.Provider&gt;&#10;  )&#10;}&#10;&#10;export function useAuth() {&#10;  const context = useContext(AuthContext)&#10;  if (context === undefined) {&#10;    throw new Error('useAuth must be used within an AuthProvider')&#10;  }&#10;  return context&#10;}&#10;" />
              <option name="updatedContent" value="'use client'&#10;&#10;import React, {createContext, useContext, useState, useEffect, ReactNode, useCallback, useMemo} from 'react'&#10;&#10;export type UserRole = 'user' | 'mentor' | 'admin'&#10;&#10;export interface User {&#10;    email: string&#10;    name: string&#10;    role: UserRole&#10;    avatar?: string&#10;}&#10;&#10;interface AuthContextType {&#10;    user: User | null&#10;    login: (email: string, name: string, role?: UserRole) =&gt; void&#10;    logout: () =&gt; void&#10;    isAuthenticated: boolean&#10;    hasRole: (roles: UserRole | UserRole[]) =&gt; boolean&#10;    authReady: boolean&#10;}&#10;&#10;const AuthContext = createContext&lt;AuthContextType | undefined&gt;(undefined)&#10;&#10;export function AuthProvider({children}: { children: ReactNode }) {&#10;    const [user, setUser] = useState&lt;User | null&gt;(null)&#10;    const [authReady, setAuthReady] = useState(false)&#10;&#10;    // read saved user on mount&#10;    useEffect(() =&gt; {&#10;        try {&#10;            const saved = localStorage.getItem('user')&#10;            if (saved) {&#10;                const parsed: User = JSON.parse(saved)&#10;                setUser(parsed)&#10;            }&#10;        } catch (e) {&#10;            console.error('Error reading saved user from localStorage', e)&#10;        } finally {&#10;            // mark auth as ready regardless&#10;            setAuthReady(true)&#10;        }&#10;    }, [])&#10;&#10;    const login = useCallback((email: string, name: string, role: UserRole = 'user') =&gt; {&#10;        const userData: User = {email, name, role}&#10;        setUser(userData)&#10;        try {&#10;            localStorage.setItem('user', JSON.stringify(userData))&#10;        } catch (e) {&#10;            console.error('Failed to save user to localStorage', e)&#10;        }&#10;    }, [])&#10;&#10;    const logout = useCallback(() =&gt; {&#10;        setUser(null)&#10;        try {&#10;            localStorage.removeItem('user')&#10;        } catch (e) {&#10;            console.error('Failed to remove user from localStorage', e)&#10;        }&#10;    }, [])&#10;&#10;    const isAuthenticated = useMemo(() =&gt; !!user, [user])&#10;&#10;    const hasRole = useCallback((roles: UserRole | UserRole[]) =&gt; {&#10;        if (!user) return false&#10;        const allowedRoles = Array.isArray(roles) ? roles : [roles]&#10;        return allowedRoles.includes(user.role)&#10;    }, [user])&#10;&#10;    const contextValue = useMemo&lt;AuthContextType&gt;(() =&gt; ({&#10;        user,&#10;        login,&#10;        logout,&#10;        isAuthenticated,&#10;        hasRole,&#10;        authReady,&#10;    }), [user, login, logout, isAuthenticated, hasRole, authReady])&#10;&#10;    return (&#10;        &lt;AuthContext.Provider value={contextValue}&gt;&#10;            {children}&#10;        &lt;/AuthContext.Provider&gt;&#10;    )&#10;}&#10;&#10;export function useAuth() {&#10;    const context = useContext(AuthContext)&#10;    if (!context) throw new Error('useAuth must be used within an AuthProvider')&#10;    return context&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/lib/data.ts">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/lib/data.ts" />
              <option name="originalContent" value="// src/lib/data.ts&#10;import {Users, ShieldCheck, Lightbulb, Infinity as InfinityIcon} from 'lucide-react';&#10;&#10;export type DocumentType = 'transcript' | 'certificate' | 'letter' | 'essay' | 'other';&#10;&#10;export const BRAND_COLORS = {&#10;    primaryGradient: &quot;bg-gradient-to-r from-[var(--brand-cyan)] to-[var(--brand-blue)]&quot;,&#10;    textGradient: &quot;bg-clip-text text-transparent bg-gradient-to-r from-[var(--brand-cyan)] to-[var(--brand-blue)]&quot;,&#10;    accent: &quot;bg-[var(--accent-alt)]&quot;,&#10;};&#10;&#10;export const NAV_LINKS = [&#10;    {name: &quot;GIỚI THIỆU&quot;, href: &quot;#gioi-thieu&quot;},&#10;    {name: &quot;ĐIỂM NỔI BẬT&quot;, href: &quot;#diem-noi-bat&quot;},&#10;    {name: &quot;THÀNH TÍCH&quot;, href: &quot;#thanh-tich&quot;},&#10;    {name: &quot;DỊCH VỤ&quot;, href: &quot;#dich-vu&quot;},&#10;    {name: &quot;TRẢI NGHIỆM&quot;, href: &quot;#trai-nghiem&quot;},&#10;];&#10;&#10;export const CORE_VALUES = [&#10;    {&#10;        icon: Users,&#10;        title: &quot;Nhân - Con Người&quot;,&#10;        desc: &quot;Tôn trọng sự khác biệt, nuôi dưỡng sự bản lĩnh và đồng hành để mỗi cá nhân phát triển thành phiên bản sâu sắc nhất.&quot;,&#10;    },&#10;    {&#10;        icon: ShieldCheck,&#10;        title: &quot;Đức - Trách Nhiệm&quot;,&#10;        desc: &quot;Giữ vững tinh thần đạo đức trong mọi quyết định, lấy lợi ích lâu dài của học viên làm trung tâm.&quot;,&#10;    },&#10;    {&#10;        icon: Lightbulb,&#10;        title: &quot;Tạo - Sáng Tạo&quot;,&#10;        desc: &quot;Khuyến khích tư duy sáng tạo, dám thử nghiệm và luôn không ngừng cải tiến để phù hợp với tiềm năng đặc thù.&quot;,&#10;    },&#10;    {&#10;        icon: InfinityIcon,&#10;        title: &quot;Bền - Bền Vững&quot;,&#10;        desc: &quot;Cùng nhau kiến tạo những giá trị bền vững cho tổ chức và cộng đồng.&quot;,&#10;    },&#10;];&#10;&#10;export const HIGHLIGHTS = [&#10;    {&#10;        title: &quot;Sự Sát Sao - Đồng Hành&quot;,&#10;        desc: &quot;Kết nối 3 chiều Học viên - Phụ huynh - Cố vấn. Không để học viên 'đi một mình' trong bất kỳ bước nào.&quot;,&#10;    },&#10;    {&#10;        title: &quot;Hỗ Trợ Toàn Diện 360&quot;,&#10;        desc: &quot;Hỗ trợ từ học thuật, kỹ năng, tư duy, hồ sơ đến tâm lý. Giải đáp mọi vấn đề trước - trong - sau du học.&quot;,&#10;    },&#10;    {&#10;        title: &quot;Mô Hình Nhiều Cố Vấn&quot;,&#10;        desc: &quot;Mỗi học viên được hướng dẫn bởi nhiều Cố vấn chuyên môn để nhận được góc nhìn đa chiều và tối ưu hóa hành trình.&quot;,&#10;    },&#10;    {&#10;        title: &quot;Đội Ngũ Năng Động&quot;,&#10;        desc: &quot;Giàu kinh nghiệm săn học bổng TOP đầu thế giới. Đề cao tư duy đổi mới và sẵn sàng 'cháy' hết mình vì học viên.&quot;,&#10;    },&#10;];&#10;&#10;export const TESTIMONIALS = [&#10;    {&#10;        name: &quot;Nguyễn Hoàng Phương Thảo&quot;,&#10;        school: &quot;Đại học USF, Hoa Kỳ&quot;,&#10;        quote: &quot;Chị dẫn em đi từng bước một, từ sửa idea, đến chau chuốt câu từ... Câu chuyện và trải nghiệm của em vẫn được thể hiện một cách chân thật nhất qua bài luận.&quot;,&#10;        img: &quot;https://images.unsplash.com/photo-1517486808906-6ca8b3f04846?q=80&amp;w=200&amp;h=200&amp;auto=format&amp;fit=crop&quot;,&#10;    },&#10;    {&#10;        name: &quot;Hồ Minh Quang&quot;,&#10;        school: &quot;Purdue Fort Wayne, Hoa Kỳ&quot;,&#10;        quote: &quot;Chính các chị đã giúp mình vực dậy niềm tin vào bản thân và dám 'cháy' hết mình để theo đuổi đam mê. Em xin cảm ơn các chị nhiều ạ.&quot;,&#10;        img: &quot;https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?q=80&amp;w=200&amp;h=200&amp;auto=format&amp;fit=crop&quot;,&#10;    },&#10;    {&#10;        name: &quot;Nguyễn Đức Mạnh&quot;,&#10;        school: &quot;Đại học PolyU, HongKong&quot;,&#10;        quote: &quot;Thật sự em đã rất bất ngờ về sự hỗ trợ rất nhiệt tình... Cảm ơn chị vì nhiều đêm sửa luận tới gần sáng do lệch múi giờ.&quot;,&#10;        img: &quot;https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&amp;w=200&amp;h=200&amp;auto=format&amp;fit=crop&quot;,&#10;    },&#10;    {&#10;        name: &quot;Đỗ Ngọc Bảo Anh&quot;,&#10;        school: &quot;Đại học Yonsei, Hàn Quốc&quot;,&#10;        quote: &quot;Cố vấn Holyann nhiệt tình, tận tâm, chu đáo. Bài giảng cũng chất lượng, đi đúng từng phần, đúng trọng tâm.&quot;,&#10;        img: &quot;https://images.unsplash.com/photo-1534528741775-53994a69daeb?q=80&amp;w=200&amp;h=200&amp;auto=format&amp;fit=crop&quot;,&#10;    }&#10;];&#10;&#10;&#10;export interface Document {&#10;    id: string;&#10;    name: string;&#10;    type: DocumentType;&#10;    uploadDate: string;&#10;    size: string;&#10;    url: string;&#10;}&#10;&#10;export interface StudentProfile {&#10;    id: string;&#10;    name: string;&#10;    email: string;&#10;    phone: string;&#10;    avatarUrl: string;&#10;    address: string;&#10;    dob: string;&#10;&#10;    // Academic Info&#10;    gpa: number;&#10;    gpaScale: number;&#10;    englishLevel: string; // e.g., &quot;IELTS 7.5&quot;&#10;    satScore?: number;&#10;&#10;    // Lists&#10;    extracurriculars: Activity[];&#10;    achievements: string[];&#10;    documents: Document[];&#10;&#10;    // Target&#10;    targetMajor: string;&#10;    targetCountry: string;&#10;}&#10;&#10;export interface Activity {&#10;    id: string;&#10;    title: string;&#10;    role: string;&#10;    year: string;&#10;    description: string;&#10;}&#10;" />
              <option name="updatedContent" value="// src/lib/data.ts&#10;import {Users, ShieldCheck, Lightbulb, Infinity as InfinityIcon} from 'lucide-react';&#10;&#10;export type DocumentType = 'transcript' | 'certificate' | 'letter' | 'essay' | 'other';&#10;&#10;export const BRAND_COLORS = {&#10;    primaryGradient: &quot;bg-gradient-to-r from-[var(--brand-cyan)] to-[var(--brand-blue)]&quot;,&#10;    textGradient: &quot;bg-clip-text text-transparent bg-gradient-to-r from-[var(--brand-cyan)] to-[var(--brand-blue)]&quot;,&#10;    accent: &quot;bg-[var(--accent-alt)]&quot;,&#10;};&#10;&#10;export const NAV_LINKS = [&#10;    {name: &quot;Giới Thiệu&quot;, href: &quot;#gioi-thieu&quot;},&#10;    {name: &quot;Điểm Nổi Bật&quot;, href: &quot;#diem-noi-bat&quot;},&#10;    {name: &quot;Thành Tích&quot;, href: &quot;#thanh-tich&quot;},&#10;    {name: &quot;Dịch Vụ&quot;, href: &quot;#dich-vu&quot;},&#10;    {name: &quot;Trải Nghiệm&quot;, href: &quot;#trai-nghiem&quot;},&#10;];&#10;&#10;export const CORE_VALUES = [&#10;    {&#10;        icon: Users,&#10;        title: &quot;Nhân - Con Người&quot;,&#10;        desc: &quot;Tôn trọng sự khác biệt, nuôi dưỡng sự bản lĩnh, chính trực và đồng hành để mỗi cá nhân phát triển thành phiên bản sâu sắc nhất.&quot;,&#10;    },&#10;    {&#10;        icon: ShieldCheck,&#10;        title: &quot;Đức - Trách Nhiệm&quot;,&#10;        desc: &quot;Giữ vững tinh thần đạo đức trong mọi quyết định, lấy lợi ích lâu dài của học viên làm trung tâm.&quot;,&#10;    },&#10;    {&#10;        icon: Lightbulb,&#10;        title: &quot;Tạo - Sáng Tạo&quot;,&#10;        desc: &quot;Khuyến khích tư duy sáng tạo, dám thử nghiệm và luôn không ngừng cải tiến để phù hợp với tiềm năng đặc thù.&quot;,&#10;    },&#10;    {&#10;        icon: InfinityIcon,&#10;        title: &quot;Bền - Bền Vững&quot;,&#10;        desc: &quot;Cùng nhau kiến tạo những giá trị bền vững cho tổ chức và cộng đồng.&quot;,&#10;    },&#10;];&#10;&#10;export const HIGHLIGHTS = [&#10;    {&#10;        title: &quot;Sự Sát Sao - Đồng Hành&quot;,&#10;        desc: &quot;Kết nối 3 chiều Học viên - Phụ huynh - Cố vấn. Không để học viên 'đi một mình' trong bất kỳ bước nào.&quot;,&#10;    },&#10;    {&#10;        title: &quot;Hỗ Trợ Toàn Diện 360&quot;,&#10;        desc: &quot;Hỗ trợ từ học thuật, kỹ năng, tư duy, hồ sơ đến tâm lý. Giải đáp mọi vấn đề trước - trong - sau du học.&quot;,&#10;    },&#10;    {&#10;        title: &quot;Mô Hình Nhiều Cố Vấn&quot;,&#10;        desc: &quot;Mỗi học viên được hướng dẫn bởi nhiều Cố vấn chuyên môn để nhận được góc nhìn đa chiều và tối ưu hóa hành trình.&quot;,&#10;    },&#10;    {&#10;        title: &quot;Đội Ngũ Năng Động&quot;,&#10;        desc: &quot;Giàu kinh nghiệm săn học bổng TOP đầu thế giới. Đề cao tư duy đổi mới và sẵn sàng 'cháy' hết mình vì học viên.&quot;,&#10;    },&#10;];&#10;&#10;export const TESTIMONIALS = [&#10;    {&#10;        name: &quot;Nguyễn Hoàng Phương Thảo&quot;,&#10;        school: &quot;Đại học USF, Hoa Kỳ&quot;,&#10;        quote: &quot;Chị dẫn em đi từng bước một, từ sửa idea, đến chau chuốt câu từ... Câu chuyện và trải nghiệm của em vẫn được thể hiện một cách chân thật nhất qua bài luận.&quot;,&#10;        img: &quot;https://images.unsplash.com/photo-1517486808906-6ca8b3f04846?q=80&amp;w=200&amp;h=200&amp;auto=format&amp;fit=crop&quot;,&#10;    },&#10;    {&#10;        name: &quot;Hồ Minh Quang&quot;,&#10;        school: &quot;Purdue Fort Wayne, Hoa Kỳ&quot;,&#10;        quote: &quot;Chính các chị đã giúp mình vực dậy niềm tin vào bản thân và dám 'cháy' hết mình để theo đuổi đam mê. Em xin cảm ơn các chị nhiều ạ.&quot;,&#10;        img: &quot;https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?q=80&amp;w=200&amp;h=200&amp;auto=format&amp;fit=crop&quot;,&#10;    },&#10;    {&#10;        name: &quot;Nguyễn Đức Mạnh&quot;,&#10;        school: &quot;Đại học PolyU, HongKong&quot;,&#10;        quote: &quot;Thật sự em đã rất bất ngờ về sự hỗ trợ rất nhiệt tình... Cảm ơn chị vì nhiều đêm sửa luận tới gần sáng do lệch múi giờ.&quot;,&#10;        img: &quot;https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&amp;w=200&amp;h=200&amp;auto=format&amp;fit=crop&quot;,&#10;    },&#10;    {&#10;        name: &quot;Đỗ Ngọc Bảo Anh&quot;,&#10;        school: &quot;Đại học Yonsei, Hàn Quốc&quot;,&#10;        quote: &quot;Cố vấn Holyann nhiệt tình, tận tâm, chu đáo. Bài giảng cũng chất lượng, đi đúng từng phần, đúng trọng tâm.&quot;,&#10;        img: &quot;https://images.unsplash.com/photo-1534528741775-53994a69daeb?q=80&amp;w=200&amp;h=200&amp;auto=format&amp;fit=crop&quot;,&#10;    }&#10;];&#10;&#10;&#10;export interface Document {&#10;    id: string;&#10;    name: string;&#10;    type: DocumentType;&#10;    uploadDate: string;&#10;    size: string;&#10;    url: string;&#10;}&#10;&#10;export interface StudentProfile {&#10;    id: string;&#10;    name: string;&#10;    email: string;&#10;    phone: string;&#10;    avatarUrl: string;&#10;    address: string;&#10;    dob: string;&#10;&#10;    // Academic Info&#10;    gpa: number;&#10;    gpaScale: number;&#10;    englishLevel: string; // e.g., &quot;IELTS 7.5&quot;&#10;    satScore?: number;&#10;&#10;    // Lists&#10;    extracurriculars: Activity[];&#10;    achievements: string[];&#10;    documents: Document[];&#10;&#10;    // Target&#10;    targetMajor: string;&#10;    targetCountry: string;&#10;}&#10;&#10;export interface Activity {&#10;    id: string;&#10;    title: string;&#10;    role: string;&#10;    year: string;&#10;    description: string;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/service/geminiService.ts">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/service/geminiService.ts" />
              <option name="originalContent" value="import {GoogleGenAI, Type} from &quot;@google/genai&quot;;&#10;import {SwotData, StudentProfile, TestResult, MajorRecommendation} from &quot;../components/types&quot;;&#10;&#10;// Mock data to simulate the &quot;existing profile&quot; context mentioned by the user&#10;export const MOCK_STUDENT_PROFILE: StudentProfile = {&#10;    id: &quot;STU001&quot;,&#10;    name: &quot;Nguyễn Văn A&quot;,&#10;    email: &quot;nguyenvana@email.com&quot;,&#10;    phone: &quot;0123456789&quot;,&#10;    address: &quot;Hà Nội, Việt Nam&quot;,&#10;    dob: &quot;2004-01-15&quot;,&#10;    avatarUrl: &quot;https://api.dicebear.com/9.x/notionists/svg?seed=Felix&quot;,&#10;    gpa: 3.8,&#10;    gpaScale: 4.0,&#10;    englishLevel: &quot;IELTS 7.5&quot;,&#10;    targetMajor: &quot;Computer Science&quot;,&#10;    targetCountry: &quot;Canada&quot;,&#10;    extracurriculars: [&#10;        {&#10;            id: &quot;1&quot;,&#10;            title: &quot;Chủ tịch Câu lạc bộ Lập trình&quot;,&#10;            role: &quot;Chủ tịch&quot;,&#10;            year: &quot;2024&quot;,&#10;            description: &quot;Quản lý 50+ thành viên, tổ chức workshop và hackathon&quot;&#10;        }&#10;    ],&#10;    achievements: [&#10;        &quot;Huy chương Vàng Toán học Quốc tế&quot;,&#10;        &quot;Giải Nhất Hackathon 2024&quot;&#10;    ],&#10;    documents: []&#10;};&#10;&#10;export const generateSwotAnalysis = async (profile: StudentProfile): Promise&lt;SwotData&gt; =&gt; {&#10;    // Check for API key strictly as per guidelines&#10;    const apiKey = process.env.NEXT_PUBLIC_API_KEY;&#10;    if (!apiKey) {&#10;        throw new Error(&quot;API Key is missing. Please provide a valid NEXT_PUBLIC_API_KEY in the environment.&quot;);&#10;    }&#10;&#10;    const ai = new GoogleGenAI({apiKey});&#10;&#10;    const prompt = `&#10;    Phân tích hồ sơ học sinh sau đây cho mục tiêu du học (Ngành: ${profile.targetMajor} tại ${profile.targetCountry}).&#10;    &#10;    Thông tin hồ sơ:&#10;    - GPA: ${profile.gpa}/${profile.gpaScale}&#10;    - Trình độ Tiếng Anh: ${profile.englishLevel}&#10;    - Các hoạt động ngoại khóa: ${profile.extracurriculars.map(e =&gt; e.title).join(&quot;, &quot;)}&#10;    - Các thành tích: ${profile.achievements.join(&quot;, &quot;)}&#10;&#10;    Hãy tạo một bản phân tích SWOT chi tiết và đưa ra lời khuyên chiến lược cụ thể bằng TIẾNG VIỆT.&#10;    Đồng thời đánh giá điểm số (thang 1-100) cho 5 khía cạnh: học thuật, ngoại khóa, kỹ năng mềm, ngoại ngữ, và khả năng lãnh đạo dựa trên hồ sơ này.&#10;  `;&#10;&#10;    const response = await ai.models.generateContent({&#10;        model: &quot;gemini-2.5-flash&quot;,&#10;        contents: prompt,&#10;        config: {&#10;            responseMimeType: &quot;application/json&quot;,&#10;            responseSchema: {&#10;                type: Type.OBJECT,&#10;                properties: {&#10;                    strengths: {&#10;                        type: Type.ARRAY,&#10;                        items: {type: Type.STRING},&#10;                        description: &quot;Danh sách 3-5 điểm mạnh nội tại nổi bật (Tiếng Việt).&quot;&#10;                    },&#10;                    weaknesses: {&#10;                        type: Type.ARRAY,&#10;                        items: {type: Type.STRING},&#10;                        description: &quot;Danh sách 3-5 điểm yếu hoặc lĩnh vực cần cải thiện (Tiếng Việt).&quot;&#10;                    },&#10;                    opportunities: {&#10;                        type: Type.ARRAY,&#10;                        items: {type: Type.STRING},&#10;                        description: &quot;Các cơ hội bên ngoài phù hợp với ngành học và quốc gia mục tiêu (Tiếng Việt).&quot;&#10;                    },&#10;                    threats: {&#10;                        type: Type.ARRAY,&#10;                        items: {type: Type.STRING},&#10;                        description: &quot;Các thách thức bên ngoài như cạnh tranh, visa, văn hóa (Tiếng Việt).&quot;&#10;                    },&#10;                    strategicAdvice: {&#10;                        type: Type.ARRAY,&#10;                        items: {&#10;                            type: Type.OBJECT,&#10;                            properties: {&#10;                                title: {type: Type.STRING, description: &quot;Tiêu đề chiến lược ngắn gọn (Tiếng Việt)&quot;},&#10;                                description: {&#10;                                    type: Type.STRING,&#10;                                    description: &quot;Mô tả chi tiết hành động cần làm (Tiếng Việt)&quot;&#10;                                }&#10;                            }&#10;                        },&#10;                        description: &quot;3 bước chiến lược hành động cụ thể.&quot;&#10;                    },&#10;                    scores: {&#10;                        type: Type.OBJECT,&#10;                        properties: {&#10;                            academic: {type: Type.INTEGER},&#10;                            extracurricular: {type: Type.INTEGER},&#10;                            skills: {type: Type.INTEGER},&#10;                            language: {type: Type.INTEGER}&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    });&#10;&#10;    if (response.text) {&#10;        return JSON.parse(response.text) as SwotData;&#10;    }&#10;&#10;    throw new Error(&quot;Failed to generate analysis.&quot;);&#10;};&#10;&#10;// Major recommendations function - based purely on personality test results&#10;export const getMajorRecommendations = async (&#10;    testResult: TestResult&#10;): Promise&lt;MajorRecommendation[]&gt; =&gt; {&#10;    // Check for API key&#10;    const apiKey = process.env.NEXT_PUBLIC_API_KEY;&#10;    if (!apiKey) {&#10;        throw new Error(&quot;API Key is missing. Please provide a valid NEXT_PUBLIC_API_KEY in the environment.&quot;);&#10;    }&#10;&#10;    const ai = new GoogleGenAI({apiKey});&#10;    const model = &quot;gemini-2.5-flash&quot;;&#10;&#10;    // Construct a prompt context focused on personality-major matching&#10;    const context = `&#10;    Bạn là chuyên gia tư vấn định hướng nghề nghiệp chuyên nghiệp.&#10;    &#10;    Kết quả kiểm tra tính cách của học sinh:&#10;    - Loại test: ${testResult.type}&#10;    - Kết quả: ${testResult.rawLabel || &quot;N/A&quot;}&#10;    - Điểm số chi tiết: ${JSON.stringify(testResult.scores)}&#10;    - Mô tả: ${testResult.description || &quot;N/A&quot;}&#10;    &#10;    Nhiệm vụ:&#10;    Dựa HOÀN TOÀN vào kết quả test tính cách này, hãy đề xuất 5 ngành học phù hợp nhất.&#10;    &#10;    Yêu cầu:&#10;    - KHÔNG phụ thuộc vào ngành học hay quốc gia mong muốn trước đó&#10;    - Phân tích sâu về tính cách và đưa ra lý do cụ thể tại sao ngành học phù hợp&#10;    - Đề xuất các con đường sự nghiệp cụ thể&#10;    - Liệt kê kỹ năng cần thiết&#10;    - Đánh giá độ phù hợp (%)&#10;    - Trả lời bằng TIẾNG VIỆT&#10;    &#10;    Ví dụ phân tích:&#10;    - Với MBTI INTJ: Phù hợp với Computer Science vì thích hệ thống, logic, giải quyết vấn đề phức tạp&#10;    - Với RIASEC cao về I (Investigative): Phù hợp với nghiên cứu khoa học, phân tích dữ liệu&#10;    - Với Grit cao: Phù hợp với các ngành đòi hỏi kiên trì như Y khoa, Luật, Nghiên cứu&#10;  `;&#10;&#10;    try {&#10;        const response = await ai.models.generateContent({&#10;            model: model,&#10;            contents: context,&#10;            config: {&#10;                responseMimeType: &quot;application/json&quot;,&#10;                responseSchema: {&#10;                    type: Type.ARRAY,&#10;                    items: {&#10;                        type: Type.OBJECT,&#10;                        properties: {&#10;                            name: {&#10;                                type: Type.STRING,&#10;                                description: &quot;Tên ngành học bằng tiếng Việt&quot;&#10;                            },&#10;                            category: {&#10;                                type: Type.STRING,&#10;                                description: &quot;Phân loại: STEM, Nghệ thuật, Kinh doanh, Nhân văn, Khoa học xã hội, v.v.&quot;&#10;                            },&#10;                            matchReason: {&#10;                                type: Type.STRING,&#10;                                description: &quot;Lý do cụ thể tại sao ngành này phù hợp với tính cách (150-200 từ)&quot;&#10;                            },&#10;                            careerPaths: {&#10;                                type: Type.ARRAY,&#10;                                items: {type: Type.STRING},&#10;                                description: &quot;3-5 con đường sự nghiệp cụ thể&quot;&#10;                            },&#10;                            requiredSkills: {&#10;                                type: Type.ARRAY,&#10;                                items: {type: Type.STRING},&#10;                                description: &quot;4-6 kỹ năng quan trọng cần có&quot;&#10;                            },&#10;                            matchPercentage: {&#10;                                type: Type.INTEGER,&#10;                                description: &quot;Độ phù hợp từ 0-100&quot;&#10;                            }&#10;                        },&#10;                        required: [&quot;name&quot;, &quot;category&quot;, &quot;matchReason&quot;, &quot;careerPaths&quot;, &quot;requiredSkills&quot;, &quot;matchPercentage&quot;]&#10;                    }&#10;                }&#10;            }&#10;        });&#10;&#10;        const jsonText = response.text || &quot;[]&quot;;&#10;        const recommendations = JSON.parse(jsonText) as MajorRecommendation[];&#10;&#10;        // Sort by matchPercentage descending&#10;        return recommendations.sort((a, b) =&gt; b.matchPercentage - a.matchPercentage);&#10;&#10;    } catch (error) {&#10;        console.error(&quot;Error fetching major recommendations from Gemini:&quot;, error);&#10;        return [];&#10;    }&#10;};&#10;&#10;// CV Scanning with AI&#10;export const scanCVWithAI = async (cvText: string): Promise&lt;StudentProfile | null&gt; =&gt; {&#10;    // Check for API key&#10;    const apiKey = process.env.NEXT_PUBLIC_API_KEY;&#10;    if (!apiKey) {&#10;        throw new Error(&quot;API Key is missing. Please provide a valid NEXT_PUBLIC_API_KEY in the environment.&quot;);&#10;    }&#10;&#10;    const ai = new GoogleGenAI({apiKey});&#10;    const model = &quot;gemini-2.5-flash&quot;;&#10;&#10;    const context = `&#10;    Bạn là một AI chuyên trích xuất thông tin từ CV/Resume.&#10;    &#10;    Nội dung CV:&#10;    ${cvText}&#10;    &#10;    Nhiệm vụ:&#10;    Hãy phân tích và trích xuất TẤT CẢ thông tin có trong CV để tạo profile hoàn chỉnh.&#10;    &#10;    Yêu cầu:&#10;    - Trích xuất chính xác thông tin cá nhân, học vấn, kinh nghiệm, kỹ năng&#10;    - Tự động điền thông tin còn thiếu bằng giá trị hợp lý&#10;    - Tạo ID ngẫu nhiên&#10;    - Phân tích và tạo danh sách extracurriculars từ kinh nghiệm/hoạt động&#10;    - Trích xuất achievements từ giải thưởng, chứng chỉ&#10;    - Trả về JSON đầy đủ theo schema&#10;  `;&#10;&#10;    try {&#10;        const response = await ai.models.generateContent({&#10;            model: model,&#10;            contents: context,&#10;            config: {&#10;                responseMimeType: &quot;application/json&quot;,&#10;                responseSchema: {&#10;                    type: Type.OBJECT,&#10;                    properties: {&#10;                        id: {type: Type.STRING, description: &quot;Generate random ID like 'STU' + 6 digits&quot;},&#10;                        name: {type: Type.STRING, description: &quot;Họ và tên đầy đủ&quot;},&#10;                        email: {type: Type.STRING, description: &quot;Email&quot;},&#10;                        phone: {type: Type.STRING, description: &quot;Số điện thoại&quot;},&#10;                        address: {type: Type.STRING, description: &quot;Địa chỉ&quot;},&#10;                        dob: {type: Type.STRING, description: &quot;Ngày sinh format YYYY-MM-DD&quot;},&#10;                        avatarUrl: {&#10;                            type: Type.STRING,&#10;                            description: &quot;Use default: https://api.dicebear.com/9.x/notionists/svg?seed=Felix&quot;&#10;                        },&#10;                        gpa: {type: Type.NUMBER, description: &quot;GPA/điểm trung bình&quot;},&#10;                        gpaScale: {type: Type.NUMBER, description: &quot;Thang điểm (thường là 4.0 hoặc 10.0)&quot;},&#10;                        englishLevel: {type: Type.STRING, description: &quot;Trình độ tiếng Anh (IELTS/TOEFL)&quot;},&#10;                        satScore: {type: Type.INTEGER, description: &quot;SAT score nếu có&quot;},&#10;                        targetMajor: {type: Type.STRING, description: &quot;Ngành học mong muốn&quot;},&#10;                        targetCountry: {type: Type.STRING, description: &quot;Quốc gia mong muốn du học&quot;},&#10;                        extracurriculars: {&#10;                            type: Type.ARRAY,&#10;                            items: {&#10;                                type: Type.OBJECT,&#10;                                properties: {&#10;                                    id: {type: Type.STRING},&#10;                                    title: {type: Type.STRING, description: &quot;Tên hoạt động&quot;},&#10;                                    role: {type: Type.STRING, description: &quot;Vai trò&quot;},&#10;                                    year: {type: Type.STRING, description: &quot;Năm tham gia&quot;},&#10;                                    description: {type: Type.STRING, description: &quot;Mô tả chi tiết&quot;}&#10;                                }&#10;                            }&#10;                        },&#10;                        achievements: {&#10;                            type: Type.ARRAY,&#10;                            items: {type: Type.STRING},&#10;                            description: &quot;Danh sách thành tích, giải thưởng&quot;&#10;                        },&#10;                        documents: {&#10;                            type: Type.ARRAY,&#10;                            items: {&#10;                                type: Type.OBJECT,&#10;                                properties: {&#10;                                    id: {type: Type.STRING},&#10;                                    name: {type: Type.STRING},&#10;                                    type: {type: Type.STRING},&#10;                                    uploadDate: {type: Type.STRING},&#10;                                    size: {type: Type.STRING}&#10;                                }&#10;                            },&#10;                            description: &quot;Leave empty array []&quot;&#10;                        }&#10;                    },&#10;                    required: [&quot;id&quot;, &quot;name&quot;, &quot;email&quot;, &quot;phone&quot;, &quot;address&quot;, &quot;dob&quot;, &quot;avatarUrl&quot;, &quot;gpa&quot;, &quot;gpaScale&quot;,&#10;                        &quot;englishLevel&quot;, &quot;targetMajor&quot;, &quot;targetCountry&quot;, &quot;extracurriculars&quot;, &quot;achievements&quot;, &quot;documents&quot;]&#10;                }&#10;            }&#10;        });&#10;&#10;        const jsonText = response.text || &quot;{}&quot;;&#10;        const profile = JSON.parse(jsonText) as StudentProfile;&#10;&#10;        return profile;&#10;&#10;    } catch (error) {&#10;        console.error(&quot;Error scanning CV with Gemini AI:&quot;, error);&#10;        return null;&#10;    }&#10;};&#10;&#10;" />
              <option name="updatedContent" value="import {GoogleGenAI, Type} from &quot;@google/genai&quot;;&#10;import {SwotData, StudentProfile, TestResult, MajorRecommendation} from &quot;../components/types&quot;;&#10;&#10;// Mock data to simulate the &quot;existing profile&quot; context mentioned by the user&#10;export const MOCK_STUDENT_PROFILE: StudentProfile = {&#10;    id: &quot;STU001&quot;,&#10;    name: &quot;Nguyễn Văn A&quot;,&#10;    email: &quot;nguyenvana@email.com&quot;,&#10;    phone: &quot;0123456789&quot;,&#10;    address: &quot;Hà Nội, Việt Nam&quot;,&#10;    dob: &quot;2004-01-15&quot;,&#10;    avatarUrl: &quot;https://api.dicebear.com/9.x/notionists/svg?seed=Felix&quot;,&#10;    gpa: 3.8,&#10;    gpaScale: 4.0,&#10;    englishLevel: &quot;IELTS 7.5&quot;,&#10;    targetMajor: &quot;Computer Science&quot;,&#10;    targetCountry: &quot;Canada&quot;,&#10;    extracurriculars: [&#10;        {&#10;            id: &quot;1&quot;,&#10;            title: &quot;Chủ tịch Câu lạc bộ Lập trình&quot;,&#10;            role: &quot;Chủ tịch&quot;,&#10;            year: &quot;2024&quot;,&#10;            description: &quot;Quản lý 50+ thành viên, tổ chức workshop và hackathon&quot;&#10;        }&#10;    ],&#10;    achievements: [&#10;        &quot;Huy chương Vàng Toán học Quốc tế&quot;,&#10;        &quot;Giải Nhất Hackathon 2024&quot;&#10;    ],&#10;    documents: []&#10;};&#10;&#10;export const generateSwotAnalysis = async (profile: StudentProfile): Promise&lt;SwotData&gt; =&gt; {&#10;    // Check for API key strictly as per guidelines&#10;    const apiKey = process.env.NEXT_PUBLIC_API_KEY;&#10;    if (!apiKey) {&#10;        throw new Error(&quot;API Key is missing. Please provide a valid NEXT_PUBLIC_API_KEY in the environment.&quot;);&#10;    }&#10;&#10;    const ai = new GoogleGenAI({apiKey});&#10;&#10;    const prompt = `&#10;    Phân tích hồ sơ học sinh sau đây cho mục tiêu du học (Ngành: ${profile.targetMajor} tại ${profile.targetCountry}).&#10;    &#10;    Thông tin hồ sơ:&#10;    - GPA: ${profile.gpa}/${profile.gpaScale}&#10;    - Trình độ Tiếng Anh: ${profile.englishLevel}&#10;    - Các hoạt động ngoại khóa: ${profile.extracurriculars.map(e =&gt; e.title).join(&quot;, &quot;)}&#10;    - Các thành tích: ${profile.achievements.join(&quot;, &quot;)}&#10;&#10;    Hãy tạo một bản phân tích SWOT chi tiết và đưa ra lời khuyên chiến lược cụ thể bằng TIẾNG VIỆT.&#10;    Đồng thời đánh giá điểm số (thang 1-100) cho 4 khía cạnh: học thuật, hoạt động ngoại khóa, kỹ năng mềm, và ngoại ngữ dựa trên hồ sơ này.&#10;  `;&#10;&#10;    const response = await ai.models.generateContent({&#10;        model: &quot;gemini-2.5-flash&quot;,&#10;        contents: prompt,&#10;        config: {&#10;            responseMimeType: &quot;application/json&quot;,&#10;            responseSchema: {&#10;                type: Type.OBJECT,&#10;                properties: {&#10;                    strengths: {&#10;                        type: Type.ARRAY,&#10;                        items: {type: Type.STRING},&#10;                        description: &quot;Danh sách 3-5 điểm mạnh nội tại nổi bật (Tiếng Việt).&quot;&#10;                    },&#10;                    weaknesses: {&#10;                        type: Type.ARRAY,&#10;                        items: {type: Type.STRING},&#10;                        description: &quot;Danh sách 3-5 điểm yếu hoặc lĩnh vực cần cải thiện (Tiếng Việt).&quot;&#10;                    },&#10;                    opportunities: {&#10;                        type: Type.ARRAY,&#10;                        items: {type: Type.STRING},&#10;                        description: &quot;Các cơ hội bên ngoài phù hợp với ngành học và quốc gia mục tiêu (Tiếng Việt).&quot;&#10;                    },&#10;                    threats: {&#10;                        type: Type.ARRAY,&#10;                        items: {type: Type.STRING},&#10;                        description: &quot;Các thách thức bên ngoài như cạnh tranh, visa, văn hóa (Tiếng Việt).&quot;&#10;                    },&#10;                    strategicAdvice: {&#10;                        type: Type.ARRAY,&#10;                        items: {&#10;                            type: Type.OBJECT,&#10;                            properties: {&#10;                                title: {type: Type.STRING, description: &quot;Tiêu đề chiến lược ngắn gọn (Tiếng Việt)&quot;},&#10;                                description: {&#10;                                    type: Type.STRING,&#10;                                    description: &quot;Mô tả chi tiết hành động cần làm (Tiếng Việt)&quot;&#10;                                }&#10;                            }&#10;                        },&#10;                        description: &quot;3 bước chiến lược hành động cụ thể.&quot;&#10;                    },&#10;                    scores: {&#10;                        type: Type.OBJECT,&#10;                        properties: {&#10;                            academic: {type: Type.INTEGER},&#10;                            extracurricular: {type: Type.INTEGER},&#10;                            skills: {type: Type.INTEGER},&#10;                            language: {type: Type.INTEGER}&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    });&#10;&#10;    if (response.text) {&#10;        return JSON.parse(response.text) as SwotData;&#10;    }&#10;&#10;    throw new Error(&quot;Failed to generate analysis.&quot;);&#10;};&#10;&#10;// Major recommendations function - based purely on personality test results&#10;export const getMajorRecommendations = async (&#10;    testResult: TestResult&#10;): Promise&lt;MajorRecommendation[]&gt; =&gt; {&#10;    // Check for API key&#10;    const apiKey = process.env.NEXT_PUBLIC_API_KEY;&#10;    if (!apiKey) {&#10;        throw new Error(&quot;API Key is missing. Please provide a valid NEXT_PUBLIC_API_KEY in the environment.&quot;);&#10;    }&#10;&#10;    const ai = new GoogleGenAI({apiKey});&#10;    const model = &quot;gemini-2.5-flash&quot;;&#10;&#10;    // Construct a prompt context focused on personality-major matching&#10;    const context = `&#10;    Bạn là chuyên gia tư vấn định hướng nghề nghiệp chuyên nghiệp.&#10;    &#10;    Kết quả kiểm tra tính cách của học sinh:&#10;    - Loại test: ${testResult.type}&#10;    - Kết quả: ${testResult.rawLabel || &quot;N/A&quot;}&#10;    - Điểm số chi tiết: ${JSON.stringify(testResult.scores)}&#10;    - Mô tả: ${testResult.description || &quot;N/A&quot;}&#10;    &#10;    Nhiệm vụ:&#10;    Dựa HOÀN TOÀN vào kết quả test tính cách này, hãy đề xuất 5 ngành học phù hợp nhất.&#10;    &#10;    Yêu cầu:&#10;    - KHÔNG phụ thuộc vào ngành học hay quốc gia mong muốn trước đó&#10;    - Phân tích sâu về tính cách và đưa ra lý do cụ thể tại sao ngành học phù hợp&#10;    - Đề xuất các con đường sự nghiệp cụ thể&#10;    - Liệt kê kỹ năng cần thiết&#10;    - Đánh giá độ phù hợp (%)&#10;    - Trả lời bằng TIẾNG VIỆT&#10;    &#10;    Ví dụ phân tích:&#10;    - Với MBTI INTJ: Phù hợp với Computer Science vì thích hệ thống, logic, giải quyết vấn đề phức tạp&#10;    - Với RIASEC cao về I (Investigative): Phù hợp với nghiên cứu khoa học, phân tích dữ liệu&#10;    - Với Grit cao: Phù hợp với các ngành đòi hỏi kiên trì như Y khoa, Luật, Nghiên cứu&#10;  `;&#10;&#10;    try {&#10;        const response = await ai.models.generateContent({&#10;            model: model,&#10;            contents: context,&#10;            config: {&#10;                responseMimeType: &quot;application/json&quot;,&#10;                responseSchema: {&#10;                    type: Type.ARRAY,&#10;                    items: {&#10;                        type: Type.OBJECT,&#10;                        properties: {&#10;                            name: {&#10;                                type: Type.STRING,&#10;                                description: &quot;Tên ngành học bằng tiếng Việt&quot;&#10;                            },&#10;                            category: {&#10;                                type: Type.STRING,&#10;                                description: &quot;Phân loại: STEM, Nghệ thuật, Kinh doanh, Nhân văn, Khoa học xã hội, v.v.&quot;&#10;                            },&#10;                            matchReason: {&#10;                                type: Type.STRING,&#10;                                description: &quot;Lý do cụ thể tại sao ngành này phù hợp với tính cách (150-200 từ)&quot;&#10;                            },&#10;                            careerPaths: {&#10;                                type: Type.ARRAY,&#10;                                items: {type: Type.STRING},&#10;                                description: &quot;3-5 con đường sự nghiệp cụ thể&quot;&#10;                            },&#10;                            requiredSkills: {&#10;                                type: Type.ARRAY,&#10;                                items: {type: Type.STRING},&#10;                                description: &quot;4-6 kỹ năng quan trọng cần có&quot;&#10;                            },&#10;                            matchPercentage: {&#10;                                type: Type.INTEGER,&#10;                                description: &quot;Độ phù hợp từ 0-100&quot;&#10;                            }&#10;                        },&#10;                        required: [&quot;name&quot;, &quot;category&quot;, &quot;matchReason&quot;, &quot;careerPaths&quot;, &quot;requiredSkills&quot;, &quot;matchPercentage&quot;]&#10;                    }&#10;                }&#10;            }&#10;        });&#10;&#10;        const jsonText = response.text || &quot;[]&quot;;&#10;        const recommendations = JSON.parse(jsonText) as MajorRecommendation[];&#10;&#10;        // Sort by matchPercentage descending&#10;        return recommendations.sort((a, b) =&gt; b.matchPercentage - a.matchPercentage);&#10;&#10;    } catch (error) {&#10;        console.error(&quot;Error fetching major recommendations from Gemini:&quot;, error);&#10;        return [];&#10;    }&#10;};&#10;&#10;// CV Scanning with AI&#10;export const scanCVWithAI = async (cvText: string): Promise&lt;StudentProfile | null&gt; =&gt; {&#10;    // Check for API key&#10;    const apiKey = process.env.NEXT_PUBLIC_API_KEY;&#10;    if (!apiKey) {&#10;        throw new Error(&quot;API Key is missing. Please provide a valid NEXT_PUBLIC_API_KEY in the environment.&quot;);&#10;    }&#10;&#10;    const ai = new GoogleGenAI({apiKey});&#10;    const model = &quot;gemini-2.5-flash&quot;;&#10;&#10;    const context = `&#10;    Bạn là một AI chuyên trích xuất thông tin từ CV/Resume.&#10;    &#10;    Nội dung CV:&#10;    ${cvText}&#10;    &#10;    Nhiệm vụ:&#10;    Hãy phân tích và trích xuất TẤT CẢ thông tin có trong CV để tạo profile hoàn chỉnh.&#10;    &#10;    Yêu cầu:&#10;    - Trích xuất chính xác thông tin cá nhân, học vấn, kinh nghiệm, kỹ năng&#10;    - Tự động điền thông tin còn thiếu bằng giá trị hợp lý&#10;    - Tạo ID ngẫu nhiên&#10;    - Phân tích và tạo danh sách extracurriculars từ kinh nghiệm/hoạt động&#10;    - Trích xuất achievements từ giải thưởng, chứng chỉ&#10;    - Trả về JSON đầy đủ theo schema&#10;  `;&#10;&#10;    try {&#10;        const response = await ai.models.generateContent({&#10;            model: model,&#10;            contents: context,&#10;            config: {&#10;                responseMimeType: &quot;application/json&quot;,&#10;                responseSchema: {&#10;                    type: Type.OBJECT,&#10;                    properties: {&#10;                        id: {type: Type.STRING, description: &quot;Generate random ID like 'STU' + 6 digits&quot;},&#10;                        name: {type: Type.STRING, description: &quot;Họ và tên đầy đủ&quot;},&#10;                        email: {type: Type.STRING, description: &quot;Email&quot;},&#10;                        phone: {type: Type.STRING, description: &quot;Số điện thoại&quot;},&#10;                        address: {type: Type.STRING, description: &quot;Địa chỉ&quot;},&#10;                        dob: {type: Type.STRING, description: &quot;Ngày sinh format YYYY-MM-DD&quot;},&#10;                        avatarUrl: {&#10;                            type: Type.STRING,&#10;                            description: &quot;Use default: https://api.dicebear.com/9.x/notionists/svg?seed=Felix&quot;&#10;                        },&#10;                        gpa: {type: Type.NUMBER, description: &quot;GPA/điểm trung bình&quot;},&#10;                        gpaScale: {type: Type.NUMBER, description: &quot;Thang điểm (thường là 4.0 hoặc 10.0)&quot;},&#10;                        englishLevel: {type: Type.STRING, description: &quot;Trình độ tiếng Anh (IELTS/TOEFL)&quot;},&#10;                        satScore: {type: Type.INTEGER, description: &quot;SAT score nếu có&quot;},&#10;                        targetMajor: {type: Type.STRING, description: &quot;Ngành học mong muốn&quot;},&#10;                        targetCountry: {type: Type.STRING, description: &quot;Quốc gia mong muốn du học&quot;},&#10;                        extracurriculars: {&#10;                            type: Type.ARRAY,&#10;                            items: {&#10;                                type: Type.OBJECT,&#10;                                properties: {&#10;                                    id: {type: Type.STRING},&#10;                                    title: {type: Type.STRING, description: &quot;Tên hoạt động&quot;},&#10;                                    role: {type: Type.STRING, description: &quot;Vai trò&quot;},&#10;                                    year: {type: Type.STRING, description: &quot;Năm tham gia&quot;},&#10;                                    description: {type: Type.STRING, description: &quot;Mô tả chi tiết&quot;}&#10;                                }&#10;                            }&#10;                        },&#10;                        achievements: {&#10;                            type: Type.ARRAY,&#10;                            items: {type: Type.STRING},&#10;                            description: &quot;Danh sách thành tích, giải thưởng&quot;&#10;                        },&#10;                        documents: {&#10;                            type: Type.ARRAY,&#10;                            items: {&#10;                                type: Type.OBJECT,&#10;                                properties: {&#10;                                    id: {type: Type.STRING},&#10;                                    name: {type: Type.STRING},&#10;                                    type: {type: Type.STRING},&#10;                                    uploadDate: {type: Type.STRING},&#10;                                    size: {type: Type.STRING}&#10;                                }&#10;                            },&#10;                            description: &quot;Leave empty array []&quot;&#10;                        }&#10;                    },&#10;                    required: [&quot;id&quot;, &quot;name&quot;, &quot;email&quot;, &quot;phone&quot;, &quot;address&quot;, &quot;dob&quot;, &quot;avatarUrl&quot;, &quot;gpa&quot;, &quot;gpaScale&quot;,&#10;                        &quot;englishLevel&quot;, &quot;targetMajor&quot;, &quot;targetCountry&quot;, &quot;extracurriculars&quot;, &quot;achievements&quot;, &quot;documents&quot;]&#10;                }&#10;            }&#10;        });&#10;&#10;        const jsonText = response.text || &quot;{}&quot;;&#10;        const profile = JSON.parse(jsonText) as StudentProfile;&#10;&#10;        return profile;&#10;&#10;    } catch (error) {&#10;        console.error(&quot;Error scanning CV with Gemini AI:&quot;, error);&#10;        return null;&#10;    }&#10;};&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>